<!--
  $Id: vile-hlp.html,v 1.71 2013/07/07 23:13:40 tom Exp $
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">

  <title>Getting along with vile (version 9.8)</title>
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii">
  <link rev="made" href="mailto:dickey@invisible-island.net">
  <link rel="SHORTCUT ICON" href="/img/icons/vile.ico" type=
  "image/x-icon">
  <link rel="stylesheet" href="/css/simplestyle.css" type=
  "text/css">
  <link rel="stylesheet" href="/css/inline-code.css" type=
  "text/css">
</head>

<body>
  <hr>

  <p><a href=
  "http://invisible-island.net/">http://invisible-island.net/</a><a href="http://invisible-island.net/vile/">vile/</a><a href="http://invisible-island.net/vile/vile-toc.html">vile-toc</a><br>
  </p>
  <hr>

  <h1 id="toplevel-id">Getting along with vile</h1>

  <p>Use Ctrl-D and Ctrl-U to scroll through this help
  information.</p>

  <p>Type Ctrl-O to make this the only window on the screen. Type
  Ctrl-K to get rid of this window.</p>

  <p>First, to leave vile, use any of the following:</p>

  <dl>
    <dt>:q</dt>

    <dt>:quit</dt>

    <dt>:exit</dt>

    <dt>:wq</dt>

    <dd>(writes current buffer before quitting)</dd>

    <dt>:q!</dt>

    <dd>(quits without writing any changes!)</dd>

    <dt>Q</dt>

    <dt>:wwq or ZZ</dt>

    <dd>(will write all changed buffers)</dd>

    <dt>^X-^C</dt>

    <dd>(don't know why. <em>They</em> don't put in ":q" for
    <em>us</em>! Actually, if ^C is your interrupt character, this
    won't get you out of vile.)</dd>
  </dl>

  <p>To get help (probably just this text), use any of:</p>

  <blockquote>
    <p>:h<br>
    :help<br>
    ^X-h<br>
    ^A-h<br></p>
  </blockquote>

  <p>The only vile commands described herein are those not present
  in vi, or differing greatly from those in vi. There is a section
  at the bottom describing other differences between vile and
  vi.</p>

  <p>To get a complete list of all commands, type ":show-commands".
  To get a list of all commands that contain the string "name",
  type ":apropos name". These lists will show all command synonyms
  and key sequences that are bound to the same function, along with
  a short description of the command, and whether it is a motion or
  operator command.</p>

  <p>For a list of motions, type ":describe-motions". Likewise, you
  can see a list of operators by typing ":describe-operators".</p>

  <p>To get information on a specific key-binding or function, use
  the "describe-key" or "describe-function" commands. You will be
  asked for a keystroke or function name, and a short description
  will be shown.</p>

  <p>You needn't type full command names -- type a few characters
  and hit TAB to perform command completion. Hitting a second TAB
  will pop up a window containing the list of possible
  completions.</p>

  <p>If your screen hops around a lot when you scroll, see the
  <a href="#term-scrolling">"Note on Scrolling"</a> section near
  the bottom of this file.</p>

  <h2 id="general2"><a name="general" id="general">General
  Remarks</a></h2>

  <p>vile holds text in "buffers". Usually, these correspond to a
  file that you are editing, but not always. For instance, a buffer
  might be used to display this help text, or to hold the output of
  a shell command that you have run. Buffers have names, and these
  usually match the names of the files they contain.</p>

  <p>Buffers are sometimes displayed in windows. A buffer may be
  displayed in more than one window at the same time. There is no
  such thing as a hidden window. All existing windows are on the
  screen. There may, however, be hidden buffers, which are not
  currently associated with any window.</p>

  <p>All yank/delete registers (the default unnamed register, the
  numbered registers ("1-9") that hold line-deletes, and the named
  registers ("a-z")) are global to the editor, and not attached to
  any single buffer. Thus you can delete text in one buffer and put
  it back in another.</p>

  <p>Undo operations are attached to a buffer, not a window. Thus
  if you have two windows to the same buffer, and make a change in
  one, you can undo it in the other.</p>

  <p>vile supports many, many "modes" (aka options), which are
  thoroughly explained in the section entitled "Editor modes". But
  do note that this help file makes references to modes before the
  concept is fully described. It's a chicken and egg
  problem....</p>

  <p>vile is 8-bit clean, allowing it to be used more easily at
  non- English speaking sites. See the section on <a href=
  "#eightbit-ops">"8-Bit Operation"</a> for more information.</p>

  <h2 id="cmd-prefixes2"><a name="cmd-prefixes" id=
  "cmd-prefixes">Command Prefixes</a></h2>

  <p>To extend the vi command set in vile, two (or three, depending
  on how you count them) command "prefixes" exist. These
  keystrokes, in combination with another key, can be bound as a
  pair to execute any vile function. The default values for these
  prefixes are</p>

  <table border="1" summary="Command Prefixes">
    <colgroup>
      <col width="50%">
      <col width="50%">
    </colgroup>

    <tr>
      <th>Key:</th>

      <th>Bound to dummy function:</th>
    </tr>

    <tr>
      <td>^X Control-X</td>

      <td>cntl_x-prefix</td>
    </tr>

    <tr>
      <td>^A Control-A</td>

      <td>cntl_a-prefix</td>
    </tr>

    <tr>
      <td># poundsign</td>

      <td>function-prefix</td>
    </tr>
  </table>

  <p>If you find any of these keys hard to type, or would prefer
  that they are all control characters (or all non-control), they
  can be changed by binding a new key to the function listed above.
  See the section on <a href="#key-rebinding">"Key Rebinding"</a>
  below. If you do change the values of these keys, most of vile's
  informational displays (the Binding List, for instance) will
  reflect these changes. This documentation, of course, will not
  change.</p>

  <p>(The '#' key is used in vi to give terminal independent access
  to function key bindings. This is also true in vile -- if
  something is bound to '#2', then it is also probably available
  with key F2 on your keyboard.)</p>

  <h2 id="buffer-manipulation2"><a name="buffer-manipulation" id=
  "buffer-manipulation">Buffer manipulation commands</a></h2>

  <p>vile stores buffers in a sorted list. Depending on the setting
  of the "autobuffer" mode, this list is either sorted in
  "most-recently-used" order (this is the vile default), or in a
  fixed order dependent on the order of editing (this is how vi
  normally does it, and can be attained by turning "autobuffer"
  off, with "set noautobuffer").</p>

  <dl>
    <dt>_</dt>

    <dd>
      Show a list of the first 9 buffers. Follow this command with
      a digit to select that buffer, or simply repeat it ("__") to
      select the buffer most-recently visited. In autobuffer mode,
      this is identical to "_1". If autobuffer mode is off, the
      buffer which will be visited with "__" is flagged with a '#'
      character in the list. Modified buffers are preceded by a '*'
      in the history list. There are many different ways to get the
      previous file:

      <dl>
        <dt>__</dt>

        <dt>_1</dt>

        <dd>(autobuffer mode on)</dd>

        <dt>1_</dt>

        <dd>(autobuffer mode on)</dd>

        <dt>:e#</dt>

        <dt>^^ (ctrl-^)</dt>

        <dd>(but many keyboards can't produce this)</dd>
      </dl>

      <p>The buffer number may also precede the '_' command. This
      is necessary when visiting buffers numbered higher than '9'.
      For example, one would type "13_" to visit buffer 13 in the
      list.</p>

      <p>Use tab (or back-tab if supported) to scroll the list of 9
      buffers right/left. Pressing '_' will select the first listed
      buffer; the 1-9 digits also work as expected when the list is
      scrolled.</p>

      <p>[ See the note under <a href="#not-vi">"Differences"</a>,
      below, for comments on vi's use of '_'.]</p>
    </dd>

    <dt>:e</dt>

    <dd>Edit a file. If the file is already in a buffer, that
    buffer will be recalled into the current window. This occurs as
    follows: If the name given contains no path delimiters (i.e.
    slashes), then it will be compared to the existing vile buffer
    names. Failing that comparison (or if there are any slashes in
    the name), the name will be stretched into an absolute path,
    and will be compared to the existing buffers' filenames. In
    either case, the matching buffer will be chosen. If there are
    no such matches, the file will be fetched from the filesystem.
    This matching technique introduces an ambiguity, since buffer
    names are created from the last path component of filenames. To
    force vile to edit a file from the current directory whose
    basename matches that of one that was edited elsewhere, simply
    preface the name with "./". For example, if you edit
    "../Makefile" and later attempt to edit "Makefile", vile will
    assume you are referring to the <i>buffer</i> named "Makefile".
    To get the file in the current directory, specify
    "./Makefile".</dd>

    <dt>:e!</dt>

    <dd>Re-edit a file. A different filename can be given, and the
    buffer name will change to match it. This command is not as
    necessary in vile as it is in vi, since multiple buffers may
    have outstanding unwritten changes.</dd>

    <dt>^X-_</dt>

    <dd>
      Identical to '_', except that the selected buffer is placed
      in the current window (windows are described in the next help
      topic). This is most useful when:

      <ul>
        <li>two windows show a different view of the same buffer
        (for illustration's sake, call the views "A" and "B").</li>

        <li>:e is used to open a new buffer (call this view "C"),
        which obscures "A".</li>

        <li>eventually, you decide to return to "A" and "B".</li>
      </ul>

      <p>^X-_1 does the trick (reverts to views "A" and "B"), but
      _1 simply moves the cursor into B's window, retaining views
      "C" and "B".</p>
    </dd>

    <dt>:n</dt>

    <dd>Go to the next buffer. "Next" means "least recently used"
    in autobuffer mode. In noautobuffer mode, "next" means next in
    numeric sequence. (The ":n file ..." version of the command is
    not supported.)</dd>

    <dt>:rename-buffer</dt>

    <dd>Rename the current buffer. Prompts for a new name. Does not
    affect the filename associated with the buffer. Use ":f" to do
    that. This command is useful for renaming the "[Output]"
    buffer, if you wish to preserve its contents, but run a new
    command.</dd>

    <dt>:set-window</dt>

    <dd>Set the current window to the specified buffer. This is
    useful especially when you have split the screen into a number
    of windows and want to override the automatic layout of "#" and
    "%" buffers.</dd>

    <dt>:rewind</dt>

    <dd>Go to the first buffer. This is used only in 'noautobuffer'
    (vi-style buffering) mode. It does nothing in "autobuffer"
    mode. Remember that "autobuffer" mode is the default.</dd>

    <dt>:unmark-buffer</dt>

    <dd>Clears the "modified" status of a buffer. Useful for the
    creation of temporary buffer(s) that are discarded when the
    editor exits.</dd>

    <dt>:b</dt>

    <dd>Edit a buffer. Recalls the named buffer. Does not look for
    a file of that name. Will find "invisible" buffers.</dd>

    <dt>:ki</dt>

    <dd>Kill a buffer. Remove the buffer and its contents from the
    editor. Will ask if changes to the buffer should be discarded.
    Multiple buffer names may be specified via wildcards (e.g., :ki
    *.log) and individual buffer names may be selected via name
    completion (using the same conventions as in filename
    completion, described below).</dd>

    <dt>^X-e</dt>

    <dd>Edit the file whose pathname appears under the cursor. For
    example, if you are editing a makefile, you could edit one of
    the source files by placing the cursor at the start of its name
    and using this command. Note that this does not know about some
    characters that your shell might usually translate for you,
    like the '$' in '$HOME'.</dd>

    <dt>^X-k</dt>

    <dd>Kill the buffer whose name or filename appears under the
    cursor.</dd>

    <dt>*</dt>

    <dd>Display a list of all buffers, or make that display go away
    if it's already present. Leave your finger on the key, and it's
    easy to create and destroy the list. The buffers are numbered;
    the numbers correspond to the history numbers shown and used by
    the '_' command, described above. (If the buffer number is
    greater than 9, then the "nn_" form of the '_' command must be
    used, since '_' will only accept a single following digit.) The
    order of the list is either most-recently-used, or fixed,
    depending on the setting of "autobuffer" mode (see <a href=
    "#mode-autobuffer">below</a>). vile attempts to keep the
    contents of the buffer list window up to date if it is left up
    on the screen while other buffer manipulation commands are
    given.</dd>

    <dt>^A-*</dt>

    <dd>Always display a list of all buffers. Useful for updating
    the list if it's already on the screen but may be out of date.
    Any argument will cause the list to include <i>all</i> buffers,
    even those normally considered "invisible". (For example,
    macros are stored in "invisible" buffers.) [This command isn't
    as necessary now that the buffer list is maintained
    dynamically...]</dd>
  </dl>

  <h2 id="window-manipulation2"><a name="window-manipulation" id=
  "window-manipulation">Window manipulation commands</a></h2>

  <dl>
    <dt>^X-2</dt>

    <dd>Make Two windows. Splits the current window in half. This
    is the usual way to create a new window.</dd>

    <dt>^K or ^X-0</dt>

    <dd>Get rid of (Kill) this window.</dd>

    <dt>^O or ^X-1</dt>

    <dd>Make this the Only window on the screen.</dd>

    <dt>^X-o</dt>

    <dd>Move to the next window.</dd>

    <dt>^X-O</dt>

    <dd>Move to the previous window.</dd>

    <dt>v</dt>

    <dd>Make the current window smaller.</dd>

    <dt>V</dt>

    <dd>Make the current window larger.</dd>

    <dt>^A-^D</dt>

    <dd>Scroll the next window down half a screen.</dd>

    <dt>^A-^U</dt>

    <dd>Scroll the next window up half a screen.</dd>

    <dt>^A-^E</dt>

    <dd>Scroll the next window up one line.</dd>

    <dt>^A-^Y</dt>

    <dd>
      Scroll the next window down one line.

      <p>(The previous four commands are useful when comparing two
      buffers. Mnemonic &ndash; think of them as affecting the
      "A"lternate window.)</p>
    </dd>

    <dt>zH zM zL</dt>

    <dt>zt zm zb</dt>

    <dd>These are synonyms for vi's 'z+', 'z.', and 'z-', which
    position the line holding the cursor at the top, middle, or
    bottom of the screen, respectively. (Any of the second
    characters can be upper or lower case.) Mnemonically, these
    correspond to the H, M, and L screen positioning commands, or
    to "top", "middle", or "bottom" &ndash; take your choice. In a
    macro, only the first character of the argument is significant,
    but something like "position-window middle" is most readable.
    Supplying a count will offset that far from the top or bottom
    of window. (But the middle is always the middle.)</dd>

    <dt>^X-^R</dt>

    <dt>^X-^L</dt>

    <dd>Scroll the window right or left by 1/3 of a screen, or by
    the number of columns specified. Changes the "sideways" value.
    Neither of these commands will actually move the cursor in the
    buffer &ndash; they only reframe your view into the buffer. If
    the cursor would be forced to move off-screen (which is of
    course impossible and undesirable) as a result of the requested
    sideways scroll, then nothing at all will happen. The commands
    are arguably crippled as is.</dd>
  </dl>

  <p>If for some reason you can't get your screen set right via a
  TERM variable, try the ":screen-rows" or ":screen-columns"
  commands (which take their args (number of rows or columns
  respectively) before you type the ":").</p>

  <p>[ I put the following bindings in my startup file
  (.vilerc):</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">split-current-window</span>&nbsp;<span class=
    "literal">^T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;split&nbsp;into&nbsp;'T'wo&nbsp;windows</span><br>

    <span class="keyword">bind-key</span>&nbsp;<span class=
    "keyword">next-window</span>&nbsp;<span class=
    "literal">^N</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;'N'ext&nbsp;window</span><br>

    <span class="keyword">bind-key</span>&nbsp;<span class=
    "keyword">previous-window</span>&nbsp;<span class=
    "literal">^P</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;'P'revious&nbsp;window</span><br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>Since ^K already 'K'ills a window, and ^O makes it the 'O'nly
  window, these give more mnemonic, and faster, access to multiple
  windows. (These would be the default, but ^N, ^P, and ^T have
  other meanings in real vi (all of which have alternate bindings
  in vile.) ]</p>

  <h2 id="file-manipulation2"><a name="file-manipulation" id=
  "file-manipulation">File manipulation commands</a>:</h2>

  <p>The usual ":e", ":r", ":f", ":w" commands are available,
  though only ":e!" and ":w!" are available of the "!" options. The
  command ":w &gt;&gt; filename" appends one file to another. The
  ":r" command reads the named file in after the current line. To
  read a file before the first line, use ":0r". File completion
  works like command completion: using the TAB and '?' keys you can
  complete or see next character choices. Additionally, on unix
  hosts, backquotes may be used to invoke a shell command that
  returns the path of a desired file. For example:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">:<span class=
    "keyword">e</span><span class=
    "literal">&nbsp;`which&nbsp;locks`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;csh&nbsp;looks&nbsp;for&nbsp;script&nbsp;called&nbsp;"locks"</span><br>

    :<span class="keyword">e</span><span class=
    "literal">&nbsp;`type&nbsp;-path&nbsp;locks`&nbsp;&nbsp;;&nbsp;bash&nbsp;equivalent</span><br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>The commands ":ww" and ":wwq" correspond roughly to ":w" and
  ":wq", but they each write all modified buffers, rather than just
  the current one. Giving any numeric argument to ":ww" (i.e.
  "1:ww") will suppress the per-file and "Press return to continue"
  message. This may be useful when using the command from within a
  macro.</p>

  <p>The write-all-buffers command attempts to write all buffers
  whether marked "modified" or not.</p>

  <p>As in vi, ranges of lines specified by line numbers (including
  '.', '$', and '%' shorthands) or marks may precede these
  commands. Unlike vi, search patterns cannot be used as line
  specifiers.</p>

  <p>In addition, two non-"colon" commands have been added:</p>

  <dl>
    <dt>^R</dt>

    <dd>Prompts for a filename, and then reads it in <i>above</i>
    the current line. If a register is specified (e.g., "a^R ), the
    file is read into that named register, but not inserted into
    the current buffer.</dd>

    <dt>^W</dt>

    <dd>
      is a writing operator, which prompts for a filename, and
      writes the specified region to that file. Like all operators,
      if the command is repeated, as in ^W^W, then lines are
      affected. Use 10^W^W to write 10 lines.

      <p>If a register is specified (e.g. "a^W ) then the command
      is <i>not</i> an operator, but writes the specified register
      to the named file.</p>
    </dd>
  </dl>

  <h2 id="shell-access2"><a name="shell-access" id=
  "shell-access">Shell Access</a></h2>

  <p>Anywhere a filename is valid, a command name is also valid,
  entered in the form "!shell-command". The whole line is handed to
  the shell, and the read or write operation is done on the
  commands standard input or output, as appropriate. Thus you can
  type ":e !date" to edit a copy of today's date.</p>

  <p>The ": !cmd" shell escape works pretty much as it does in vi.
  The command ":!!" will rerun the previous such shell command.</p>

  <p>The '!' operator works as a filter, as expected.</p>

  <p>In addition, the ^X-! command runs a shell command and
  captures its output in a specific buffer, called "[Output]". This
  is almost identical to ":e !cmd", except that in that case the
  buffer is named according to the command name.</p>

  <p>These "output capture" commands are most useful in conjunction
  with the "error finder", '^X-^X', described below.</p>

  <p>Filename completion is performed on words of the shell command
  in response to a TAB character. To actually include a TAB
  character in the shell command, escape it with ^V. Command
  completion is not currently implemented &ndash; so, for instance,
  $PATH is not searched for possible completions to the first word
  of a command line.</p>

  <p>On systems supporting job control, ^Z (or ":stop") will
  suspend vile.</p>

  <p>The "set-environment-variable" (or "setenv") command can be
  used to export new or changed environment values to spawned
  programs. (Note that this might or might not affect the operation
  of vile features that are themselves controlled by environment
  variables, since those variables may only be checked once at the
  time that vile is started.)</p>

  <p>The :cd and :pwd commands are of course supported. Unlike vi,
  filenames will track their directory of origin, so you can't
  simply edit a file in one directory, cd to another, and write it.
  You must explicitly write to ./filename in the new directory to
  accomplish this. ":cd -" will return to the previous directory,
  as it does in some shells. The CDPATH environment variable
  provides a search path for the :cd command. This variable's path
  delimiters are host-specific, as follows:</p>

  <table border="1" summary="Path Delimiters">
    <colgroup>
      <col width="50%">
      <col width="50%">
    </colgroup>

    <tr>
      <td>Unix</td>

      <td>colon</td>
    </tr>

    <tr>
      <td>DOS, OS/2, Win32</td>

      <td>semicolon</td>
    </tr>

    <tr>
      <td>VMS</td>

      <td>comma</td>
    </tr>
  </table>

  <p>Giving an argument to the ": !" (also called "shell-command"
  when writing macros) will suppress the "Press return to continue"
  message after the command runs.</p>

  <p>Additional shell-related features are described in the section
  of this help file entitled "Working in a project hierarchy".</p>

  <h2 id="text-manipulation2"><a name="text-manipulation" id=
  "text-manipulation">Text manipulation command</a>:</h2>

  <p>Remember, these are only the new or different commands. The
  standard vi set should still work.</p>

  <p>The vi "global" (":g") command is present. So is the
  "substitute" (":s") command. These both look pretty different
  while they're being used than they do in vi, due to the
  interactive nature of the prompting. And, since the searching is
  done right after the pattern is entered, there may be a slight
  delay while you're trying to finish typing your complete command.
  (If the pattern does not exist, you may not get to finish typing
  your command at all.) You can use the commands just as you would
  have in vi, i.e. ":g/oldpat/s//newstring/" will work. But you
  won't see any of the '/' characters. Try it&ndash; you'll get the
  idea. Line ranges are not possible on ":g", but they are on
  ":s".</p>

  <p>The ":g" command can be followed by any of the "global
  command" modifiers. Use ":describe-globals" to see the whole
  list, or simply use name-completion. These are the most commonly
  used:</p>

  <ul>
    <li>l (list),</li>

    <li>p (print),</li>

    <li>pp (print with buffer name and line number),</li>

    <li>&lt; (left shift),</li>

    <li>&gt; (right shift),</li>

    <li>r (read file),</li>

    <li>d (delete),</li>

    <li>L (lower case),</li>

    <li>U (upper case),</li>

    <li>~ (flip case),</li>

    <li>put (append yanked text),</li>

    <li>Put (prepend yanked text),</li>

    <li>s (substitute),</li>

    <li>trim (trim trailing whitespace).</li>
  </ul>

  <p>For example, ":g/pattern/Put" will insert the contents of the
  default yank register just above every line containing "pattern".
  The ":g" command can only be used over the entire file &ndash;
  smaller regions are not permitted.</p>

  <p>The ":v" counterpart to ":g" is also implemented &ndash; it
  performs the given command on all lines that don't match the
  given pattern.</p>

  <p>The substitute command can be followed by any of 'g', a digit,
  or 'p', to do the substitution for all occurrences, the n'th
  occurrence, or to print the resulting line respectively. You can
  also add a 'c', and you will be asked to confirm each replacement
  before it occurs. The text being replaced will be highlighted,
  and you can answer with 'y', 'n', 'q', or 'a'. 'a' will suppress
  further prompting, and will do the rest of the replacements.</p>

  <p>The ":&amp;" and '&amp;' commands work much as they do in vi,
  and repeat the last substitution. The '^A-&amp;' command is a new
  operator (see <a href="#operators">below</a>), so it can work on
  regions: for example use '^A-&amp;}' to "repeat the previous
  substitution over the rest of this paragraph".</p>

  <p>The named marks such as "'a" work as they do in vi. vile
  allows a decimal digit as a mark. It also recognizes special
  marks for the beginning and end of a selection: '&lt; for the
  beginning and '&gt; for the end (see the discussion of the
  <a href="#quoted-motion">quoted motion command</a>).</p>

  <h3 id="infinite-undo2"><a name="infinite-undo" id=
  "infinite-undo">Infinite Undo</a></h3>

  <p>The regular undo ('u') and line-undo ('U') are available for
  all commands. They are a little more predictable than their vi
  counterparts, since they do not share the default yank register
  for their operation. Also, line-undo ('U') is available until the
  next change anywhere in the file, rather than until you leave the
  line.</p>

  <p>vile also lets you undo all changes made to a buffer since it
  was first edited (so-called "infinite undo"). The '^X-u' command
  will undo changes, one by one (or given a count, several at a
  time). The '^X-r' command will walk forward, redoing the
  previously undone changes one by one. A fresh change to the
  buffer will cause previously undone changes to no longer be
  redoable. Remember that with key rebinding, you can change your
  'u' or 'U' command to be an infinite undo, making it easier to
  type.</p>

  <p>In addition, the '.' command, which normally re-executes the
  last buffer-modifying command, has special behavior with respect
  to undo. If the '.' command immediately follows one of the undo
  commands ('u', '^X-u', or '^X-r'), then it will perform another
  undo or redo, as appropriate. If there are any intervening
  commands, then '.' will re-execute the last command prior to the
  undo. [ This modification to the behavior of "u." does not
  conflict (much) with traditional use of '.', since by definition,
  the sequence "u." is (almost) always identical to "uu", and the
  latter is more easily typed. (Credit goes to the designers of
  "nvi" for this trick.) (BTW, the one case i know of where "u." is
  not identical to "uu" is when putting back the contents of the
  numbered registers: the sequence "1pu.u.u.u. would successively
  insert the contents of "1, "2, "3, "4, and "5, allowing you to
  choose the "correct" register. This sequence no longer works. You
  can still put them <i>all</i> back with "1p..... ("1p for screen)
  and then delete the ones you <i>don't</i> want. ]</p>

  <p>The number of changes stored in the undo "history" is
  controlled by the numeric mode "undolimit". The default history
  length is 10 &ndash; that is, only 10 changes may be undone. Set
  the undolimit to 0 for truly infinite undo. This can consume a
  lot of memory. You can turn it completely off (and purge the undo
  stack) by setting noundoable.</p>

  <p>The cursor position after an undo may not always be the same
  as it would be in vi.</p>

  <h3 id="operators2"><a name="operators" id=
  "operators">Operators</a></h3>

  <p>vi has a class of commands known as "operators". Operator
  commands are always immediately followed by a motion command. The
  region of text affected by an operator is bounded on one end by
  the initial position of the cursor, and on the other by the
  cursor position after the motion is completed. Thus the delete
  operator ('d') can be followed by the word motion command ('w'),
  causing the next word to be deleted. The sequence "dG" will
  delete from the cursor through the end of the file, and "d/junk"
  will delete to the next occurrence of the string "junk". As a
  special "honorary" type of motion, operators can all be
  "stuttered" to affect lines. Thus "dd" deletes one line, "4dd"
  affects 4 lines, etc.</p>

  <p>Most operators affect the region exactly, but some cause only
  whole lines to be affected. This is usually a function of what
  sort of motion follows the operator, but can sometimes be
  affected by the operator itself. The best example of motions
  having different effects is the 'goto-mark' motions, the ''' and
  '`' commands. If a mark is set, say mark 'a', with the 'ma'
  command, then if the command d`a is executed, the exact text
  between the cursor and the mark will be deleted. If, on the other
  hand, the d'a command is used, the deleted region will include
  the lines containing the cursor and the mark in their
  entirety.</p>

  <p>Some operators in vile can be "forced" to affect regions of
  whole lines, though the motion wouldn't normally imply it, by
  using the '^X' form of the command. (It's not really forced
  &ndash; it's really a separate operator.) For example, "d%"
  (assuming you are on a curly brace) will delete a C-style block
  of code. "^X-d%" will delete that same area, plus anything else
  on the lines containing the curly-brace endpoints.</p>

  <p>Note that some operators always affect whole lines, no matter
  how the motion is specified. The '!' operator is an example: "!w"
  will always filter an entire line, and not just a single
  word.</p>

  <p>vile extends this notion of the "shape" of a region by adding
  the concept of rectangular regions, whose boundaries are
  delimited by the rectangle whose opposite corners are at the
  cursor and at the other end of the motion, respectively. See the
  section <a href="#rectangular-regions">"Rectangular regions"</a>
  below.</p>

  <p>The "show-operators" command will show all available
  operators. The "show-motions" command will show all available
  motions. Any operator may be followed by any motion.</p>

  <p>There are several new operator commands in vile:</p>

  <dl>
    <dt>^A-~</dt>

    <dd>Is the operator form of the '~' command, so "^A-~~" changes
    the case of all characters on the current line, "^A-~w" does it
    to a word, "3^A-~}" does it for 3 paragraphs, etc. (In vile,
    the simple '~' command will take a repeat count, unlike some
    versions of vi. If you wish it to be an operator, rebind '~' to
    the "flip-til" command.)</dd>

    <dt>^A-u</dt>

    <dd>Like ^A-~, but converts the region to upper case.</dd>

    <dt>^A-l</dt>

    <dd>Like ^A-~, but converts the region to lower case.</dd>

    <dt>^A-f</dt>

    <dd>Format the region based on the current fill column. The
    initial indentation of both the first and second lines of each
    "paragraph" in the region are preserved, and all subsequent
    lines get the second line's indentation. This makes
    indented/outdented paragraphs (like this one) work correctly.
    (This is intentionally <i>not</i> the same behavior obtained by
    using "!fmt", since that behavior is obviously available
    elsewhere.) The usual usage of this command is "^A-f}", which
    reformats the current paragraph. The re-formatting begins again
    with each new paragraph, where a paragraph has the same
    boundaries used by the '{' and '}' commands &ndash; i.e. blank
    lines, or lines beginning in .I .L .P .Q or .b. This makes it
    possible to use "3^A-f}" or "^A-fG" to reformat multiple
    paragraphs. The reformatting operation knows a little about
    both C, C++, and shell comments, and will attempt to do the
    "right" thing with lines that start with '#' or '*' characters.
    (It also knows about the '&gt;' character, making it fairly
    easy to reformat mail and news inclusions... but is it ethical?
    :-)</dd>

    <dt>^X-s</dt>

    <dd>For every occurrence of a search string, put in a replace-
    ment string. This is similar to "s/pattern/replacement/g" over
    the region.</dd>

    <dt>^A-&amp;</dt>

    <dd>Is an operator in vile, similar to the traditional &amp;
    command. It repeats the last substitution over the specified
    region. (Unlike the '&amp;' command, this one will remember
    trailing g, p, l, or numeric options.)</dd>

    <dt>^X-d</dt>

    <dd>Delete the region, including the lines it starts and ends
    on.</dd>

    <dt>^X-c</dt>

    <dd>Change the region, including the lines it starts and ends
    on.</dd>

    <dt>^X-y</dt>

    <dd>Yank the region, including the lines it starts and ends
    on.</dd>

    <dt>^A-t</dt>

    <dd>Trim trailing whitespace from all lines in the region.</dd>

    <dt>^A-&lt;SPACE&gt;</dt>

    <dd>Convert tabs to spaces, using the current tabstop
    value.</dd>

    <dt>^A-&lt;TAB&gt;</dt>

    <dd>Convert as many spaces to tabs as appropriate.</dd>

    <dt>^A-b</dt>

    <dd>Blank out a region. Turns the region to whitespace. Useful
    with rectangular regions.</dd>

    <dt>^A-r</dt>

    <dd>Open up a rectangle. Text to the right of the left edge of
    the rectangular region will shift to the right by the width of
    the rectangle, leaving a whitespace "hole".</dd>

    <dt>^A-q</dt>

    <dd>Sweep out a rectangle with multiple motion commands. See
    <a href="#quoted-motion">description of 'q'</a>, below.</dd>

    <dt>^A-s</dt>

    <dd>Select and yank a region. The region will be highlighted on
    the screen, as if it had been swept by a mouse. It is also
    yanked, as with the 'y' operator. This operator is useful in
    combination with the ^S motion command, which lets one
    reference the selected region with other operators. (If you use
    this command much, it is recommended that you bind it to and
    easier to type sequence, such as 'S'.) See also the <a href=
    "#quoted-motion">q (quoted motion)</a> command.</dd>
  </dl>

  <h3 id="insertion2"><a name="insertion" id="insertion">Text
  insertion</a></h3>

  <dl>
    <dt>^X-p</dt>

    <dd>Causes the previously yanked or deleted text, no matter how
    it was obtained, to be inserted after the current line. Usually
    text that did not consist of whole lines where it came from is
    inserted immediately following the cursor.</dd>

    <dt>^X-P</dt>

    <dd>As above, but the text is put before the current line. Thus
    "dw" followed by a "p" command does a normal insertion of the
    deleted word, whereas "^X-p" results in the word being inserted
    on a line by itself.</dd>

    <dt>R</dt>

    <dd>vi's overwrite mode is supported. Note that the combination
    of overwrite mode and the (ANSI) arrow keys can be used to give
    a "picture drawing" mode of operation: anything you type goes
    into the buffer without moving adjacent text, and you can move
    around using the arrow keys without leaving overwrite mode.
    Hint: start with a buffer full of lines that consist entirely
    of blanks (as opposed to blank lines).</dd>

    <dt>^A-i</dt>

    <dd>Like their 'i', 'o', and 'O' counterparts, but any
    autoindent</dd>

    <dt>^A-o</dt>

    <dd>or cmode setting is ignored for the duration of this
    insert.</dd>

    <dt>^A-O</dt>

    <dd>These are most useful when pre-formatted text is being
    pasted, as when using a mouse.</dd>
  </dl>

  <h3 id="searching2"><a name="searching" id=
  "searching">Searching</a></h3>

  <dl>
    <dt>^X-/</dt>

    <dd>Does a forward search for the "word" located under the
    cursor.</dd>

    <dt>^X-?</dt>

    <dd>Does a reverse search for the "word" located under the
    cursor.</dd>

    <dt>^A-/</dt>

    <dd>Does not do a search, but sets the search pattern to the
    "word" under the cursor. Useful for "picking up" a word from
    one buffer, and searching for it in another.</dd>
  </dl>

  <p>The following two commands may not always be present in vile,
  depending on how it was built:</p>

  <dl>
    <dt>^X-S</dt>

    <dd>Incremental forward searching. As you enter the search
    string, the cursor is advanced to the next match with what
    you've typed so far. Use ^F and ^R to continue the search
    forward or in reverse, using the current pattern.</dd>

    <dt>^X-R</dt>

    <dd>As above, but in reverse.</dd>
  </dl>

  <h3 id="vi-tags2"><a name="vi-tags" id="vi-tags">Tags</a></h3>

  <p>vile supports vi-style "tags" files.</p>

  <dl>
    <dt>":ta" or ":tag"</dt>

    <dd>
      allows you to enter a tagname to locate. The editor opens a
      buffer containing the requested tag. Take note that tag
      completion is supported, so it's possible to type a partial
      tagname and then press TAB to force vile to complete the
      name, assuming it's unique. If not unique, press TAB twice to
      see a list of all possible completions. Example (using the
      vile sources):
      <pre>
        :ta is_sl&lt;tab&gt;
</pre>

      <p>is completed as "is_slashc" . Pressing RETURN following
      completion opens a buffer on estruct.h, with the cursor
      positioned at the first definition of this tagname.</p>
    </dd>

    <dt>^]</dt>

    <dd>Uses the identifier currently under the cursor as the
    tagname.</dd>

    <dt>^T or ^X-^] or ":pop"</dt>

    <dd>- pops to the file and location just previous to the last
    tag command.</dd>

    <dt>^A-^] or ":next-tag"</dt>

    <dd>continues searching through the tags file(s) for additional
    matches.</dd>
  </dl>

  <p>When one of these commands is used, vile will (by default)
  look for a file named "tags" in the current directory, and load
  it into a hidden buffer for use during tag searches. This buffer
  is editable if you wish (":e tags"), but will not appear in the
  buffer lists. If a buffer named "[Tags 1]" is already available
  when a tag is first requested, it will be used instead of a file
  found by searching the tags setting, and of course will remain
  visible.</p>

  <p>Take note that the tag locate and pop commands, by default,
  move the cursor out of the current window if the target tag is
  located in one of the editor's other windows. To "pin" all locate
  and pop actions to the current window, set pin-tagstack mode.</p>

  <p>The name of the default tags file may be changed with "set
  tags" (see <a href="#mode-tags">"tags"</a> under "Editor modes",
  below). If multiple filenames are given in the "tags" setting
  (separated by whitespace), they are searched in order, and placed
  in buffers named "[Tags 1]", "[Tags 2]", "[Tags 3]", etc.</p>

  <p>Tags searched for using '^]' will always be matched exactly.
  If the ":ta" form of the command is used, tag matches will be
  exact unless the mode "taglength" is set non-zero, in which case
  the first tag matching that many characters will be used.</p>

  <p>Filenames referred to in tags files are expanded, so
  environment variables and shell special characters like ~ may be
  used.</p>

  <p>The stack of buffer locations waiting to be "popped" to with
  the '^T' (or '^X-^]' or ":pop") command may be viewed with the
  "show-tagstack" command. The "[Tag Stack]" buffer is animated
  &ndash; it will dynamically keep track of current tag
  references.</p>

  <p>Limitations: In a real vi-style tags file, there are three tab
  separated fields. The first contains the tagname. The second
  contains the (relative or absolute) filename. Everything after
  the second tab is an arbitrary ex-mode command. vile is not quite
  so flexible as regular vi, and only supports a couple of commands
  in that last "field". It can be a line number, in which case the
  tag is an absolute index into the file. Or, it can be a search
  command. If it begins with a '/', the search goes forward. If it
  begins with a '?', the search goes backward. In either case, the
  matching delimiter <i>must</i> be the last character on the line
  in the tags file.</p>

  <p>All of this isn't as bad as it sounds, since ctags, the
  program most people use to generate tags files, does generate
  exactly this format. (Surprise, surprise.) However, if you
  attempt to create your own tags files, or have other tools that
  do so, you should be aware of these limitations.</p>

  <p>For further tags usage examples, refer to the section of this
  help file entitled "Working in a project hierarchy".</p>

  <h2 id="misc-commands2"><a name="misc-commands" id=
  "misc-commands">Miscellaneous commands</a></h2>

  <dl>
    <dt>^A-d</dt>

    <dd>Remove blank lines ("delete-blank-lines"). If the cursor is
    on a blank line, then it and any blank lines surrounding it
    will be removed. If a non-blank line, then any immediately
    following blank lines will be removed. If given an argument,
    will force exactly that many blank lines to exist at that
    point, regardless of how many were there before. Moves current
    location forward, to allow repeated use.</dd>

    <dt>^A-e</dt>

    <dd>
      Remove empty lines (<code>delete-empty-lines</code>). This
      command differs from <code>delete-blank-lines</code>:

      <ul>
        <li>empty lines contain no printable characters; blank
        lines contain no characters.</li>

        <li>this command can be used with a range, and works as an
        operator.</li>

        <li>the feature for forcing blank lines to appear is
        provided by another operator
        <code>force-empty-lines</code>.</li>
      </ul>
    </dd>

    <dt>^X-E</dt>

    <dd>Force gaps with "empty" lines (no printable characters) to
    have the same size (<code>force-empty-lines</code>). This uses
    the variable $empty-lines as the size that should be used. Like
    <code>delete-empty-lines</code>, this is an operator and can be
    used with a range.</dd>

    <dt>^X-^X</dt>

    <dd>
      The "error finder". Goes to the next file/line error pair
      specified in the last buffer captured from a command's
      output. This buffer is usually created with the ^X-! command.

      <p>For example, "^X-!cc -c junk.c" puts all of the compiler
      output into the buffer named "[Output]".</p>

      <p>Repeatedly hitting ^X-^X will position the editor at each
      error in turn, and will eventually start over again at the
      top. The buffer searched for "errors" will be the last shell
      command run, or the buffer named with the "error- buffer"
      command. The "Entering directory XXX" and "Leaving directory
      XXX" messages that GNU make puts out with the -w switch are
      honored, so that files are found with the correct path.</p>

      <p>Tip: I use the following macro to quickly grep a source
      directory for the string under the cursor:</p>

      <blockquote>
        <p>use-register g load-register "^X!egrep -n :
        *.[chs]^M"</p>
      </blockquote>

      <p>where the ^X and ^M are each single control characters,
      entered using ^V to escape them. Then I invoke with @g to
      execute. [NB: this macro won't work with the DOS/VMS/Win32
      versions of vile, since ':' doesn't expand to the word under
      the cursor on those hosts due to conflicts with filename
      drive/disk delimiters. For those hosts, substitute '&amp;'
      instead.]</p>

      <p>The command parsing is done with regular expressions. Vile
      compiles these from the buffer [Error Expressions], which are
      a set of regular expressions with extra embedded information.
      Unescaped '%' followed by 'V', 'B', 'F', 'L', 'C' or 'T'
      substitute verb (Entering/Leaving for gmake), buffer (i.e.,
      scratch buffer with a bracketed name), file, line, column and
      text fields.</p>

      <p>The line and column numbers are 1-based, treating tab
      character as a single column. Use %l and %c, respectively for
      0-based values.</p>

      <p>The V, B, F, T substitutions are for nonblank fields,
      which is not always enough, so vile additionally recognizes a
      range in brackets, e.g.,</p>
      <pre>
        ^%[^:   ]:\s*%L:%T
</pre>

      <p>is compiled as</p>
      <pre>
        ^\([^:  ]\+\):\s*\([0-9]\+\):\(.\+\)
</pre>

      <blockquote>
        <!--{{atr2html-->

        <p style="font-family: monospace;"><span class=
        "comment">;&nbsp;example&nbsp;of&nbsp;a&nbsp;macro&nbsp;to&nbsp;add&nbsp;to&nbsp;[Error&nbsp;Expressions]</span><br>

        <span class="keyword">store-procedure</span><span class=
        "literal">&nbsp;AddError</span><br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~local</span>&nbsp;<span class="ident2">%oldbuffer</span><br>

        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">setv</span>&nbsp;<span class="ident2">%oldbuffer</span><span class="keyword2">=</span><span class="ident2">$cbufname</span><br>

        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">compile-error-expressions</span><br>

        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">yank-line</span><br>

        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">edit-file</span><span class="literal">&nbsp;'[Error&nbsp;Expressions]'</span><br>

        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">unsetl</span>&nbsp;<span class="keyword">view</span><br>

        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">goto-beginning-of-file</span><br>

        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">put-before</span><br>

        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">unmark</span><br>

        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">setl</span>&nbsp;<span class="keyword">view</span><br>

        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">buffer</span>&nbsp;<span class="ident2">%oldbuffer</span><br>

        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">compile-error-expressions</span><br>

        <span class="preproc">~endm</span><br>
        <!--atr2html}}--></p>
      </blockquote>

      <p>Use the show-error-expressions command to display the
      contents of the [Error Expressions] buffer, along with the
      expanded regular expression and annotation for the
      substitutions. The result is shown in [Error Patterns].</p>
    </dd>

    <dt>^X-t</dt>

    <dd>Set or report on the tab-stop width. To set, the spacing
    must precede the command, as in "4^X-t". The "set tabstop"
    command described below does the same thing. The status output
    indicates whether the buffer is currently using the local or
    global copy of the tabstop value.</dd>

    <dt>^X-f</dt>

    <dd>Set the local fill-column to be used with ^A-f and
    auto-wrap mode on insert. The default value is 7/8's of the
    screen size, with a maximum of 70. Since arguments come before
    commands, you type: 65^X-f. The "set fillcol" command does the
    same thing. The status output indicates whether the buffer is
    currently using the local or global copy of the tabstop
    value.</dd>

    <dt>^X-X</dt>

    <dd>Set current encryption key for this buffer. See <a href=
    "#encryption">"Encryption"</a> below for more information.</dd>

    <dt>K</dt>

    <dd>Count prefix. The first time you type it, it is equivalent
    to an argument of 4 to the following command. If you repeat it,
    it becomes worth 16, the next time 64, etc...</dd>

    <dt>%</dt>

    <dd>In addition to finding matching braces, brackets, and
    parentheses, the '%' command will find matching #if's, #ifdef's
    and C-style comments. If the cursor is on the # of
    "#ifdef"/"#if", the '%' command will find the matching "#endif"
    or "#else". On an "#else" it will find "#endif", and on
    "#endif" it will go back up to the "#ifdef"/"#if". If the
    cursor is on any part of a "/*" or "*/" sequence, it will find
    the appropriate corresponding C comment endpoint. (See <a href=
    "#mode-fence-if">fence-if</a>, <a href=
    "#mode-fence-pairs">fence-pairs</a> to customize this
    behavior).</dd>

    <dt>\</dt>

    <dd>Identical to the ` motion, in that the cursor moves to the
    specified mark (i.e. \a moves to mark 'a'). When used with an
    operator command, the resulting region is rectangular instead
    of "exact". This is similar to the ' motion, which also goes to
    [the line holding] the mark, and causes regions to become "full
    line" regions.</dd>

    <dt><a name="quoted-motion" id="quoted-motion">q</a></dt>

    <dd>
      A "quoted motion" command. After entering 'q', more motion
      commands are accepted until another 'q' is entered. The
      result of the motion is the cumulative effect of all the
      entered motions. Thus, one might type:
      <pre>
        dq&lt;arrow&gt;&lt;arrow&gt;&lt;arrow&gt;...&lt;arrow&gt;q
</pre>

      <p>to delete all of the text between the starting point and
      the final cursor position.</p>

      <p>Any motion command can appear in between the two 'q'
      commands. If used alone, i.e., not in an operator context,
      then the spanned text is highlighted, and yanked on
      completion (as well as setting the special named marks '&lt;
      and '&gt;) as a side effect. The resulting selection can then
      be manipulated with the ^S pseudo-motion, below. The
      selection-clear command removes the selection's highlight
      attributes.</p>

      <p>Most motions will select up to but not including their
      endpoint. The 'e', 'E', 'f', 't', and '%' commands are
      exceptions to this. If used in an operator context the cursor
      position may sometimes appear incorrect. This is because
      operators sometimes change the cursor location internally to
      force the motion to do the "right" thing, and the 'q' command
      makes these internal "fudge factors" visible. An example of
      this is "dq%q" which does the right thing (assuming the
      cursor is on a '(' to start) but which looks wrong, since the
      cursor will overshoot the ')' before the second 'q' is
      typed.</p>

      <p>If a mouse is available on a Unix host, whether in an
      xterm via the "xterm-mouse" setting, or in xvile, then button
      1 can be clicked to do the extensions, since it, too, is a
      motion command. (Of course in xvile or winvile, it is easier
      to simply "click and drag" &ndash; the 'q' command isn't
      really necessary at all.)</p>

      <p>Use the repeat-count to specify types of selection:
      exact=1 (default), full-line=2, rectangle=3.</p>
    </dd>

    <dt>^A-q</dt>

    <dd>As above, but the motions will sweep out rectangular
    regions.</dd>

    <dt>^S</dt>

    <dd>
      A motion, or "pseudo-motion" command. If a region of text has
      been previously selected, either with the mouse (if
      available) or with the keyboard selection operator (^A-s) it
      can be referenced by any other operator by applying that
      operator to the ^S motion. As an example, suppose a word is
      selected with the mouse, or with ^A-sw. Then, from anywhere
      in that buffer, one can use d^S to delete that word. ^S used
      by itself will move the cursor to the start of the selected
      region. ^S applied to the selection operator (^A-s) will
      extend the current selection to include the current location
      of the cursor.

      <p>^S makes it possible to select any region (including
      rectangular regions) of text with a mouse, and then apply any
      vi operator to that region.</p>
    </dd>

    <dt>=</dt>

    <dd>If "visual-matches" is set, then vile will highlight all
    occurrences of a pattern that is searched for with one of the
    usual searching commands. The '=' command will clear this
    highlighting, until the next search for a different
    pattern.</dd>

    <dt>select-all</dt>

    <dd>
      On hosts where vile provides mouse support, the select-all
      command selects, highlights, and yanks all text in the
      current buffer to the unnamed register. Clear the selection's
      highlight attributes as follows:

      <table border="1" summary="Selection Techniques">
        <colgroup>
          <col width="50%">
          <col width="50%">
        </colgroup>

        <tr>
          <th>Technique</th>

          <th>Applies To</th>
        </tr>

        <tr>
          <td>selection-clear command</td>

          <td>any host</td>
        </tr>

        <tr>
          <td>left mouse button (LMB) click</td>

          <td>winvile</td>
        </tr>

        <tr>
          <td>click mode line with LMB</td>

          <td>win32 host</td>
        </tr>

        <tr>
          <td>press ESC</td>

          <td>winvile</td>
        </tr>
      </table>
    </dd>
  </dl>

  <h3 id="internal-state2"><a name="internal-state" id=
  "internal-state">Internal State</a></h3>

  <p>vile can display more of its internal "state" than traditional
  vi. Portions of the internal "state" may be viewed using various
  "show-xxx" commands:</p>

  <dl>
    <dt>show-abbreviations</dt>

    <dd>displays list of shortcuts defined with the ":abbr"
    command. (synonymous with ":abbr&lt;cr&gt;")</dd>

    <dt>show-buffers</dt>

    <dd>displays the current list of available buffers. Given any
    numeric argument, will list <i>all</i> buffers, even those
    normally invisible or considered temporary.</dd>

    <dt>show-color-schemes</dt>

    <dd>displays a color chart of the user-definable color schemes
    (see palettes.rc for examples)</dd>

    <dt>show-colors</dt>

    <dd>displays a color chart of the builtin color names, the
    internal coding used in the syntax filters (e.g., C0), the
    $palette mapping and examples in bold, italic, etc.</dd>

    <dt>show-commands or show-bindings</dt>

    <dd>displays the list of commands and the keys bound to
    them.</dd>

    <dt><a name="command-show-global-modes" id=
    "command-show-global-modes">show-global-modes</a>,
    show-modes</dt>

    <dd>both synonymous with ":<a href=
    "#current-modes2">set</a>&lt;cr&gt;"</dd>

    <dt>show-help</dt>

    <dd>synonymous with ":help", '^A-h', etc.</dd>

    <dt>show-history</dt>

    <dd>displays the user's command line history.</dd>

    <dt><a name="command-show-local-modes" id=
    "command-show-local-modes">show-local-modes</a></dt>

    <dd>Shows the local value of each mode, if it differs from the
    global value. If a majormode is set on the buffer, that is used
    for the "global" value in this display.</dd>

    <dt>show-majormodes</dt>

    <dd>displays the builtin and user-defined major modes.</dd>

    <dt>show-mapped-chars</dt>

    <dd>displays the strings mapped for command mode with ":map".
    (synonymous with ":map&lt;cr&gt;")</dd>

    <dt>show-mapped!-chars</dt>

    <dd>displays the strings mapped for insert mode with ":map!".
    (synonymous with ":map!&lt;cr&gt;")</dd>

    <dt><a name="command-show-printable" id=
    "command-show-printable">show-printable</a></dt>

    <dd>
      displays a table of the first 256 printable characters, with
      associated types. To allow it to fit within 80 columns,
      abbreviations are used, which are the same names as used in
      character classes.

      <p>Use a repeat count to show data for the wide locale. The
      default (no repeat count) shows the narrow locale. Use
      <a href=
      "#command-show-wide-printable">show-wide-printable</a> to see
      wide characters past the first 256.</p>

      <p>If <a href="#mode-showchar">showchar</a> is set, this also
      shows a line for the current character in the current buffer,
      with the character type information for that character.</p>
    </dd>

    <dt>show-registers</dt>

    <dd>displays the current contents of the named and numbered
    registers.</dd>

    <dt>show-system-mapped-chars</dt>

    <dd>displays the strings mapped to represent the terminal's
    function keys.</dd>

    <dt>show-tagstack</dt>

    <dd>displays the contents of the "tags stack", the list of
    locations from which the ":ta" or '^]' commands have been used,
    and to which the ":pop" and '^T' (or '^X-^]') commands will
    return.</dd>

    <dt>show-terminal-chars</dt>

    <dd>displays the list of special chars normally associated with
    the TTY driver, i.e. backspace, interrupt, suspend, etc.</dd>

    <dt>show-variables</dt>

    <dd>displays the list of vile state $variables and temporary
    %variables, and their values. Use a repeat count to show all
    mode variables, including majormode submodes rather than just
    the state variables.</dd>

    <dt><a name="command-show-wide-printable" id=
    "command-show-wide-printable">show-wide-printable</a></dt>

    <dd>
      displays a table of the "wide" (Unicode) printable
      characters, with associated types. To allow it to fit within
      80 columns, abbreviations are used, which are the same names
      as used in character classes.

      <p>Use a repeat count to show the data for successive "pages"
      of 256 characters, e.g., 1 for 256-511, 2 for 512-767,
      etc.</p>

      <p>This uses the same buffer as <a href=
      "#command-show-printable">show-printable</a>. If <a href=
      "#mode-showchar">showchar</a> is set, this also shows a line
      for the current character in the current buffer, with the
      character type information for that character.</p>
    </dd>
  </dl>

  <h2 id="new-registers2"><a name="new-registers" id=
  "new-registers">New Registers</a></h2>

  <p>In addition to the usual "a through "z, and "1 through "9,
  vile has additional registers.</p>

  <p>The register named '&lt;' contains the last few hundred
  keystrokes that have been typed by the user. The principle use
  for this is to make it easier to create :map commands based on
  commands you've already given. [It's also useful sometimes when
  debugging to be able to see what key sequence led to a
  problem...]</p>

  <p>The register name '.' contains the current selected text in
  xvile. Also in xvile, the register name ';' is a synonym for the
  clipboard. Other versions of vile permit use of '.' and ';' as
  supplemental register storage.</p>

  <p>The register name '"' (" is double-quote) is a synonym for the
  default unnamed register, which is also sometimes referred to as
  register 0.</p>

  <h2 id="command-completion2"><a name="command-completion" id=
  "command-completion">Completion</a></h2>

  <p>Many responses to vile prompts need not be typed in their
  entirety. vile can complete the response for you. This applies to
  command names, file names, vile modes, vile variables, tags,
  buffers, and the "terminal characters".</p>

  <p>To invoke vile completion, type a few characters and hit TAB
  (or your current "name-complete" terminal character). Hitting it
  a second time will pop up a window containing the list of
  possible completions. If there are more completions than will fit
  in the window, hitting further TAB characters will cause that
  window to scroll through the choices. The window will go away
  when the current command is finished.</p>

  <p>An older form of completion is also supported:<br>
  You can also type a question mark (or the current "test-
  completions" terminal character) to display a list of the
  characters that you would have to type to complete the command.
  For example, to complete the "unmark" or "unmap" commands:</p>
  <pre>
        :unm?                   &ndash; you type
        :unm{a}[pr]             &ndash; you see
</pre>

  <p>This style of completion-display shows curly braces around the
  string that will be supplied by pressing TAB, and square brackets
  around characters that you must type to make the command
  unique.</p>

  <h2 id="arrow-keys2"><a name="arrow-keys" id="arrow-keys">Arrow
  keys</a></h2>

  <p>vile will understand your terminal's arrow keys, as long as
  they are described correctly in the termcap/terminfo database.
  The keys are interpreted as function keys, and are by default
  bound to the up, down, left, and right screen motions. These
  bindings are honored in insert mode as well as command mode.</p>

  <h2 id="rectangular-regions2"><a name="rectangular-regions" id=
  "rectangular-regions">Rectangular regions</a></h2>

  <p>Just as the regions defined by vi's commands and motions can
  either be "exact", or encompass "full lines", regions in vile can
  in addition be "rectangular". The easiest way to use a
  rectangular region is with the '\' motion, which, like '`' and
  ''', goes to a named mark. The region it describes, however, is
  "rectangular" (instead of "exact" or "full line"). The following
  operators know how to correctly act on rectangular regions:</p>

  <dl>
    <dt>^A-r</dt>

    <dd>Opens up a rectangle. Text to the right of the left edge of
    the rectangle is shifted right by the width of the
    rectangle.</dd>

    <dt>&gt;</dt>

    <dd>Shift right. Identical to '^A-r' when region is
    rectangular.</dd>

    <dt>d</dt>

    <dd>Deletes the (rectangular) region. Text to the right moves
    left to fill the rectangle.</dd>

    <dt>&lt;</dt>

    <dd>Shift left. Identical to 'd' when region is
    rectangular.</dd>

    <dt>y</dt>

    <dd>Yanks the (rectangular) region. (vile remembers that the
    yanked text is rectangular in shape.</dd>

    <dt>c</dt>

    <dd>Change the region. If the region is <i>not</i> rectangular,
    insert mode is entered after the region is deleted. If the
    region <i>is</i> rectangular, the user is prompted for text
    with which the lines of the rectangle will be filled.</dd>

    <dt>^A-u</dt>

    <dt>^A-l</dt>

    <dt>^A-~</dt>

    <dt>^A-b</dt>

    <dd>These four operators perform their character
    transformations on rectangular regions, as well as exact or
    full-line regions. (uppercase, lowercase, flip-case, and blank,
    respectively)</dd>

    <dt>p P</dt>

    <dd>The 'put'ting commands know whether the text being 'put'
    was originally rectangular, and will do a rectangular insert of
    the text, in front of or behind the cursor. The cursor position
    defines the upper left corner of the insertion.</dd>

    <dt>^A-p</dt>

    <dd>These two forms of the put command force the text
    being</dd>

    <dt>^A-P</dt>

    <dd>'put' to be inserted as if it had been rectangular when
    originally yanked or deleted. The width of the rectangle is the
    length of the longest line in register being 'put'.</dd>
  </dl>

  <p>Note that because it is sometimes hard to manipulate
  rectangles containing or bordering on tab characters, currently
  (for some operations) vile "detabs" the region being operated on
  before commencing, and re-entabs the lines again after the
  operation. The re-entabing is limited to leading whitespace, and
  of course is suppressed if "notabinsert" mode is set. [ This
  misfeature is arguably a bug, and may be fixed. In the meantime,
  you've been warned. ]</p>

  <h2 id="editor-modes2"><a name="editor-modes" id=
  "editor-modes">Editor modes</a></h2>

  <p>Modes come in various flavors and types and constitute the
  editor's primary configuration mechanism. vile supports these
  mode types:</p>

  <p>boolean enum int string</p>

  <p>The value of a mode is specified via "set" or "setl" (the
  latter command <i>only</i> affects buffer modes, as described
  below). Mode values may be cleared with "unset" (or "unsetl" for
  buffer modes), as well as other idioms described later. Clearing
  a mode, by the way, is a fancy way of saying that its value is
  set to 0 or "", the latter for string types. When an enum mode is
  cleared, vile selects whichever enum constant is assigned the
  internal (read compiled) value of 0. Some concrete examples:</p>

  <table border="1" summary="Types of Editor modes">
    <colgroup>
      <col width="25%">
      <col width="25%">
      <col width="50%">
    </colgroup>

    <tr>
      <th colspan="2">Technique</th>

      <th>Applies To</th>
    </tr>

    <tr>
      <th>mode type</th>

      <th>mode name</th>

      <th>example usage</th>
    </tr>

    <tr>
      <td>boolean</td>

      <td>autoindent</td>

      <td>set autoindent</td>
    </tr>

    <tr>
      <td>enum</td>

      <td>visual-matches</td>

      <td>set visual-matches=reverse</td>
    </tr>

    <tr>
      <td>int</td>

      <td>fillcol</td>

      <td>set fillcol=75</td>
    </tr>

    <tr>
      <td>string</td>

      <td>tags</td>

      <td>set tags="../tags tags"</td>
    </tr>
  </table>

  <h3 id="flavor-universal-modes2"><a name="flavor-universal-modes"
  id="flavor-universal-modes">Flavor: universal modes</a></h3>

  <p>These modes are not directly associated with buffers, windows,
  or languages. Consequently, a universal mode affects the editor
  under all relevant operating conditions.</p>

  <p>To set/modify a universal mode, use the "set" command. Startup
  file examples:</p>
  <pre>
        set vtflash=normal
        unset flash           ; or    set noflash
        set errorbells
</pre>

  <p>Since the set command (within a startup file) accepts multiple
  modes, this oneliner is equivalent:</p>
  <pre>
        set vtflash=normal noflash errorbells
</pre>

  <p>To clear a universal mode use one of these idioms:</p>
  <pre>
        set    no&lt;modename&gt;
        unset  &lt;modename&gt;
        setno  &lt;modename&gt;
</pre>

  <p>For completeness sake, note that the "local" version of the
  set/unset commands ("setl"/"unsetl") do not make sense (and
  elicit no effect) when used with universal modes.</p>

  <h3 id="flavor-buffer-modes2"><a name="flavor-buffer-modes" id=
  "flavor-buffer-modes">Flavor: buffer modes</a></h3>

  <p>These modes are inherited from a set of "global" buffer modes,
  but bound to a specific buffer once a "local" value is
  independently established. To set and reset local modes, use
  "setl", "unsetl", or "setlno". An actual example is useful for
  illustration purposes.</p>

  <p>When vile is started, the global value of "view" mode is unset
  by default (i.e., false) and all newly visited buffers are
  editable. But suppose I edited the file "precious.cpp", which I
  did not want to modify. There are two approaches that could be
  taken:</p>
  <pre>
        <code>
        $ vile
        :set view          ; enable view mode globally
        :e precious.cpp    ; edited in "view" mode
        :e other.cpp       ; ditto
</code>
</pre>

  <p>or</p>
  <pre>
        <code>
        $ vile
        :e precious.cpp    ; initially edited in "noview" mode
        :setl view         ; "view" mode now bound to precious.cpp
        :e other.cpp       ; edited in "noview" mode
        </code>
</pre>

  <p>In the first approach, view mode is enabled globally and
  consequently affects all existing buffers and all subsequently
  created buffers. This solution works for the stated goal, but
  makes it impossible to modify any other buffers. The second
  approach affects only the targeted file.</p>

  <h3 id="flavor-window-modes2"><a name="flavor-window-modes" id=
  "flavor-window-modes">Flavor: window modes</a></h3>

  <p>Similar to buffer modes, window modes are bound to a specific
  window once a local value is independently established. These
  modes are set/cleared with the same commands as buffer modes.</p>

  <h3 id="flavor-majormodes2"><a name="flavor-majormodes" id=
  "flavor-majormodes">Flavor: majormodes (later)</a></h3>

  <p>Until the subject of syntax coloring is described, it's not
  very useful to discuss majormodes. So, in the listing of modes
  below, skip over anything tagged with (M). But don't fret, these
  modes are described separately in the topic entitled
  "Majormodes".</p>

  <h3 id="current-modes2"><a name="current-modes" id=
  "current-modes">Current mode settings</a></h3>

  <p>To display modes, use "setall", "modes", "set all", or simply
  "set". vile displays all of the current mode values in the
  <code>[Settings]</code> buffer.</p>

  <p>vile shows local mode values only if they differ from the
  global values, whether they have been independently set or
  not.</p>

  <p>To show just the local mode values that differ from the global
  values, use <a href=
  "#command-show-local-modes">show-local-modes</a>.</p>

  <h3 id="mode-details2"><a name="mode-details" id=
  "mode-details">Modes in detail</a></h3>

  <p>Shown next is a listing of vile's various modes. Synonyms, if
  they exist, are shown in parentheses and a trailing U, B, W, or M
  indicates whether the mode is universal, buffer, window or
  major.</p>

  <dl>
    <dt>alt-tabpos (atp)</dt>

    <dd>If set, vile will position the cursor over tab and control
    characters the way emacs would, that is, at the start of a tab
    or control character display sequence. If turned off (the
    default), the cursor is positioned over tabs and control
    characters the way it would be in vi, i.e. at the end of the
    tab or control character display sequence. (To match the
    behavior of earlier versions of vile, should be set.) (U)</dd>

    <dt><a name="mode-animated" id=
    "mode-animated">animated</a></dt>

    <dd>
      Controls whether vile automatically updates the contents of
      scratch buffers when their contents would change as a side
      effect of commands. To retain the position within buffers
      when recreating them, use the <a href=
      "#mode-reuseposition">reuse-position</a> mode.

      <p>The animated buffers include:</p>
      <pre>
        [Binding List]
        [Buffer List]
        [Color Palette]
        [Color Schemes]
        [Command-Bindings]
        [Error Expressions]
        [Error Patterns]
        [Extra Colors]
        [Insert-Bindings]
        [Major Modes]
        [Map Sequences]
        [Map! Sequences]
        [Named Marks]
        [Printable Chars]
        [Registers]
        [Select-Bindings]
        [Settings]
        [Tag Stack]
        [Terminal Characters]
        [Variables]
</pre>

      <p>Turning off "animated" is rarely necessary: the capability
      is present mostly as a debugging aid. (B)</p>
    </dd>

    <dt><a name="mode-autobuffer" id="mode-autobuffer">autobuffer
    (ab)</a></dt>

    <dd>Controls whether vile uses "most-recently-used" style
    buffering, or vi-style (command-line order) buffers. That is,
    if autobuffer is on, then buffers are sorted in order of use,
    in that buffers not frequently used will drift to the end of
    the list. If this mode is not on, then vile will behave more
    like vi, in that buffers remain in a fixed order, that in which
    they were edited. (U)</dd>

    <dt>autocolor (ac)</dt>

    <dd>Automatic syntax coloring. If set to zero, automatic syntax
    coloring is disabled. Otherwise, it should be set to a small
    positive integer which represents the number of milliseconds to
    wait before invoking the "autocolor-hook" hook. The editor will
    wait the specified amount of time for a "quiet interval" during
    which the user hasn't pressed any keys. (B)</dd>

    <dt>autowrite (aw)</dt>

    <dd>vile will write out any changed buffers for which this mode
    is set before performing a ^Z, "stop", "suspend",
    ":!&lt;cmd;&gt;", or '^X-!&lt;cmd;&gt;'. The ":sh" command is
    not affected, nor is ":stop!" or ":suspend!". Since buffers
    inherit the global value of a mode, simply setting the global
    autowrite value will cause all buffers to be auto-written.
    Individual buffers can be forced or prevented from autowriting
    by setting the local value of the mode for those buffers
    appropriately. [In real vi, autowrite mode will also force
    buffers to be written when switching between files. This is
    unnecessary in vile.] (B)</dd>

    <dt>autoindent (ai)</dt>

    <dd>During insert, newly created lines inherit their leading
    indent from the previous line in the buffer. (B)</dd>

    <dt>autosave (as)</dt>

    <dd>Automatic file saving. Writes the file after every
    'autosavecnt' characters of inserted text. Other file changes
    are not counted. (B)</dd>

    <dt>autosavecnt (ascnt)</dt>

    <dd>How often (after how many inserted characters) will
    automatic saves take place. 256 by default. (B)</dd>

    <dt>backspacelimit (bl)</dt>

    <dd>When in insert mode, this controls whether one can
    backspace past the point at which the insert began. (B)</dd>

    <dt>backup-style</dt>

    <dd>Specifies the style used for creating file backups when a
    file is written. Can have values of "off", ".bak", and (under
    UNIX) "tilde", for no backups, DOS-style .BAK files, and
    file.c~ style backups, respectively. Files are copied before
    being written, to protect links to the original file.
    Permissions, modification and access times are all preserved.
    If creation of the backup fails, the write of the file will
    fail, unless it is forced using the ":w!" form of the write
    command. (B)</dd>

    <dt>bcolor</dt>

    <dd>On systems supporting this, will set the background color.
    On most systems, the choice of colors is fixed, although the
    X11 version (xvile) can be given customized colors at startup
    or via .Xdefaults. See notes about the <a href=
    "#color-palette">color palette</a> down below, under DOS
    specifics. (U)</dd>

    <dt>byteorder-mark (bom)</dt>

    <dd>
      is a prefix used to distinguish different types of
      UTF-encoding. It must be one of the following values:
      <pre>
        "auto"
        "none" (default)
        "utf-8"
        "le-assumed"
        "be-assumed"
        "utf-16le"
        "utf-16be"
        "utf-32le"
        "utf-32be"
</pre>

      <p>The "auto" setting tells vile to set the buffer's
      byteorder-mark value based on whatever the file-encoding
      happens to be.</p>

      <p>The default value is "none", which is slightly different,
      telling it to accept byteorder-mark values as in "auto", but
      not to write them for buffers which have no explicit
      byteorder mark set.</p>

      <p>The "utf-XXX" values are explicit settings, which override
      the auto/none logic. Use "le-assumed" or "be-assumed" for
      cases where the platform's preferred byteorder is known, and
      where byteorder marks may be absent from files, e.g., with
      Windows. (B)</p>
    </dd>

    <dt>bufname-expr</dt>

    <dd>Regular expression used for parsing of $bufname, subject to
    the cursor-tokens mode. If the expression is inactive, use
    character-class based internal function which combines buffer-
    and filename-classes. This is a buffer mode. (B)</dd>

    <dt>ccolor</dt>

    <dd>On systems supporting this, will set the cursor color. On
    most systems, the choice of colors is fixed, although the X11
    version (xvile) can be given customized colors at startup or
    via .Xdefaults. See notes about the <a href=
    "#color-palette">color palette</a> down below, under DOS
    specifics. (U)</dd>

    <dt>check-access</dt>

    <dd>
      Check file permissions before source'ing it in a script. This
      tells vile to ensure that it uses only files that you own (or
      root owns), which are not writable by other users. Values
      include:

      <dl>
        <dt>none</dt>

        <dd>disables the check</dd>

        <dt>current</dt>

        <dd>checks files in the current directory.</dd>

        <dt>home</dt>

        <dd>check files in the home directory in addition those
        checked for "current".</dd>

        <dt>startup</dt>

        <dd>check files in the startup path, as well as those
        checked for "home".</dd>

        <dt>always</dt>

        <dd>like "startup", but also check permissions for
        datafiles such as tags, menus and help-file.</dd>
      </dl>

      <p>The default value is "current". (U)</p>
    </dd>

    <dt>check-modtime</dt>

    <dd>
      Check modification-time. If a file has changed since it was
      last read or written, vile will issue a "file newer than
      buffer" warning and prompt appropriately for confirmation
      when

      <ol>
        <li>popping up a window on an existing buffer,</li>

        <li>reading or writing the buffer, or</li>

        <li>after performing some shell command.</li>
      </ol>

      <p>The prompt will occur only once, unless the file changes
      again, in which case the warning will be repeated. The
      warning will be repeated in any case if the file is being
      written. Invoking a shell, or suspending/restarting vile,
      will cause all visible buffers (those currently in windows)
      to have their times checked immediately. A file is considered
      "changed" if its modification time changes, or, under UNIX,
      if it is replaced entirely, resulting in a different inode
      number. (The "unique-buffers" mode must be active to enable
      the latter behavior.) (B)</p>
    </dd>

    <dt>cindent (ci)</dt>

    <dd>C-style indentation. Helps maintain current indentation
    level automatically during insert, like autoindent, above. See
    <a href="#mode-cindent-chars">cindent-chars</a> for additional
    information. Note that when the majormode cmode is in effect,
    cindent assumes a local buffer mode value of true. (B)</dd>

    <dt><a name="mode-cindent-chars" id=
    "mode-cindent-chars">cindent-chars (cic)</a></dt>

    <dd>
      The list of characters interpreted by the cindent mode. These
      include

      <dl>
        <dt>'#'</dt>

        <dd>when a line starting with '#' is inserted, it is
        indented to column 1. This is a temporary indent;
        succeeding lines are indented normally. Also, lines
        beginning with a '#' will not shift right with the
        '&gt;&gt;' command.</dd>

        <dt>':'</dt>

        <dd>indent the next line further, e.g., after a label.</dd>
      </dl>

      <p>as well as any character that may be listed in
      fence-pairs. If it is listed in cindent-chars as well, the
      left-character of a pair causes the next line to be indented
      more, and the right-character causes the next line to be
      indented less. (B)</p>
    </dd>

    <dt>cmode</dt>

    <dd>C-code mode. A built-in majormode that predefines cindent
    mode and separate suffix, tab and shiftwidth submodes. The
    topic "cmode: the original vile builtin majormode" discusses
    this majormode in more detail. (M)</dd>

    <dt>crypt</dt>

    <dd>Causes buffer(s) to be decrypted when read, and encrypted
    when written. This is compatible with the UNIX crypt(1)
    routines used by vi, and is only available on platforms which
    have this feature enabled. See the section on <a href=
    "#encryption">"Encryption"</a> for more information. (B)</dd>

    <dt>color-scheme (cs)</dt>

    <dd>An aggregate of fcolor, bcolor, video-attrs and $palette.
    Color schemes are defined with the define-color-scheme command.
    (U)</dd>

    <dt>comment-prefix</dt>

    <dd>A regular expression denoting the portion of a line that is
    replicated and untouched, except for leading indentation when
    doing text formatting. The expression should begin with "^",
    e.g., the default value ^\s*\(\s*\([#*&gt;]\)\|\(///*\)\)\+ is
    useful for matching shell comments (#), multi-line C comments
    (*), multi-line C++ comments (//), and email (&gt;). (B)</dd>

    <dt>comments</dt>

    <dd>A regular expression defining commented paragraph
    delimiters. This is used in addition to the "paragraphs"
    expression (see <a href="#mode-paragraphs">below</a>) when
    reformatting a region. The net effect is that paragraphs inside
    of these comments are preserved when doing text reformatting,
    but are not reachable with the '}' and '{' motions. A pattern
    that consists of an empty comment line usually works well.
    (B)</dd>

    <dt>cursor-tokens</dt>

    <dd>Controls whether vile uses regular expressions or character
    classes for parsing tokens from the screen for various
    commands. This uses an enumeration: both, cclass and regex. If
    "both", vile tries matching first with the regular expresion,
    e.g., bufname-expr for $bufname, and if that does not match
    anything, uses the character-classes. The main reason for
    providing the "both" option is that the older character-class
    based parsing for buffer name does not correspond exactly to a
    regular expression. (B)</dd>

    <dt>dirc</dt>

    <dd>Causes vile to check each name when scanning directories
    for filename completion. This is slower, but provides
    additional information allowing you to distinguish between
    directory and file names in the prompt. (U)</dd>

    <dt>dos</dt>

    <dd>
      On input, if the global copy of this mode is set, then
      incoming CR/LF pairs are taken as line terminators, the CR
      characters are stripped out, and the local dos mode is set
      for the buffer. (Actually, the local dos mode is only set if
      the <i>majority</i> of lines had CR characters at the end.)
      If global dos mode is <i>not</i> set, then incoming CR
      characters will be left visible on the screen (as '^M'), and
      the local mode will not be set.

      <p>The percent-crlf mode tells vile how many lines in the
      buffer must have CR/LF endings for it to automatically treat
      a buffer in this manner.</p>

      <p>On output, when writing a buffer with local dos mode set,
      all lines will be terminated with CR/LF pairs, rather than
      the usual single LF.</p>

      <p>When buffers representing non-existent files are created
      they will inherit the line-style of the operating system
      (LF-only on UNIX and VMS, CRLF-style on DOS derivatives)
      regardless of the global setting of dos mode.</p>

      <p>Setting dos mode makes editing binary files
      unreliable.</p>

      <p>The global value for this mode is set on by default in DOS
      versions of vile, and should therefore be turned off if doing
      binary editing. (B)</p>
    </dd>

    <dt>errorbells (eb)</dt>

    <dd>Controls whether a bell sounds (or whether the screen
    flashes, if "flash" mode is on) when an error occurs. (U)</dd>

    <dt>expand-chars</dt>

    <dd>Controls the set of characters that are expanded in command
    lines. These include '%' (the current buffer), '#' (the
    alternate buffer), '!' (the last shell command) and ':' (the
    token at the cursor position). For VMS, MS-DOS, OS/2, and Win32
    hosts, this is '&amp;'. (U)</dd>

    <dt>expand-path</dt>

    <dd>Controls whether %/# are expanded to the full pathname of a
    buffer, or just to its basename (i.e. the name with the path
    stripped off). (U)</dd>

    <dt>fcolor</dt>

    <dd>On systems supporting this, will set the foreground color.
    On most systems, the choice of colors is fixed, although the
    X11 version (xvile) can be given customized colors at startup
    or via .Xdefaults. See notes about the <a href=
    "#color-palette">color palette</a> down below, under DOS
    specifics. (U)</dd>

    <dt>fence-begin</dt>

    <dt>fence-end</dt>

    <dd>Respectively, the regular expressions for balancing simple
    (character-oriented, non-nestable) fences. (B)</dd>

    <dt><a name="mode-fence-if" id=
    "mode-fence-if">fence-if</a></dt>

    <dt>fence-elif</dt>

    <dt>fence-else</dt>

    <dt>fence-fi</dt>

    <dd>Respectively, the regular expressions for balancing
    line-oriented, nested fences, e.g., as C-preprocessor lines
    (the default). (B)</dd>

    <dt>fence-limit</dt>

    <dd>Iteration timeout for complex fences, to limit pathological
    cases, e.g., with Perl's ambiguous block syntax. (B)</dd>

    <dt><a name="mode-fence-pairs" id=
    "mode-fence-pairs">fence-pairs (fences)</a></dt>

    <dd>Each pair of characters in this string is taken to be a set
    of "fences", which should be matched with the '%' command. The
    default value is "{}()[]", which produces normal vi behavior.
    This can, for instance, be augmented with the '&lt;' and '&gt;'
    characters ("{}()[]&lt;&gt;&gt;") to cause angle brackets to be
    matched as well. See <a href="#mode-showmatch">"showmatch"</a>
    mode for another use of the "fence-pairs" mode. (B)</dd>

    <dt>file-encoding (fk)</dt>

    <dd>
      This is the character encoding of the buffer contents, which
      is not necessarily the same as the display's character
      encoding. It must be one of the following values:
      <pre>
        "8bit"
        "ascii"
        "auto"
        "locale" (default)
        "utf-16"
        "utf-32"
        "utf-8"
</pre>

      <p>The "auto" setting tells vile to determine the encoding by
      inspecting the buffer contents. The "locale" setting tells
      vile to assume that the buffer contents are in the current
      locale's encoding. The "8bit" setting corresponds to the
      8-bit locale support used since 9.3i (20021223). (B)</p>
    </dd>

    <dt>fillcol (fc)</dt>

    <dd>Sets the value for the fill column, which is the column at
    which autowrapping and region formatting will break lines. If
    zero, use the wrapmargin. If negative, count from the right
    margin. (B)</dd>

    <dt>filtermsgs (fm)</dt>

    <dd>A few syntax errors are detected and highlighted by the
    syntax-highlighting filters. If set, this mode directs vile to
    write into the [Filter Messages] buffer the associated error
    messages, which can be used with the error-buffer command to
    step through the errors. (B)</dd>

    <dt>filtername (fn)</dt>

    <dd>Specify a syntax-highlighting filter, for a given
    majormode. This is used in the filters.rc file, to handle
    special cases where different sets of keywords are applicable
    to a common syntax, e.g., C, C++ and Java. End users will not
    typically modify this mode. (B)</dd>

    <dt>find-cfg</dt>

    <dd>Configures the builtin find feature, which is available on
    win32 and Unix hosts. For further details, refer to the section
    of this help file entitled "Working in a project hierarchy".
    (U)</dd>

    <dt>flash</dt>

    <dd>If your terminal can, will flash the screen rather than
    beeping on errors. No audible or visible indication will occur
    at all if "errorbells" mode is not set on. See also the
    <a href="#mode-vtflash">vtflash</a> mode (described below).
    (U)</dd>

    <dt>for-buffers (fb)</dt>

    <dd>
      specifies whether globbing or regular expressions are used to
      select buffer names in the for-buffers and kill-buffer
      commands. (U)

      <p>The choices are</p>

      <dl>
        <dt>mixed</dt>

        <dd>globbing with special exclusion for internal names,
        i.e., with square brackets</dd>

        <dt>glob</dt>

        <dd>the same as filename globbing</dd>

        <dt>regex</dt>

        <dd>regular expressions</dd>
      </dl>
    </dd>

    <dt>glob</dt>

    <dd>
      Controls how wildcard characters (e.g., '*' and '?') are
      treated in prompts for filenames. Set glob to 'off' to
      disable expansion, or to 'on' to use the internal globber.
      The internal globber will handle *, ?, [a-z] style ranges,
      environment variables, and the ~user notation for finding
      home directories.

      <p>On UNIX, glob can be set to be a pipe command that will
      expand more wildcards. The default value of glob on UNIX is
      "!echo %s", which should provide globbing that matches that
      of your shell. If set to a command that will separate
      filenames with newlines or nulls rather than spaces, then
      filenames containing spaces may be more easily edited.
      ("!/bin/ls -d %s" is one possibility, "!glob %s" is another
      if you use csh.) (U).</p>
    </dd>

    <dt>highlight (hl)</dt>

    <dd>When false, syntax highlighting is disabled in the
    corresponding buffers. This allows you to disable highlighting
    for all buffers or only certain ones. (B)</dd>

    <dt>history (hi)</dt>

    <dd>When true (the default), commands from the :-line are
    logged in a buffer [History]. Turning this off causes the
    buffer to be removed. (U)</dd>

    <dt>horizscroll (hs)</dt>

    <dd>If the cursor is moved "off-screen", this mode controls
    what happens. If set (as it is by default), the whole screen
    will shift sideways to make the cursor position visible. If not
    set, then only the current line will shift, which may be
    desirable on slower displays. (W)</dd>

    <dt>identifier-expr</dt>

    <dd>
      Regular expression used for parsing of $identifier, which
      also corresponds to the pattern under the cursor used in tags
      and "screen-search-pattern-grab", etc., subject to the
      cursor-tokens mode. If the expression is inactive, use
      character-class, e.g., the equivalent of
      <pre>
        \&lt;[[:ident:]]\+\&gt;
</pre>

      <p>This is a buffer mode. (B)</p>
    </dd>

    <dt>ignorecase (ic)</dt>

    <dd>Text searches normally match the pattern exactly. With this
    set, searches are case-insensitive. (B)</dd>

    <dt>ignoresuffix (is)</dt>

    <dd>Strip the given pattern from a filename before matching it
    for majormode suffixes. Note well the difference between the
    mode's name and its behavior. (B)</dd>

    <dt>implybuffer (ib)</dt>

    <dd>Causes vile to create a buffer when you write to a new
    file, or read from one (e.g., with ":r"). (U)</dd>

    <dt>insert-exec (ie)</dt>

    <dd>
      Tells vile to interpret control characters for movement and
      undo/redo if they are bound to appropriate functions during
      insert mode. For example, ^F and ^B would scroll forward and
      backward. ^A and ^X bindings are honored as well. (U)

      <p>See the discussion of <a href="#insert-mode">insert
      mode</a>, in particular</p>
      <pre>
        describe-insmode-bindings
        describe-insmode-key
</pre>
    </dd>

    <dt>linebreak (lb)</dt>

    <dd>When <code>linewrap</code> mode is set, add blanks in the
    display to avoid splitting "words" (any nonblank text).
    (W)</dd>

    <dt>linewrap (lw)</dt>

    <dd>Displays lines that are too long to fit on one line as a
    series of "wrapped" lines. Overrides left/right scrolling
    controlled by "sideways" and "horizscroll" modes. (W)</dd>

    <dt>list (li)</dt>

    <dd>The buffer will be displayed with tabs and newlines made
    visible, instead of as whitespace. (W)</dd>

    <dt>loading</dt>

    <dd>A flag whose state may display in the mode/status line,
    used by the capture.pl script to show when asynchronous data is
    loading. (B)</dd>

    <dt>magic</dt>

    <dd>Honor unescaped regular expression metacharacters in search
    strings. See the section <a href=
    "#regular-expressions">"Regular Expressions"</a> for more
    detail. (B)</dd>

    <dt>maplength</dt>

    <dd>Controls the maximum length of a :map string, to prevent
    runaway recursion. This is the total number of characters that
    can be gotten during a :map expansion; vile pushes characters
    onto the stack, so this is only a rough measure. (U)</dd>

    <dt>maplonger</dt>

    <dd>Controls whether the longer or shorter of two "nested" map
    strings will be favored by the editor. When set, vile will
    match the longest available mapped string. When reset, (the
    default) vile will match the shortest available map. For more
    information, see the section describing the <a href=
    "#map-commands">":map"</a> command, below. (U)</dd>

    <dt>mcolor</dt>

    <dd>Specify the color of the modelines, normally in reverse
    video. See also <a href="#extra-colors">"Setting Extra
    Colors"</a>. (U)</dd>

    <dt>meta-insert-bindings (mib)</dt>

    <dd>Controls behavior of 8-bit characters during insert.
    Normally, key-bindings are only operational when in command
    mode: when in insert mode, all characters are self-inserting.
    If this mode is on, and a meta-character (i.e. a character with
    the 8th bit set) is typed which is bound to a function, then
    that function binding will be honored and executed from within
    insert mode. Any unbound meta-characters will remain
    self-inserting. (B)</dd>

    <dt>mini-hilite (mh)</dt>

    <dd>When user toggles editing mode in the minibuffer (^G,
    mini-edit), display the minibuffer with the given attribute.
    These are the same as for visual-matches. (U)</dd>

    <dt>mode-filename (mf)</dt>

    <dd>A regular expression describing filenames for which the
    corresponding majormode will be set. The expression is applied
    only to the portion of the complete pathname after removing the
    directory name. (M)</dd>

    <dt>mode-pathname (mp)</dt>

    <dd>A regular expression describing pathnames for which the
    corresponding majormode will be set. The expression is applied
    to the complete pathname, in contrast to mode-filename.
    (M)</dd>

    <dt>modeline</dt>

    <dd>
      Controls whether a vi-like modeline feature is enabled. This
      is a different term than the emacs-like modeline which acts
      as a status-line for each window. When enabled, vile scans
      the given number of lines from top and bottom of the buffer
      when it is first loaded into memory. It looks for lines
      containing one of these special markers after whitespace:
      <pre>
        "vi:"
        "vile:"
</pre>

      <p>or (depending on the configuration):</p>
      <pre>
        "xvile:"
        "winvile:"
</pre>

      <p>After that, either a "set" command terminated by a colon,
      e.g.,</p>
      <pre>
        vile:txtmode:
</pre>

      <p>or one or more mode assignments, treating colons as a
      whitespace separator, e.g, these are equivalent,</p>
      <pre>
        vile:ts=4 nu
        vile:ts=4:nu
</pre>

      <p>The modelines at the top of the buffer are processed first
      (working forward from the top), then the ones at the bottom
      (working backward from the end). If the buffer is small
      enough, the available modelines could overlap; but the
      program interprets each line at most once.</p>

      <p>This is a buffer mode, enabling its use in majormodes.
      (B)</p>
    </dd>

    <dt>modelines</dt>

    <dd>Controls the number of lines from each end of the buffer to
    scan for vi-like mode lines. Defaults to 5 (B)</dd>

    <dd>A regular expression describing pathnames for which the
    corresponding majormode will be set. (M)</dd>

    <dt>mouse</dt>

    <dd>for OS/2, enable/disable the mouse in the console-window
    version.</dd>

    <dt>multibeep</dt>

    <dd>If a motion command fails, then vile, like vi, will
    normally sound the bell. Turning this mode off prevents
    subsequent identical motion failures from also sounding the
    bell. That is, if you repeat a failed motion many times (e.g.
    by holding down the backspace key), you only get one beep.
    (U)</dd>

    <dt>newline (nl)</dt>

    <dd>The buffer ends with a newline. This is set when reading a
    buffer. (B)</dd>

    <dt>number (nu)</dt>

    <dd>All lines in the buffer will be prefixed by their line
    number. (W)</dd>

    <dt>overlap-matches</dt>

    <dd>Modifies the highlighting shown by visual-matches to
    control whether overlapping matches are shown. For some
    conditions, setting this to false will present a more natural
    view, e.g., "\a+", which would match sequences of alphabetic
    characters. In the normal case (show overlap), each time a new
    match begins vile will toggle the highlighting and produce an
    irregular effect. (B)</dd>

    <dt><a name="mode-paragraphs" id=
    "mode-paragraphs">paragraphs</a></dt>

    <dd>A regular expression defining where the "next-paragraph"
    ('}') and "previous-paragraph" ('{') commands will go. (B)</dd>

    <dt>pathname-expr</dt>

    <dd>
      Regular expression used for parsing of $pathname, which is
      expanded by ":" (or "&amp;") in the minibuffer, subject to
      the cursor-tokens mode. If the expression is inactive, use
      character-class, e.g., the equivalent of
      <pre>
        \&lt;[[:file:]]\+\&gt;
</pre>

      <p>This is a buffer mode. (B)</p>
    </dd>

    <dt>percent-autocolor</dt>

    <dd>Maximum percentage of time during the autocolor interval
    that is desired to use for coloring the buffers. This helps
    with very large files, which take more time. If vile uses more
    time, then it will skip subsequent updates for the buffer, to
    keep up. When it does this, it sets a local copy of the
    autocolor buffer mode with the effective interval which is
    used. If this mode is zero, it is ignored, and vile can use
    100% of the interval for autocoloring. (B)</dd>

    <dt>percent-crlf</dt>

    <dd>Percentage of total lines which must end with CR/LF for
    vile to automatically convert buffer's recordseparator to crlf,
    if dos mode is set. (B)</dd>

    <dt>percent-utf8</dt>

    <dd>Percentage of total characters which contain embedded
    nulls, making them look like UTF-16 or UTF-32 encodings. If
    file-encoding is set to "auto", and the match is higher than
    this threshold, vile will load the buffer data as UTF-8. The
    default (90) works well for text which is mostly Latin-1; you
    should set this to a lower value to work with text which does
    not follow that pattern. (B)</dd>

    <dt>pin-tagstack</dt>

    <dd>If set, the editor does not change windows when executing
    tag locate/pop commands. Put another way, all tag push and pop
    operations are "pinned" to the current window. (U)</dd>

    <dt>popup-choices (pc)</dt>

    <dd>
      Must be set to one of the following three values:

      <ol>
        <li>"off",</li>

        <li>"immediate", or</li>

        <li>"delayed"</li>
      </ol>

      <p>When enabled with either "immediate" or "delayed", vile
      pops up the [Completions] buffer showing choices for filename
      and command completion in response to a TAB. "immediate" will
      force the buffer to be popped up immediately if no progress
      is made in forming a completion. "delayed" will cause vile to
      wait until TAB is pressed a second time before popping up the
      completion choices. (U)</p>
    </dd>

    <dt>popup-msgs (pm)</dt>

    <dd>When enabled, vile pops up the [Messages] buffer showing
    the text that was written to the message line. Closing the
    window clears its content until the next message is written.
    This is most useful during the debugging of macros, since many
    messages may appear, each overwriting a previous one. This mode
    is treated specially during startup; unless the startup file
    (e.g., .vilerc) sets it, all messages will be popped up, then
    the mode will be initialized to "false". (U)</dd>

    <dt>preamble (pre)</dt>

    <dd>A regular expression describing the first line of filenames
    for which the corresponding majormode will be set. For example,
    you may have a majormode "sh", with sh-preamble set to
    "^#\s*!\s*\/.*sh\&gt;" to match the lines "# ! /bin/sh",
    "#!/bin/csh -f", etc. (M)</dd>

    <dt><a name="mode-printing-low" id=
    "mode-printing-low">printing-low</a></dt>

    <dd>The integer value representing the first of the printable
    set of "high bit" (i.e. 8-bit) characters. Defaults to 0. Most
    foreign (relative to me!) users would set this to 160, the
    first printable character in the upper range of the ISO 8859/1
    character set. Characters 128-159 are control characters in the
    ISO scheme (e.g., ISO 8859-1). (U)</dd>

    <dt><a name="mode-printing-high" id=
    "mode-printing-high">printing-high</a></dt>

    <dd>The integer value representing the last character of the
    printable set of "high bit" (i.e. 8-bit) characters. Defaults
    to 0. Set this to 255 for ISO 8859/1 compatibility. The
    printing-low and printing-high modes are not necessary if your
    system supports the locale functions. (U)</dd>

    <dt>reader-policy (rp)</dt>

    <dd>Control whether buffers are initially read using the fast
    and/or slow methods. The fast method uses less memory, but in
    cases where there is little free memory, or the heap is
    fragmented, the slow method may work. However, the slow method
    is much slower. This mode defaults to "both", which means that
    the quick method is tried first, and if it fails to allocate
    the large chunks needed for the buffer, it will retry using the
    slow (small chunk) method. Set to "fast" to use only the fast
    method, and to "slow" for only the slow method. (U)</dd>

    <dt>readonly (ro)</dt>

    <dd>Prevent writing a buffer to its associated file. Unlike
    <a href="#mode-view">"view"</a> mode (see below) which prevents
    any modifications to a buffer, this mode allows changes, but
    prevents updates. This is set automatically for the output of
    shell commands and pipes. (B)</dd>

    <dt>readonly-on-readonly (roro)</dt>

    <dd>Causes "readonly" mode to be set for read-only files.
    Normally vile will attempt to write files whether the operating
    system will allow it or not. This mode should be turned on to
    truly mimic vi's default behavior. (U)</dd>

    <dt><a name="mode-recordseparator" id=
    "mode-recordseparator">recordseparator (rs)</a></dt>

    <dd>
      Specify format of files that vile reads and writes. Formats
      are

      <ul>
        <li>"auto" (to choose between lf and crlf, override dos
        mode)</li>

        <li>"lf" (for Unix),</li>

        <li>"crlf" (for DOS),</li>

        <li>"cr" (for Macintosh, overridden by dos mode)</li>

        <li>and "default" (lf or crlf, depending on the
        platform).</li>
      </ul>

      <p>When reading from a file, vile can determine the file
      format automatically, and set a local value for this mode.
      When reading from a pipe, it uses the global value of
      recordseparator to decide how to split lines. Files created
      within vile do not automatically have a local recordseparator
      mode; they inherit the global mode setting. The commands</p>
      <pre>
        set-rs-cr
        set-rs-lf or set-unix-mode
        set-rs-crlf or set-dos-mode
</pre>

      <p>are aliases which set the corresponding local mode values
      of recordseparator. Set the recordseparator on a given buffer
      to control how it is written. (B)</p>
    </dd>

    <dt>norectangle-insert-mode (rim)</dt>

    <dd>Insert, rather than overstrike, change changing text in a
    rectange. (B)</dd>

    <dt>remap</dt>

    <dd>Controls whether :map or :map! sequences entered with no
    explicit remapping control should be subject to remapping (i.e.
    recursive mapping). (U)</dd>

    <dt>remapfirst</dt>

    <dd>Controls whether the first character of a map expanded due
    to :map or :map! is eligible for remapping. This is off by
    default for vi compatibility. (U)</dd>

    <dt>report</dt>

    <dd>A threshold value that is used to control messages that
    report the number of lines deleted, changed, etc. Set it to 0
    (zero) to disable the messages. (U)</dd>

    <dt>resolve-links</dt>

    <dd>Controls whether vile fully resolves file names in cases
    where some path components are symbolic links. This makes vile
    smarter about symbolic links that provide multiple paths to a
    given file, and ensures that files are always represented in
    vile by their "true" names. (This can prevent multiple
    unintentional edits of the same physical file via different
    pathnames &ndash; but see also <a href=
    "#mode-unique-buffers">"unique-buffers"</a>, below.) It may
    trigger long timeouts on systems where symbolic links are used
    in conjunction with NFS automounted directories. (Note that
    this does not detect or prevent multiple edits caused by hard
    file links &ndash; only symbolic ones.) (U)</dd>

    <dt><a name="mode-reuseposition" id=
    "mode-reuseposition">reuse-position</a></dt>

    <dd>Like the <a href="#mode-animated">animated</a> mode,
    restore the position in a scratch buffer when recreating it.
    This is useful for closely related commands such as <a href=
    "#command-show-printable">show-printable</a> and <a href=
    "#command-show-wide-printable">show-wide-printable</a> that use
    the same scratch buffer name.</dd>

    <dt><a name="mode-ruler" id="mode-ruler">ruler</a></dt>

    <dd>Shows the current line and column in the status line, as
    well as what percentage of the current buffer's lines lie in
    front of the cursor. (This percentage is different than that
    given by ^G (the "position" function), which gives a percentage
    of characters rather than lines.) (B)</dd>

    <dt>samebangs (sb)</dt>

    <dd>Controls whether the ":!!" and "^X-!" commands remember the
    same command string. (U)</dd>

    <dt>sections</dt>

    <dd>A regular expression defining where the "next-section"
    (']') and "previous-section" ('[') commands will go. (B)</dd>

    <dt>sentences</dt>

    <dd>A regular expression defining where the "next-sentence"
    (')') and "previous-sentence" ('(') commands will go. (B)</dd>

    <dt>shiftwidth (sw)</dt>

    <dd>This is much like a tabstop, except that it is independent
    of hardware tabs and tab characters. It is the number of
    columns a line will shift by if the '&lt;&lt;' or '&gt;&gt;'
    commands are used, and it chooses the next column stop for the
    cursor if a '^T' or '^D' is typed during insert mode. Note that
    when the majormode cmode is enabled, shiftwidth assumes the
    local buffer mode value of 8. (B)</dd>

    <dt><a name="mode-showchar" id="mode-showchar">showchar
    (sc)</a></dt>

    <dd>Controls whether the modeline can show the %C formatted
    character at the current editing position. This is overridden
    by the <a href="#mode-ruler">ruler</a> mode, to save space on
    the modeline (W).</dd>

    <dt>showformat (sf)</dt>

    <dd>Controls when/whether recordseparator information is shown
    in the status line. Values are "always", "differs" to show when
    the local mode differs from the global, "local" to show
    whenever a local mode is set, "foreign" to show when the
    recordseparator differs from the native default and "never". On
    Unix, the native recordseparator is a line-feed, on DOS it is
    carriage-return/line-feed. (B)</dd>

    <dt><a name="mode-showmatch" id="mode-showmatch">showmatch
    (sm)</a></dt>

    <dd>During insert, if a closing "fence" character (usually '}',
    ']', or ')', but may be changed by setting "fence-pairs") is
    typed, the cursor will highlight the matching member of the
    pair for about a quarter second. (B)</dd>

    <dt>showmode (smd)</dt>

    <dd>Causes an indicator on the modeline to indicate what mode
    vile is currently in: insert (I), replace (R), or command
    (none). (B)</dd>

    <dt>showram (sr)</dt>

    <dd>Displays the amount of ram currently allocated at the end
    of the message line. (not in all versions) (U)</dd>

    <dt>showvariables (sv)</dt>

    <dd>If set, causes the [Variables] buffer which is created by
    the "show-variables" command to be updated each time the screen
    is updated. (W)</dd>

    <dt>sideways</dt>

    <dd>Will prompt for a new value for the sideways scroll offset,
    which allow display of a section of code normally off the
    screen to the right. Also affected by the ^X-^R and ^X-^L
    commands. (W)</dd>

    <dt>smoothscroll (ss)</dt>

    <dd>Force smooth scrolling. By default, this option is turned
    off so that vile will try to keep up with your keystrokes
    instead of keeping the display up to date. Some keyboards
    repeat faster than the screen can keep up causing the screen to
    jump. If this bothers you, set smoothscroll to true. Warning:
    If your keyboard repeats really fast and you have smoothscroll
    enabled, it may take a while for vile to catch up. (U)</dd>

    <dt>spaces-after-sentence (sas)</dt>

    <dd>Insert two spaces after each sentence when formatting a
    paragraph. By default this option is turned on. When disabled,
    the format routine will insert only one space after each
    sentence. (B)</dd>

    <dt>suffixes (suf)</dt>

    <dd>A regular expression describing filename suffixes for which
    the corresponding majormode will be set. The expression is
    applied only to the portion of the filename beginning with the
    first ".". If more than one of mode-pathname, mode-filename and
    suffixes are given, they are tested in this order. (M)</dd>

    <dt>swap-title</dt>

    <dd>
      For xvile/winvile, if set, the editor displays its title as:
      <pre>
        &lt;current buffer name&gt; - &lt;editor name&gt;
</pre>

      <p>The swapped order is especially useful under limited
      screen real estate conditions. (U)</p>
    </dd>

    <dt>tabinsert (ti)</dt>

    <dd>Allow the physical insertion of tab characters into the
    buffer. If turned off ("notabinsert"), and an attempt is made
    to insert a tab character by explicitly typing it or by using
    shiftwidth or the line shifting commands, then the appropriate
    number of space characters will be inserted instead. Use '^V^I'
    to insert a real tab, and remember that pre-existing tabs will
    not be affected. Use the '^A-&lt;SP&gt;' operator command to
    eliminate pre-existing tabs from a region of text. (B)</dd>

    <dt>tabstop (ts)</dt>

    <dd>Set the value for spacing of normal tabstops. Note that
    when the majormode cmode is enabled, tabstop assumes the local
    buffer mode value of 8. (B)</dd>

    <dt>tagignorecase (tc)</dt>

    <dd>Causes tag searches to be done ignoring upper and lower
    case. (B)</dd>

    <dt>taglength (tl)</dt>

    <dd>Sets the significant length for tags. If non-zero, lookups
    for names longer than the taglength value will only attempt to
    match that many characters. If a lookup is for a shorter
    pattern, or the value of taglength is zero, then the tags must
    match the lookup pattern exactly. This will not effect tags
    picked up from the cursor &ndash; they are always matched
    exactly. (B)</dd>

    <dt>tagrelative (tr)</dt>

    <dd>Causes files looked up via the tags mechanism to be found
    relative to the location of the tags file, rather than relative
    to the current directory. This allows the same tags file to be
    useful from different locations, while not requiring absolute
    filenames. For example, using `set tags "tags ../tags"' would
    allow a single tags file (located in the parent) to be used in
    a small source hierarchy from either the parent or a child
    directory. (B)</dd>

    <dt><a name="mode-tags" id="mode-tags">tags</a></dt>

    <dd>Gives a path of names of file(s) in which to look up tag
    references. It is a whitespace-separated list of filenames.
    Relative pathnames in this list are evaluated with respect to
    the current directory of vile at the time of the tags lookup.
    (B)</dd>

    <dt>tagword (tw)</dt>

    <dd>When scanning the word to lookup from the cursor position
    for the tags mechanism, grab the whole word rather than the
    substring starting at the cursor position. The latter, which is
    vi-like, is the default. (B)</dd>

    <dt>terse</dt>

    <dd>vile produces more "status" messages than vi, which may
    become annoying at low baud rates. Setting terse mode will
    suppress many of these. (B)</dd>

    <dt>terse-selections (tsel)</dt>

    <dd>Boolean indicating whether or not additional information is
    displayed about a selection. When false, the starting and
    ending positions of the selection are displayed as the
    selection is extended. The default is true. (W)</dd>

    <dt>timeoutlen</dt>

    <dd>How long to wait for the characters of a :map'd sequence.
    Typically needed to resolve the ambiguity between a
    user-pressed ESCape key and an ESC character that is part of a
    function key sequence. vile will wait for "timeoutlen"
    milliseconds after seeing an ESC, in order to check the next
    character of input. The time defaults to 500, or half a second.
    Users of fast local screens, like a local xterm, may wish to
    reduce this to something like 50 for crisper response to a
    user-pressed ESC. (U)</dd>

    <dt>timeoutlen-user</dt>

    <dd>If set non-zero, this will enforce a maximum waiting time
    for characters in a user-defined :map sequence. If zero, the
    value of timeoutlen, above, will be used for both "system" and
    user sequences. It is likely that a short time is desired for
    system sequences, and a long time for user sequences. For this
    reason the default value of timeoutlen-user is 60000. This will
    give a full minute to type each character of a user-defined
    :map. Be careful &ndash; extremely large values may overflow
    the word size on smaller machines, i.e, you will probably want
    to avoid setting timeoutlen-user larger than 65535. (U)</dd>

    <dt>undo-dos-trim (udt)</dt>

    <dd>Controls whether trimming of carriage returns and control/Z
    done when converting between Unix and DOS line endings is
    undoable.</dd>

    <dt>undoable (ua)</dt>

    <dd>Controls whether changes are saved on the undo stack. This
    is normally enabled, but you may wish to disable it to reduce
    memory overhead when filtering very large files. (B)</dd>

    <dt>undolimit (ul)</dt>

    <dd>Sets a limit on how many undoable buffer-changing commands
    will be saved. If set to 0, there is no limit, and all changes
    are undoable. The default value is 10. (B)</dd>

    <dt>unicode-as-hex (uh)</dt>

    <dd>If displaying a buffer whose file-encoding says it is one
    of the Unicode flavors, e.g., "utf-8", "utf-16" or "utf-32",
    show the values that are non-ASCII in "\uXXXX" format even if
    the display is capable of showing these as regular characters.
    (W)</dd>

    <dt><a name="mode-unique-buffers" id=
    "mode-unique-buffers">unique-buffers</a></dt>

    <dd>When vile is asked to read a file into a buffer, it will
    first check to be sure that it doesn't already have a copy of
    that file, by the same or a different name. This can prevent
    multiple unintentional edits of a file which appears twice in
    the filesystem due to hard or soft links. On UNIX systems vile
    uses the combination of filesystem device and inode to check
    for uniqueness. vile will represent the file by the first name
    used to refer to it. Note that unless "check-modtime" is also
    set, a file with more than one name which is edited and then
    replaced on disk without the knowledge of the editor may still
    be edited twice. Setting this mode may be a no-op on non-UNIX
    systems. (U)</dd>

    <dt><a name="mode-unprintable-as-octal" id=
    "mode-unprintable-as-octal">unprintable-as-octal (uo)</a></dt>

    <dd>If an 8-bit character is non-printing, it will normally be
    displayed in hexadecimal. This setting will force octal
    display. Non-printing characters whose 8th bit is not set are
    always displayed in control character (e.g. '^C') notation.
    (W)</dd>

    <dt>video-attrs</dt>

    <dd>Overlay all text with the given attribute: bold, italic,
    reverse, underline or none. (U)</dd>

    <dt><a name="mode-view" id="mode-view">view</a></dt>

    <dd>View the file only. No changes are permitted. (B)</dd>

    <dt>view-on-readonly (viewro)</dt>

    <dd>Causes "view" mode to be set for read-only files. (U)</dd>

    <dt>visual-matches</dt>

    <dd>
      When a search command is executed, the cursor will move as
      usual. In addition, all matching occurrences of the
      searched-for pattern (in the current buffer) will be
      emphasized according to the value of this mode: "none",
      "underline", "bold", "italic", or "reverse". Additionally, on
      systems which support color, this mode may be used to set the
      text foreground color using any of the color values.

      <p>The '=' command can be used to clear this sort of
      highlighting, until the next search is done for a different
      pattern. Note that setting this mode can significantly slow
      down the editor's operation when complex or frequently
      occurring patterns are used, since vile will need to scan the
      entire buffer for matches on any change to the buffer.
      (B)</p>
    </dd>

    <dt><a name="mode-vtflash" id="mode-vtflash">vtflash</a></dt>

    <dd>
      If your terminal does not support a visual flash feature, but
      does support the DECSCNM control sequences that toggle
      normal/inverse screen video (a feature available with vt100
      and later terminals), then a visual bell effect may be
      achieved using this mode.

      <table border="1" summary="Values for 'vtflash'">
        <colgroup>
          <col width="30%">
          <col width="70%">
        </colgroup>

        <tr>
          <th>Mode Value</th>

          <th>Mode Semantics</th>
        </tr>

        <tr>
          <td>off</td>

          <td>feature disabled (default)</td>
        </tr>

        <tr>
          <td>reverse</td>

          <td>on err -&gt; switch screen to normal then reverse
          video.</td>
        </tr>

        <tr>
          <td>normal</td>

          <td>on err -&gt; switch screen to reverse then normal
          video.</td>
        </tr>
      </table>

      <p>As is true with "flash" mode, no audible or visible
      indication will occur at all if "errorbells" mode is not set
      on. (U)</p>
    </dd>

    <dt>warn-blanks</dt>

    <dd>When prompted for a filename, vile normally allows you to
    use leading and trailing blanks and other nonprinting
    characters. Set this mode if you prefer to be prompted. Vile
    will then prompt you if you want the nonprinting characters to
    be stripped from the given filename. (U)</dd>

    <dt>warn-rename</dt>

    <dd>When using ":e" to find a file that has the same name as
    another buffer, vile will normally offer for you to edit the
    proposed alternate name for the buffer constructed by adding a
    "-1", "-2", etc. to the end of the name. Turning off
    "warn-rename" will make vile choose buffer names without user
    intervention. (U)</dd>

    <dt>warn-reread</dt>

    <dd>When using ":e!" to reread a buffer from the file on disk,
    vile will normally warn you that you are about to clobber a
    modified buffer. Turning off "warn-reread" mode will make vile
    assume you know what you are doing. (U)</dd>

    <dt>warn-unread</dt>

    <dd>When leaving the editor, if not all buffers have been
    "visited", then normally vile will complain, and remind the
    user to use ":q!". Turning off "warn-unread" mode will suppress
    this behavior. (U)</dd>

    <dt>working</dt>

    <dd>If turned off (noworking), will suppress the activity
    indicator ("working..."/"...working") which appears during
    long-running operations. (U)</dd>

    <dt>wrapmargin (wm)</dt>

    <dd>
      Implements vi's auto-wrap mode. vile computes the effective
      margin from the mode's value:

      <ul>
        <li>if positive, the wrapmargin specifies the number of
        columns on the screen's right margin to reserve before
        breaking the input lines on a preceding space.</li>

        <li>if negative, vile counts from the left margin.</li>

        <li>if zero (default), this mode is inactive.</li>
      </ul>

      <p>A value of 5 and an 80 column screen will result in 75
      character lines. This mode is different from the "wrapwords"
      mode (below) which uses the "fillcol" setting as its target
      column. The two modes probably should not both be used at
      once. (B)</p>
    </dd>

    <dt>wrapscan (ws)</dt>

    <dd>Text searches will continue from past the bottom of the
    file to the top, and vice-versa. (B)</dd>

    <dt>wrapwords (ww)</dt>

    <dd>Similar to, but different from, vi's auto-wrap mode (i.e.
    "wrapmargin"). While inserting, words are moved to the next
    line if the current line gets too long. Wrapping is only
    attempted when a space is typed. The target maximum width of
    lines is changed with the "fillcol" setting. (B)</dd>

    <dt>xterm-fkeys</dt>

    <dd>Support xterm's modified function keys by generating system
    bindings for the shift-, control-, alt-modifiers of each
    function key listed in the terminal description.</dd>

    <dt>xterm-mouse</dt>

    <dd>Enables mouse-clicking if you are running within an xterm.
    That is, it allows vile to receive mouse events. Since this
    mode overrides xterm's cut &amp; paste, you will need to use
    the Shift key when pressing the mouse buttons to cut and paste
    between X windows. Your TERM variable's termcap entry should
    contain the string "xterm" for this to work. (U)</dd>

    <dt>xterm-title</dt>

    <dd>Enables titlebar updates if you are running within an
    xterm. Each time you switch to a different buffer, vile can
    update the title. This uses the same tests of the TERM variable
    as the xterm-mouse mode. (U)</dd>

    <dt>yankmotion (ym)</dt>

    <dd>Yanking text will cause cursor movement (just like vi) if
    the motion is left or up. (B)</dd>
  </dl>

  <h2 id="eightbit-ops2"><a name="eightbit-ops" id=
  "eightbit-ops">8-Bit Operation</a></h2>

  <p>vile allows input, manipulation, and display of all 256
  possible byte-wide characters. Wide characters are supported,
  depending on the device type and your locale settings.</p>

  <h3 id="eightbit-output2"><a name="eightbit-output" id=
  "eightbit-output">Output</a></h3>

  <p>By default, 8-bit characters with the high bit set (decimal
  value 128 or greater) will display as hexadecimal (or octal; see
  <a href="#mode-unprintable-as-octal">"unprintable-as-octal"</a>
  above) sequences, e.g. \xA5. A range of characters which should
  display as themselves (that is, characters understood by the
  user's display terminal) may be given using the <a href=
  "#mode-printing-low">"printing-low"</a> and <a href=
  "#mode-printing-high">"printing-high"</a> settings (see above).
  Useful values for these settings are 160 and 255, which
  correspond to the printable range of the ISO-Latin-1 character
  set.</p>

  <p>If your locale (e.g., the LANG or LC_CTYPE environment
  variable on a POSIX platform) is configured properly, the
  "printing-low" and "printing-high" settings are not needed. vile
  initializes its character type tables based on the system. You
  can make finer adjustments to those tables as described in
  "Character Classes".</p>

  <p>If your terminal (and locale) are set up to support UTF-8,
  vile can display files which use that encoding. It can also
  display UTF-16 and UTF-32 files using UTF-8. When the
  terminal/locale do not support UTF-8 vile displays the wide
  characters as hexadecimal codes, e.g., \u1234. Even when vile can
  display wide characters, you can force it to display the
  hexadecimal codes with the "unicode-as-hex" mode.</p>

  <p>See <a href="config.html#utf8drivers">UTF-8 Support versus
  Driver</a> in config.doc for an overview of the terminal
  drivers.</p>

  <p>If your terminal and locale are not set up to support UTF-8,
  vile displays UTF-8 codes that would map to Latin-1 (8-bit)
  values with a "\?" rather than "\x" prefix, to distinguish them
  from ordinary 8-bit values. It will also display this form for
  bytes found in UTF-8 files that cannot be decoded as UTF-8.</p>

  <h3 id="eightbit-input2"><a name="eightbit-input" id=
  "eightbit-input">Input</a></h3>

  <p>There are basically three ways of getting 8-bit characters
  into a vile buffer:</p>

  <dl>
    <dt>Directly &ndash;</dt>

    <dd>
      if the user's input device (i.e. the terminal or xterm) can
      generate all characters, and if the terminal settings are
      such that these characters pass through unmolested, then vile
      will happily incorporate them into the user's text, or act on
      them if they are bound to functions. On an xterm, try "stty
      cs8 -parenb -istrip". Real serial lines may take more
      convincing, at both ends, but use that stty command as a
      starting point.

      <p>If you start vile in a locale that uses UTF-8 encoding,
      vile will check if there is a corresponding 8-bit encoding by
      stripping the UTF-8 suffix from the locale name, e.g.,
      "en_US.UTF-8" to "en_US". When reading characters from the
      keyboard, it will map 8-bit codes to the 8-bit locale when
      editing a buffer whose file-encoding is "8bit" or
      "ascii".</p>
    </dd>

    <dt>As numbers &ndash;</dt>

    <dd>
      the ^V prefix (or, more correctly, the key bound to the
      "quote-next-character" function), if followed by up to three
      digits, will insert a character whose value is that number
      (no greater than 255) into the buffer. The number may be
      entered in

      <ul>
        <li>decimal (^VNNN),</li>

        <li>octal with a leading '0' (^V0NNN) or</li>

        <li>hexadecimal with a leading 'x' (^VxNN).</li>
      </ul>

      <p>Wide (Unicode) values can be entered in a similar fashion,
      though they are stored as more than one byte:</p>

      <ul>
        <li>Unicode hexadecimal with a leading 'u' (^VuNNNN).</li>

        <li>Unicode decimal with a leading 'U' (^VuNNNN).</li>
      </ul>

      <p>If the current buffer's "file-encoding" mode is set to one
      of the Unicode flavors (utf-8, utf-16 or utf-32), vile will
      display the value as a wide character. Otherwise it will show
      the bytes of the corresponding UTF-8 encoding.</p>
    </dd>

    <dt>As digraphs &ndash;</dt>

    <dd>Perhaps more useful to some people is using a set of
    ":map!" commands to aid insertion of 8-bit text. The file
    "digraphs.rc" distributed with the vile source contains a set
    of mappings which should aid the input of ISO 8859/1 text. As
    examples, the mappings in digraphs.rc allow one to type ^KU" or
    ^Ku" to get an umlaut character, ^K12 to get the little '1/2'
    symbol, ^KY- to get the Yen currency symbol, or ^K:- to get an
    arithmetic division symbol.</dd>
  </dl>

  <p>Users who have no need to enter 8-bit text may want access to
  the meta-bound functions while in insert mode as well as command
  mode. The mode "meta-insert-bindings" controls whether functions
  bound to meta- keys (characters with the high bit set) are
  executed only in command mode, or in both command and insert
  modes. In either case, if a character is <i>not</i> bound to a
  function, then it will be self-inserting when in insert mode. (To
  bind to a meta key in the .vilerc file, one may specify it as
  itself, or in hexadecimal or octal, or with the shorthand 'M-c'
  where c is the corresponding character without the high bit
  set.</p>

  <p>(Although it is possible to edit and view all 256 characters,
  it is currently impossible to <i>search</i> for a string that
  contains the NULL character, since this is used internally to
  terminate the search string.)</p>

  <h2 id="command-history2"><a name="command-history" id=
  "command-history">Command History</a></h2>

  <p>You may scroll through the list of previous replies to the
  :-prompt by using the up- or down-arrow special keys on your
  keyboard (if your configuration supports it).</p>

  <p>Vile prompts for commands in parts, and stores a copy of the
  complete command in the [History] buffer. For example, you may
  type</p>
  <pre>
        :g/help/p
</pre>

  <p>and vile will prompt for the parts after each delimiter,
  e.g.,</p>
  <pre>
        global pattern: help
        action to perform on each matching line: p
</pre>

  <p>The [History] buffer, shown with "show-history" will store</p>
  <pre>
        g/help/p
</pre>

  <p>At each prompt, using the up/down arrows will tell vile to
  display the corresponding result for the "same" command. If
  [History] contains</p>
  <pre>
        g/take/g
        g/help/p
</pre>

  <p>then the up/down arrows will show "take" or "help", skipping
  commands which do not begin with "g/".</p>

  <h2 id="editing-minibuffer2"><a name="editing-minibuffer" id=
  "editing-minibuffer">Editing the Minibuffer</a></h2>

  <p>The minibuffer (i.e., the last line on the screen, aka the
  :-prompt) can be edited using arrow keys, the delete character,
  or by toggling to vi-mode with the ^G (mini-edit) character. In
  mini-edit mode, you may use commands that do not move the cursor
  to a different line, as well as the following editing commands:
  i, a, I, A.</p>

  <p>Vile treats the minibuffer specially. Completed lines are
  written to the history buffer. When scrolling up/down in the
  command history, vile displays the data that correspond to the
  command which you have entered, e.g., a :set command will display
  the variables entered for preceding :set commands.</p>

  <h2 id="special-expansion2"><a name="special-expansion" id=
  "special-expansion">Special Character Expansion</a></h2>

  <p>As in vi, the % and # characters typed while responding to a
  prompt will expand to the current or "alternate" filename.</p>

  <p>Also as in vi, the ~ character will expand to be the previous
  replacement pattern when entering either a replacement or search
  pattern,</p>

  <p>In addition, the colon character (":") expands at most prompts
  to be the identifier name under the cursor.</p>

  <p>Expansion of ! to the last command run is implemented, but
  only when a shell command is being entered.</p>

  <p>Any of these expansions can be suppressed by prefixing with a
  '\'.</p>

  <h2 id="char-classes2"><a name="char-classes" id=
  "char-classes">Character Classes</a></h2>

  <p>The "show-printable" command shows a table of the characters
  and their classes, e.g., printable, punctuation, etc.</p>

  <p>You may modify the characters in (or corresponding to) the
  narrow local in this table by setting or unsetting a given class
  for a range of characters. The commands which do this are
  "set-char-class" and "delete-char-class" or
  "unset-char-class".</p>

  <p>These commands expect the class name and a regular expression
  which defines a range of characters. The class names (short to
  allow "show-printable" to show everything in 80 columns) are</p>

  <table border="1" summary="Character classes">
    <colgroup>
      <col width="30%">
      <col width="70%">
    </colgroup>

    <tr>
      <th>Short</th>

      <th>Long Description</th>
    </tr>

    <tr>
      <td>arg</td>

      <td>ex-style line range: 1,$ or 13,15 or % etc.</td>
    </tr>

    <tr>
      <td>ctl</td>

      <td>[:cntrl:] control character</td>
    </tr>

    <tr>
      <td>del</td>

      <td>delete/backspace</td>
    </tr>

    <tr>
      <td>fn</td>

      <td>fence character, e.g., "{" or "}"</td>
    </tr>

    <tr>
      <td>id</td>

      <td>[:ident:] normal identifier, used for word
      boundaries</td>
    </tr>

    <tr>
      <td>lwr</td>

      <td>[:lower:] lowercase, e.g., "a"</td>
    </tr>

    <tr>
      <td>nsp</td>

      <td>[:graph:] nonspace</td>
    </tr>

    <tr>
      <td>num</td>

      <td>[:digit:] digit, e.g., "0"</td>
    </tr>

    <tr>
      <td>path</td>

      <td>[:file:] file/path name</td>
    </tr>

    <tr>
      <td>prn</td>

      <td>[:print:] printable</td>
    </tr>

    <tr>
      <td>pun</td>

      <td>[:punct:] punctuation</td>
    </tr>

    <tr>
      <td>qid</td>

      <td>qualified identifiers, used in tags parsing</td>
    </tr>

    <tr>
      <td>sh</td>

      <td>may appear in shell/pipe</td>
    </tr>

    <tr>
      <td>sp</td>

      <td>[:blank:] space</td>
    </tr>

    <tr>
      <td>tmp</td>

      <td>legal in scratch-buffer names</td>
    </tr>

    <tr>
      <td>upr</td>

      <td>[:upper:] uppercase, e.g., "A"</td>
    </tr>

    <tr>
      <td>wld</td>

      <td>shell wildcard, e.g., "*"</td>
    </tr>
  </table>

  <p>You can also reset the table to its initial state using
  "reset-char-classes".</p>

  <h2 id="key-rebinding2"><a name="key-rebinding" id=
  "key-rebinding">Key Rebinding</a></h2>

  <p>There is a key rebinding facility (if vile is built to include
  it), which is invoked as follows. One must know the "english"
  name for the command being rebound. Use ":show-commands" or
  ":apropos string" to find english names containing "string". Then
  use the command:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">:<span class=
    "keyword">bind-key</span>&nbsp;&lt;englishname&gt;&nbsp;&lt;keyseq&gt;<br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>where keyseq is the exact keyboard sequence (i.e. single
  character, or '^X', '^A', or '#' followed by a single character)
  to which the command should be bound. In a .vilerc file, keyseq
  can be either the literal sequence, or the printable
  representation of the sequence, e.g. ^A-a or ^X-S. (A summary of
  how key-sequences can be represented appears at the end of this
  section.)</p>

  <p>For configurations that permit it (X and win32, not
  termcap/terminfo), you may also specify a key modifier, i.e.,
  "alt+", "ctrl+" or "shift+". The modifier follows the ^A or ^X
  prefix, e.g.,</p>
  <pre>
        shift+#6
</pre>

  <p>for shifted function-key 6.</p>

  <p>Commands can also be bound to meta keys, which are regular
  ASCII characters with the eighth bit (0x80) bit set. The
  "printable" form for these keys is 'M-c'.</p>

  <p>Commands bound to '#-c' or 'FN-c' key sequences are usually
  also available by using the function keys on the terminal. Thus
  the up-arrow function key can be bound to as '#-A' or 'FN-A'. Use
  show-key-names to see a complete list of these key sequences.</p>

  <p>Even the ^A and ^X prefix characters can be rebound, using the
  dummy functions "cntl_a-prefix" and "cntl_x-prefix", and the '#'
  key itself can be rebound &ndash; it is represented by the
  command name "function-prefix".</p>

  <p>Examples: To cause the / and ? commands to perform incremental
  searches, use:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">incremental-search</span>&nbsp;/<br>
    <span class="keyword">bind-key</span>&nbsp;<span class=
    "keyword">reverse-incremental-search</span>&nbsp;?<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>To make ^N and ^P switch windows instead of cause motion by
  lines, try:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">next-window</span>&nbsp;<span class=
    "literal">^N</span><br>
    <span class="keyword">bind-key</span>&nbsp;<span class=
    "keyword">previous-window</span>&nbsp;<span class=
    "literal">^P</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>To cause the space bar to move forward by pages, as in the
  "more" command, use:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">next-page</span>&nbsp;<span class=
    "literal">\s</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>(Space and tab can be represented with: "\s" and "\t".)</p>

  <p>Note that when interactive, ^A and ^X are typed using the
  control key. In a file, however, they can be either a caret (^)
  followed by a letter, or the literal control key. In the latter
  case you would not use the '-' separator. So ^A-x as four
  distinct characters could also be entered as ^Ax, which would
  only be two characters.</p>

  <p>Characters can be entered in hexadecimal or octal as well, in
  the form 0xNN, where NN is exactly two hexadecimal digits. If you
  know the hexadecimal value for a key, you can bind to it
  like:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">next-window</span>&nbsp;<span class=
    "literal">^A-\</span>x14<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>or</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">next-window</span>&nbsp;<span class=
    "literal">#-\</span><span class="number">213</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>The sequence 'M-', represents a "meta-key", or a "meta"
  character. It is equivalent to setting the high bit of the
  following character, so 'M-e' is has the value of (0x80|0x65), or
  0xe5.</p>

  <p id="insert-mode">Function and meta-key bindings are available
  in insert mode, as well as in command mode. (But only via either
  the "meta bit" or 'FN' sequence form &ndash; the '#' prefix will
  not work in insert mode.) There are four key binding tables:</p>

  <dl>
    <dt>default &ndash;</dt>

    <dd>
      for commands in screen mode as well as those that do not fit
      naturally into one of the specialized modes. This is
      initialized by compiled-in definitions for normal (0-127) and
      special (function and meta-key) definitions.
      <pre>
        bind-key
        describe-all-keys
        describe-bindings
        describe-key
        unbind-key
</pre>
    </dd>

    <dt>cmdmode -</dt>

    <dd>
      for command editing. This is initialized with the special
      keys from the default table, as well as the control
      characters that are associated with movement, e.g., ^N and
      ^P.
      <pre>
        bind-cmdmode-key
        describe-all-cmdmode-keys
        describe-cmdmode-key
        show-cmdmode-bindings
        unbind-cmdmode-key
</pre>
    </dd>

    <dt>insmode -</dt>

    <dd>
      for insertion. This is initialized with the special keys from
      the default table, as well as the control characters that are
      associated with movement, e.g., ^N and ^P. The insert-exec
      mode controls whether those control characters are
      interpreted or inserted.
      <pre>
        bind-insmode-key
        describe-all-insmode-keys
        describe-insmode-bindings
        describe-insmode-key
        unbind-insmode-key
</pre>
    </dd>

    <dt>selmode -</dt>

    <dd>
      for selection highlighting, i.e., multimotion. This is
      initially the same as the default binding table, but may be
      customized.
      <pre>
        bind-selmode-key
        describe-all-selmode-keys
        describe-selmode-bindings
        describe-selmode-key
        unbind-selmode-key
</pre>
    </dd>
  </dl>

  <p>The "describe-all-*keys" commands differ from the
  display-commands in each group. They show for each of the 256
  character codes which normal (unmodified) or ^A/^X (modified)
  keys are bound to a given function. Use a repeat count before
  those commands to show data for <em>all</em> 256 codes.</p>

  <p>The following macro will work correctly in both command and
  insert modes. Note that you must specify the insert mode
  (insmode) binding separately; default bindings are not inherited
  automatically because they may conflict with the bindings used
  for exiting or modifying text within insert mode.</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">store-procedure</span><span class=
    "literal">&nbsp;begin-errtext</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">insert-string</span>&nbsp;<span class=
    "literal">"fprintf(stderr,&nbsp;\""</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">set-named-mark</span><span class=
    "literal">&nbsp;z</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">insert-string</span>&nbsp;<span class=
    "literal">"\\n\");\n"</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">goto-named-mark-exact</span>&nbsp;z<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "comment">;&nbsp;enter&nbsp;insert&nbsp;mode&nbsp;if&nbsp;we&nbsp;weren't&nbsp;already&nbsp;there</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~if</span>&nbsp;<span class=
    "ident2">&amp;seq</span>&nbsp;<span class=
    "ident2">$mode</span>&nbsp;<span class=
    "literal">"command"</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">insert-chars</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~endif</span><br>
    <span class="preproc">~endm</span><br>
    <span class=
    "comment">;&nbsp;bind&nbsp;to&nbsp;function&nbsp;key&nbsp;5</span><br>

    <span class=
    "keyword">bind-key</span>&nbsp;begin-errtext&nbsp;<span class=
    "literal">FN-5</span><br>
    <span class=
    "keyword">bind-insmode-key</span>&nbsp;begin-errtext&nbsp;<span class="literal">FN-5</span><br>

    <span class=
    "comment">;&nbsp;also&nbsp;bind&nbsp;to&nbsp;meta-A</span><br>
    <span class=
    "keyword">bind-key</span>&nbsp;begin-errtext&nbsp;M-A<br>
    <span class=
    "keyword">bind-insmode-key</span>&nbsp;begin-errtext&nbsp;M-A<br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>Actually the "meta-insert-bindings" setting controls whether
  meta- keys will have their bound effect when in insert mode. If
  this setting is not on (or if the meta-key is not bound to any
  function) then the key's value will simply be inserted into the
  buffer.</p>

  <h3 id="key-syntax2"><a name="key-syntax" id="key-syntax">Syntax
  for key-sequences:</a></h3>

  <p>To summarize, a key-sequence being bound to is specified
  with:</p>

  <ol>
    <li>an optional prefix, like this:

      <p>^A- (three chars)<br>
      ^X- (three chars)<br>
      ^A (one char)<br>
      ^X (one char)<br></p>
    </li>

    <li>followed by an optional "function" prefix:

      <p>#- (two chars) or<br>
      FN- (three chars)</p>
    </li>

    <li>followed by an optional "meta" prefix:

      <p>M- (two chars)<br>
      (this is the same as with specifying a character in that has
      the high bit set)</p>
    </li>

    <li>followed by a character, like this:

      <p>C (one char)<br>
      ^C (one char)<br>
      ^C (two chars)<br>
      \NNN (max of four chars, where NNN are octal digits)<br>
      \xNN (max of four chars, where NN are hex digits)<br>
      \n,\r,\t,\b,\f,\a (two chars each, usual meanings)<br>
      \e (two chars, means ESC)<br>
      \s (two chars, means SPACE)</p>
    </li>
  </ol>

  <p>(The "one char" control character entries in the above table
  are represented in this help file as two printable characters, to
  ensure they are not deleted by mailers or file transfer
  programs.)</p>

  <h3 id="function-keys2"><a name="function-keys" id=
  "function-keys">Function Keys</a></h3>

  <p>When you bind to a function key, you will see its value
  printed as a 'poundsign' sequence. And, if you wish to :map a
  function key, you will need to use its poundsign sequence. This
  is explained more fully below.</p>

  <p>The list of function key labels, along with their "vile name",
  are as follows:</p>

  <table border="1" summary="Function key labels">
    <colgroup>
      <col width="25%">
      <col width="25%">
      <col width="25%">
      <col width="25%">
    </colgroup>

    <tr>
      <th>Usual Label</th>

      <th>Vile name</th>

      <th>Usual Label</th>

      <th>Vile name</th>
    </tr>

    <tr>
      <td>Up-arrow</td>

      <td>#A</td>

      <td>Home</td>

      <td>#H</td>
    </tr>

    <tr>
      <td>Down-arrow</td>

      <td>#B</td>

      <td>End</td>

      <td>#E</td>
    </tr>

    <tr>
      <td>Left-arrow</td>

      <td>#D</td>

      <td>Insert</td>

      <td>#i</td>
    </tr>

    <tr>
      <td>Right-arrow</td>

      <td>#C</td>

      <td>Delete</td>

      <td>#d</td>
    </tr>

    <tr>
      <td>Prior (PageUp)</td>

      <td>#p</td>

      <td>Find</td>

      <td>#f</td>
    </tr>

    <tr>
      <td>Next (PageDown)</td>

      <td>#n</td>

      <td>Select</td>

      <td>#s</td>
    </tr>

    <tr>
      <td>Help</td>

      <td>#?</td>

      <td>Menu</td>

      <td>#m</td>
    </tr>

    <tr>
      <td>F1</td>

      <td>#1</td>

      <td>F12</td>

      <td>#@</td>
    </tr>

    <tr>
      <td>F2</td>

      <td>#2</td>

      <td>F13</td>

      <td>##</td>
    </tr>

    <tr>
      <td>F3</td>

      <td>#3</td>

      <td>F14</td>

      <td>#$</td>
    </tr>

    <tr>
      <td>F4</td>

      <td>#4</td>

      <td>F15</td>

      <td>#%</td>
    </tr>

    <tr>
      <td>F5</td>

      <td>#5</td>

      <td>F16</td>

      <td>#^</td>
    </tr>

    <tr>
      <td>F6</td>

      <td>#6</td>

      <td>F17</td>

      <td>#&amp;</td>
    </tr>

    <tr>
      <td>F7</td>

      <td>#7</td>

      <td>F18</td>

      <td>#*</td>
    </tr>

    <tr>
      <td>F8</td>

      <td>#8</td>

      <td>F19</td>

      <td>#(</td>
    </tr>

    <tr>
      <td>F9</td>

      <td>#9</td>

      <td>F20</td>

      <td>#)</td>
    </tr>

    <tr>
      <td>F10</td>

      <td>#0</td>

      <td>F11</td>

      <td>#!</td>
    </tr>

    <tr>
      <td>KeyPad_F1</td>

      <td>#P</td>

      <td>KeyPad_F3</td>

      <td>#R</td>
    </tr>

    <tr>
      <td>KeyPad_F2</td>

      <td>#Q</td>

      <td>KeyPad_F4</td>

      <td>#S</td>
    </tr>
  </table>

  <p>In addition, #M, #t, and #T are used internally to support
  mouse operations in an xterm. To undo the relationship between a
  "system-defined" function key and the poundsign sequence it
  produces, use ":unmap-system-chars".</p>

  <h3 id="map-commands2">:<a name="map-commands" id=
  "map-commands">map, :map!, :noremap, :noremap!</a></h3>

  <p>The vi "map" and "map!" commands are implemented in vile. As
  in vi, mapping works best if the character sequence being bound
  corresponds to pressing a single key. Multiple key sequences will
  work as long as the next key in the sequence is pressed within a
  specified number of milliseconds. The value of "timeoutlen" is
  used for system-defined character sequences, i.e. function keys.
  User defined sequences will use this too, unless the value of
  "timeoutlen-user" is non-zero, in which case this value will be
  used instead.</p>

  <p>Because "map" and "map!" may be used to remap arbitrary
  sequences, these sequences must be entered literally, i.e, the
  syntax for key sequences as listed above will not work for "map"
  and "map!". To enter control characters into a .vilerc file, use
  the ^V escaping mechanism. A map command entered from the command
  line will require fewer characters be escaped with ^V.</p>

  <p>To provide a relatively portable way of specifying function
  key mappings, vile will reapply mapping to the result of a
  system- defined map. System function keys are mapped to
  "poundsign" sequences, like '#1' for function key 1, and '#B' for
  the down-arrow key. The remapping allows one to put</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">map</span><span class=
    "literal">&nbsp;#1&nbsp;&lt;some-user-map-sequence&gt;</span><br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>in the .vilerc file, and have the user-sequence executed when
  the system F1 key is pressed. (Otherwise the terminal-specific
  sequence would have to appear in the .vilerc.) See the section on
  <a href="#function-keys">"Function Keys"</a> above for a full
  list.</p>

  <p>The "remap" option controls whether the successfully mapped
  result of a map is reevaluated for more mapping matches. The
  "noremap" (and "noremap!") variants of the map commands will
  force that particular mapping to be applied without subsequent
  remapping, regardless of the current setting of the global
  "remap" setting.</p>

  <p>Since key sequences starting the '^X', '^A', or '#' prefixes
  are normally expected to act as a unit, no remapping is done on
  characters that follow such prefixes. For instance, this keeps a
  map like:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">:<span class=
    "keyword">map</span><span class=
    "literal">&nbsp;h&nbsp;ihello&lt;ESC&gt;</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>from breaking the '^X-h' command.</p>

  <p>Long running loops caused by recursive :map definitions are
  detected and assumed to be infinite. When such a loop is
  detected, execution is aborted. Turning off the "remap" option,
  or doing some of the maps with the ":noremap/:noremap!" form of
  the map commands will eliminate most such loops.</p>

  <p>vile normally duplicates real vi's behavior (but not vim's) in
  that the first character of the sequence being mapped to is not
  subject to recursive (map) evaluation. Assuming "remap" is on,
  pressing 'j' when ":map j jh" is in effect will not cause an
  infinite loop, whereas ":map j hj" <i>will</i> cause such a loop.
  Setting the "remapfirst" option will allow this sort of remapping
  (and will cause an infinite loops for both examples).</p>

  <p>The "maplonger" option controls whether the longer or shorter
  of two "nested" map strings will be favored by the editor. That
  is, if both "foo" and "foobar" are mapped (to presumably
  different values), then with "maplonger" set, vile will not
  expand "foo" until it is sure (either because the next character
  is not 'b', or a timeout has expired) that "foobar" will not be
  seen. Real vi will always expand "foo" immediately, and this is
  the default behavior. Though not particularly recommended, the
  "maplonger" mechanism even permits the following types of
  mappings:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">:<span class=
    "keyword">map</span><span class=
    "literal">&nbsp;z&nbsp;j</span><br>
    :<span class="keyword">map</span><span class=
    "literal">&nbsp;zz&nbsp;k</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>When 'z' is pressed by itself it will cause vile to move down
  one line (assuming j has not been rebound or remapped). But if
  'z' is pressed twice rapidly (enough) in succession, vile will
  move to the previous line.</p>

  <p>The left hand side of a map[!] definition may contain the
  usual backslash escapes: \n, \r, \t, \b, \f, \a (^G), \e (ESC),
  \s (SPACE), \xNN (hexadecimal), \NNN (octal). The right hand side
  is taken exactly literally, so special characters must be
  expressed as themselves.</p>

  <p>The current set of mappings or "map!"ings may be viewed with
  the commands ":map&lt;cr&gt;" (or ":show-mapped-chars") or
  ":map!&lt;cr&gt;" (or ":show-mapped!-chars").</p>

  <p>The system-defined maps, representing the function keys, may
  be shown with ":show-system-mapped-chars".</p>

  <p>To undo a mapping, use "unmap", "unmap!", or
  "unmap-system-chars".</p>

  <h3 id="abbr-commands2">:<a name="abbr-commands" id=
  "abbr-commands">abbr</a></h3>

  <p>The "abbr" command is also present in vile. It is similar to,
  but slightly different than, "map!". Whereas "map!" examines
  characters as they are typed, continuously looking for a match
  against the stored translation strings, the "abbr" command
  examines them after they are already in the buffer, and is more
  sensitive to their surrounding context.</p>

  <p>First, abbreviations are never expanded unless followed by
  non-"word" characters. In addition, abbreviations which begin
  like a "word" (i.e. with letters, digits, or the '_' character)
  are not expanded if they immediately follow another "word"
  character &ndash; they must follow whitespace or punctuation or
  the beginning of the line. Likewise, abbreviations that begin
  with a punctuation character are not detected within more
  punctuation &ndash; they must follow whitespace or a "word", or
  the beginning of the line.</p>

  <p>If the "backspacelimit" setting is set (and it is, by
  default), then characters not inserted during the current
  insertion command are not considered in the above comparisons
  &ndash; the start of the current insertion behaves much like the
  beginning of line in that case.</p>

  <p>Abbreviations are never recursive.</p>

  <p>vile is more lenient than vi regarding what is a valid
  abbreviation. vi insists that an abbreviation be all "word"
  characters, or be all "non-word" characters, except for the last
  character, which <i>must</i> be a "word" character. vile allows
  anything at all to be abbreviated, only enforcing the expansion
  rules mentioned above.</p>

  <p>To undo an abbreviation, use "unabbreviate".</p>

  <h2 id="special-rebinding2"><a name="special-rebinding" id=
  "special-rebinding">Special "Terminal" Key Rebinding</a></h2>

  <p>In addition to the above binding mechanism for vile commands,
  other keystrokes to the editor are rebindable using the
  "set-terminal" command. These keystrokes are mostly derived
  directly from the user's tty settings on entering the editor, but
  there are a couple of additions related to command and filename
  completion.</p>

  <p>The values of these characters can be shown with the
  "show-terminal" command, and can be changed with the
  "set-terminal" command.</p>

  <table border="1" summary="Terminal key bindings">
    <tr>
      <th>Name</th>

      <th>Default value</th>

      <th>Typical value</th>
    </tr>

    <tr>
      <td>backspace</td>

      <td>from tty settings</td>

      <td>(DEL or ^H)</td>
    </tr>

    <tr>
      <td>interrupt</td>

      <td>from tty settings</td>

      <td>(^C or DEL)</td>
    </tr>

    <tr>
      <td>line-kill</td>

      <td>from tty settings</td>

      <td>(^U or @)</td>
    </tr>

    <tr>
      <td>mini-edit</td>

      <td>(^G)</td>
    </tr>

    <tr>
      <td>name-complete</td>

      <td>&lt;tab&gt;</td>
    </tr>

    <tr>
      <td>quote-next</td>

      <td>from tty settings</td>

      <td>(^V)</td>
    </tr>

    <tr>
      <td>start-output</td>

      <td>from tty settings</td>

      <td>(^Q)</td>
    </tr>

    <tr>
      <td>stop-output</td>

      <td>from tty settings</td>

      <td>(^S)</td>
    </tr>

    <tr>
      <td>suspend</td>

      <td>from tty settings</td>

      <td>(^Z)</td>
    </tr>

    <tr>
      <td>test-completions</td>

      <td>?</td>
    </tr>

    <tr>
      <td>word-kill</td>

      <td>from tty settings</td>

      <td>(^W)</td>
    </tr>
  </table>

  <h2 id="flow-control2"><a name="flow-control" id=
  "flow-control">Flow-control</a></h2>

  <p>Historically, the flow of data between the computing host and
  the user's terminal was throttled through the use of special
  characters in the input stream, known as XON and XOFF (whose
  values are ^Q and ^S respectively). Most modern systems do not
  need these characters, and regulate the flow in an "out-of-band"
  manner. The terminal device driver, however, is usually still set
  up with software flow control enabled, to allow the user to
  manually start and stop output with the ^S and ^Q characters.</p>

  <p>vile normally resets the driver to allow the ^S and ^Q
  characters to be bound to commands, since most systems no longer
  need software flow control, and since there is usually no reason
  for a user to wish to suspend output when running vile. Some
  older devices (usually older slower terminals), however, still
  need to be able to automatically control the data flow by
  generating ^S/^Q without the user's intervention.</p>

  <p>To accommodate these situations, the "flow-control-enable"
  command will reset the terminal driver to its original state.
  Software flow-control will be re-enabled, and commands bound only
  to the ^S and ^Q characters will be inaccessible. The characters
  affected in this way may be seen with the "show-terminal-chars"
  command, where they will appear as the "start/stop-output"
  characters. The action of the "flow-control-enable" command will
  be reversed if it is given any argument.</p>

  <h2 id="recorded-macros2"><a name="recorded-macros" id=
  "recorded-macros">Recorded macros</a></h2>

  <p>The first type of macro in vile is for temporary, quick macro
  usage, and lets you record a set of keystrokes as you execute
  vile commands. You can then replay those keystrokes with a single
  key.</p>

  <dl>
    <dt><a name="begin-keyboard-macro" id=
    "begin-keyboard-macro">^X-(</a></dt>

    <dt>^X-)</dt>

    <dd>Begin or end the recording a keyboard macro. The keystrokes
    you type are recorded. For compatibility with previous versions
    of vile (where separate commands were necessary), these two
    commands are now both bound to the same function. The
    start/stop capability is now a toggle, and requires only one
    command.</dd>

    <dt>^X-&amp;</dt>

    <dd>Execute the keyboard macro.</dd>

    <dt>^X-^</dt>

    <dd>Copy recorded keyboard macro to a named register, for
    saving, or for execution using '@a', as below. (Type "a^X^,
    where "a means yank into register-a)</dd>
  </dl>

  <p>The vi '@' command is present as well, and can be used to
  execute the contents of a named register as if it were entered at
  the keyboard. To make this more useful, the "load-register"
  command will allow preloading a named register, from .vilerc
  file. For example:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">use-register</span>&nbsp;<span class=
    "literal">a</span>&nbsp;<span class=
    "keyword">load-register</span>&nbsp;<span class=
    "comment">ihello</span><span class="literal">^[</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>will load register 'a' with a command to insert the word
  "hello". (The ^[ should be a real ESC character, entered by
  preceding it with ^V.) A better example, is this:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">use-register</span>&nbsp;<span class=
    "literal">w</span>&nbsp;<span class=
    "keyword">load-register</span>&nbsp;<span class=
    "literal">":!chmod&nbsp;+w&nbsp;%^M:w^M"</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>which makes the current file writable and writes it. (Again,
  use ^V to get the CR characters into the .vilerc file.)</p>

  <h2 id="programmed2"><a name="programmed" id=
  "programmed">Programmed procedures (aka macros</a>)</h2>

  <p>[ Note 1: the information presented in this section of the
  help file is a subset of "<a href=
  "macros.html">doc/macros.doc</a>", which is supplied with the
  vile source code. macros.doc is the authoritative reference
  manual for the editor's macro language.</p>

  <p>Note 2: the language features/directives described below are
  not limited solely to use within macros. These directives are
  often used within a startup/command file to configure the editor,
  load registers, etc. ]</p>

  <p>vile can also be extended by defining macros and optionally
  binding the execution of those macros to key sequences. For
  instance, if the following lines appear in a .vilerc file:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "number">1</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "number">5</span>&nbsp;<span class=
    "keyword">delete-til</span>&nbsp;<span class=
    "keyword">next-word</span><br>
    <span class="preproc">~endm</span><br>
    <span class="keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-macro-1</span>&nbsp;<span class=
    "literal">^A-1</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>then when ^A-1 is executed, 5 words will be deleted. The
  "-til" suffix on an englishname denotes that it is a vi operator
  style command, and expects to be followed by a motion command.
  Also,</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "number">1</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "number">5</span>&nbsp;<span class=
    "keyword">delete-til</span>&nbsp;lines<br>
    <span class="preproc">~endm</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>would be the equivalent of "5dd" since the word "lines"
  represents the stuttered 'dd' style of operation. More examples
  are given throughout this help file.</p>

  <p>Macros come in two flavors: named and numbered. The syntax and
  advantages of each format are discussed next.</p>

  <h3 id="numbered-macros2"><a name="numbered-macros" id=
  "numbered-macros">Numbered macros</a></h3>

  <p>The numbered macro syntax looks like so:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">&lt;<span class=
    "keyword">number</span>&gt;&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;language&nbsp;element&gt;<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;language&nbsp;element&gt;<br>

    <span class="preproc">~endm</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>A numbered macro is executed using this command:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">execute-macro</span>-&lt;<span class=
    "keyword">number</span>&gt;<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>To bind a keystroke to this macro, use this command:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-macro</span>-&lt;<span class=
    "keyword">number</span>&gt;&nbsp;&lt;keystroke&gt;<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>The only advantage of numbered macros over named macros is
  that the former do not share the same namespace as vile's
  commands. This attribute can be advantageous when creating macros
  recalled solely via key bindings.</p>

  <p>Note that numbered macros are allocated from a fixed pool
  (default is 40 macros). This fixed limit can be changed during
  the editor's configuration. Given their fixed allocation and the
  fact that their strictly numeric "names" don't facilitate easy
  recall, numbered macros are not used that much anymore.</p>

  <h3 id="named-macros2"><a name="named-macros" id=
  "named-macros">Named macros</a></h3>

  <p>A named macro, aka "stored procedure", uses this syntax:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">store-procedure</span><span class=
    "literal">&nbsp;&lt;unique-name&gt;</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;language&nbsp;element&gt;<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;language&nbsp;element&gt;<br>

    <span class="preproc">~endm</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>where:</p>

  <dl>
    <dt>unique-name</dt>

    <dd>is an alpha-numeric identifier that does not conflict with
    the name of any existing editor command (the show-commands
    command generates a list of all existing commands).</dd>
  </dl>

  <p>A stored procedure is executed by simply referencing its name.
  To bind a keystroke to this macro, use this command:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">bind-key</span>&nbsp;&lt;unique-name&gt;&nbsp;&lt;keystroke&gt;<br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>Here's a trivial example:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">store-procedure</span><span class=
    "literal">&nbsp;write-msg-tst</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">write-message</span>&nbsp;<span class=
    "literal">"this&nbsp;is&nbsp;a&nbsp;test&nbsp;macro"</span><br>
    <span class="preproc">~endm</span><br>
    <span class=
    "keyword">bind-key</span>&nbsp;write-msg-tst&nbsp;<span class=
    "literal">#h</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>Two mechanisms now exist for executing this macro:</p>

  <ul>
    <li>press "#h" within the editor, or</li>

    <li>simply use the name "write-msg-tst" as if it were any other
    built-in editor command. This means that "write-msg-tst" can be
    invoked from another macro, from a startup/configuration file,
    or from vile's command line, like so:

      <blockquote>
        <!--{{atr2html-->

        <p style="font-family: monospace;">:write-msg-tst<br>
        <!--atr2html}}--></p>
      </blockquote>
    </li>
  </ul>

  <p>Note that named macros may also include parameters and a help
  string, each of which are described in <a href=
  "macros.html">doc/macros.doc</a>.</p>

  <h3 id="user-defined-ops2"><a name="user-defined-ops" id=
  "user-defined-ops">User-defined Operators</a></h3>

  <p>These are defined using the store-operator command, and accept
  no arguments. Otherwise they are much like other named macros.
  These macros setup parameters and perform special processing
  wrapped around one of vile's built-in operators. Here is an
  example:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">store-operator</span><span class=
    "literal">&nbsp;fmt</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "ident2">$cmd-count</span>&nbsp;<span class=
    "keyword">filter-til</span>&nbsp;<span class=
    "ident2">$cmd-motion</span>&nbsp;<span class=
    "literal">'fmt&nbsp;-w50&nbsp;-'</span><br>
    <span class="preproc">~endm</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>In the example, the combination of $cmd-count and $cmd-motion
  (passed into the macro) act as the "real" operator's associated
  motion.</p>

  <h3 id="macro-elements2"><a name="macro-elements" id=
  "macro-elements">Macro Language Elements</a></h3>

  <p>Macros may incorporate any of the editor's built-in commands,
  directives (e.g., ~if, ~else), any previously defined named or
  numbered macro, functions (e.g., &amp;error, &amp;sequal), and
  variables.</p>

  <h3 id="macro-variables2"><a name="macro-variables" id=
  "macro-variables">Variables</a></h3>

  <p>There are some built-in variables that can be used in macros
  to gain access to parts of vile status, and parts of the current
  buffer. Built-in variables are accessed by name, prefixed with
  the '$' character. There are two types of built-in variables (the
  so-called "state" variables, and mode values). The state
  variables are: shown in the table below.</p>

  <p>You can also show a summary using the
  "describe-state-variables" command:</p>

  <table border="1" summary="State variables">
    <tr>
      <th>Name</th>

      <th>Description</th>
    </tr>

    <tr>
      <td>$_</td>

      <td>most-recent macro $return value</td>
    </tr>

    <tr>
      <td>$abufname</td>

      <td>alternate buffer name (i.e. last visited) (read
      only)</td>
    </tr>

    <tr>
      <td>$autocolor-hook</td>

      <td>name of the hook that runs when autocolor is enabled</td>
    </tr>

    <tr>
      <td>$bchars</td>

      <td>number of characters in current buffer (read only)</td>
    </tr>

    <tr>
      <td>$bchanged</td>

      <td>true if current buffer is modified (boolean)</td>
    </tr>

    <tr>
      <td>$bflags</td>

      <td>
        status flags for current buffer (read only)

        <table border="1" summary="Buffer status flags">
          <tr>
            <th>Flag</th>

            <th>Description</th>
          </tr>

          <tr>
            <td>a</td>

            <td>autobuffer caused this to be created</td>
          </tr>

          <tr>
            <td>d</td>

            <td>directory listing</td>
          </tr>

          <tr>
            <td>i</td>

            <td>invisible, e.g., tags</td>
          </tr>

          <tr>
            <td>m</td>

            <td>modified</td>
          </tr>

          <tr>
            <td>s</td>

            <td>scratch, will be removed when popped down</td>
          </tr>

          <tr>
            <td>u</td>

            <td>unread</td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td>$blines</td>

      <td>number of lines in current buffer (read only)</td>
    </tr>

    <tr>
      <td>$brightness</td>

      <td>RGB levels for gray, normal, bright in the 0-255 range
      (winvile version only)</td>
    </tr>

    <tr>
      <td>$buf-fname-expr</td>

      <td>combined buffer+fname expression (read only)</td>
    </tr>

    <tr>
      <td>$buffer-hook</td>

      <td>name of procedure to run when switching to a buffer</td>
    </tr>

    <tr>
      <td>$bufname</td>

      <td>current buffer-name under the cursor.</td>
    </tr>

    <tr>
      <td>$bwindows</td>

      <td>number of windows open on current buffer(read only)</td>
    </tr>

    <tr>
      <td>$cbufname</td>

      <td>current buffer name</td>
    </tr>

    <tr>
      <td>$cdpath</td>

      <td>editor's copy of the $CDPATH env var (read/write)</td>
    </tr>

    <tr>
      <td>$cd-hook</td>

      <td>name of procedure to run when changing directories</td>
    </tr>

    <tr>
      <td>$cfgopts</td>

      <td>
        comma-delimited list of "interesting" compiled options
        (read only).

        <table border="1" summary="Config-options">
          <tr>
            <th>Name</th>

            <th>Description</th>
          </tr>

          <tr>
            <td>ansi</td>

            <td>vile built with ANSI terminal driver</td>
          </tr>

          <tr>
            <td>athena</td>

            <td>xvile built with Athena widgets</td>
          </tr>

          <tr>
            <td>borland</td>

            <td>vile built with Borland/DJGPP driver</td>
          </tr>

          <tr>
            <td>curses</td>

            <td>editor uses curses terminal driver</td>
          </tr>

          <tr>
            <td>hypertext</td>

            <td>editor supports highlighting and links</td>
          </tr>

          <tr>
            <td>iconv</td>

            <td>editor has iconv locale support</td>
          </tr>

          <tr>
            <td>locale</td>

            <td>editor uses system's LC_CTYPE locale</td>
          </tr>

          <tr>
            <td>motif</td>

            <td>xvile built with Motif libraries</td>
          </tr>

          <tr>
            <td>multibyte</td>

            <td>vile built with multibyte locales</td>
          </tr>

          <tr>
            <td>nextaw</td>

            <td>xvile built with Athena widgets (NeXtaw)</td>
          </tr>

          <tr>
            <td>ntcons</td>

            <td>vile built for Win32 console</td>
          </tr>

          <tr>
            <td>ntwin</td>

            <td>vile built for Win32 GUI</td>
          </tr>

          <tr>
            <td>noshell</td>

            <td>shell commands are disabled</td>
          </tr>

          <tr>
            <td>oleauto</td>

            <td>editor supports OLE automation.</td>
          </tr>

          <tr>
            <td>openlook</td>

            <td>xvile built with OpenLook libraries</td>
          </tr>

          <tr>
            <td>os2vio</td>

            <td>vile built for OS/2 VIO console</td>
          </tr>

          <tr>
            <td>perl</td>

            <td>editor includes perl interpreter</td>
          </tr>

          <tr>
            <td>termcap</td>

            <td>editor reads TERMCAP db for screen info.</td>
          </tr>

          <tr>
            <td>terminfo</td>

            <td>editor reads TERMINFO db for screen info.</td>
          </tr>

          <tr>
            <td>vmsvt</td>

            <td>vile built for VMS terminal</td>
          </tr>

          <tr>
            <td>xaw</td>

            <td>xvile built with Athena widgets (Xaw)</td>
          </tr>

          <tr>
            <td>xaw3d</td>

            <td>xvile built with Athena widgets (Xaw3D)</td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td>$cfilname</td>

      <td>current file name</td>
    </tr>

    <tr>
      <td>$char</td>

      <td>character under the cursor</td>
    </tr>

    <tr>
      <td>$cmd-count</td>

      <td>repeat-counter for the current macro (read only)</td>
    </tr>

    <tr>
      <td>$cmd-encoding</td>

      <td>character set to use for minibuffer</td>
    </tr>

    <tr>
      <td>$cmd-motion</td>

      <td>motion for the current operator (read only)</td>
    </tr>

    <tr>
      <td>$cryptkey</td>

      <td>encryption key (write only)</td>
    </tr>

    <tr>
      <td>$curchar</td>

      <td>character offset in file</td>
    </tr>

    <tr>
      <td>$curcol</td>

      <td>current column position of cursor</td>
    </tr>

    <tr>
      <td>$curline</td>

      <td>current line in file</td>
    </tr>

    <tr>
      <td>$cwd</td>

      <td>current directory</td>
    </tr>

    <tr>
      <td>$cwline</td>

      <td>line offset in current window</td>
    </tr>

    <tr>
      <td>$debug</td>

      <td>macro debugging &ndash; set true for line by line
      tracing</td>
    </tr>

    <tr>
      <td>$directory</td>

      <td>controls location of temp-files (unused)</td>
    </tr>

    <tr>
      <td>$discmd</td>

      <td>display commands on command line (boolean)</td>
    </tr>

    <tr>
      <td>$disinp</td>

      <td>display command line input characters (boolean)</td>
    </tr>

    <tr>
      <td>$empty-lines</td>

      <td>parameter for force-empty-lines command</td>
    </tr>

    <tr>
      <td>$encoding</td>

      <td>character set associated with locale (read only)</td>
    </tr>

    <tr>
      <td>$end-of-cmd</td>

      <td>true if user ended the cmd with &lt;cr&gt;</td>
    </tr>

    <tr>
      <td>$error-buffer</td>

      <td>buffer name assigned to the error-buffer</td>
    </tr>

    <tr>
      <td>$error-expr</td>

      <td>regular expression that matched the error-buffer</td>
    </tr>

    <tr>
      <td>$error-match</td>

      <td>text that matched the error-buffer</td>
    </tr>

    <tr>
      <td>$error-tabstop</td>

      <td>tabstop to use with error-buffer for %C</td>
    </tr>

    <tr>
      <td>$exec-path</td>

      <td>where to find vile (read only)</td>
    </tr>

    <tr>
      <td>$exec-suffix</td>

      <td>suffix, if any, for execable programs (read only)</td>
    </tr>

    <tr>
      <td>$exit-hook</td>

      <td>name of procedure to run when quitting</td>
    </tr>

    <tr>
      <td>$favorites</td>

      <td>path to favorites folder (win32 only) (read only)</td>
    </tr>

    <tr>
      <td>$fchanged</td>

      <td>true if file for current buffer is modified
      (boolean)</td>
    </tr>

    <tr>
      <td>$fence-limit</td>

      <td>iteration limit for complex fences</td>
    </tr>

    <tr>
      <td>$filename-expr</td>

      <td>actual pattern for %F in [Error Expressions]</td>
    </tr>

    <tr>
      <td>$filename-ic</td>

      <td>ignore case in filename completion (read only)</td>
    </tr>

    <tr>
      <td>$filter-list</td>

      <td>list of builtin-filters (read only)</td>
    </tr>

    <tr>
      <td>$findpath</td>

      <td>editor's copy of the $VILE_FINDPATH env var
      (read/write)</td>
    </tr>

    <tr>
      <td>$find-cmd</td>

      <td>last spawned find command (read only)</td>
    </tr>

    <tr>
      <td>$font</td>

      <td>current font name (X11/winvile versions only)</td>
    </tr>

    <tr>
      <td>$forward-search</td>

      <td>search direction, true=forward</td>
    </tr>

    <tr>
      <td>$get-at-dot</td>

      <td>ensure that "identifier-like" matching includes current
      editing position.</td>
    </tr>

    <tr>
      <td>$get-it-all</td>

      <td>match entire "identifier-like" word under the
      cursor.</td>
    </tr>

    <tr>
      <td>$get-length</td>

      <td>sets length of "identifier-like" word as
      side-effect.</td>
    </tr>

    <tr>
      <td>$get-offset</td>

      <td>sets offset of "identifier-like" word as
      side-effect.</td>
    </tr>

    <tr>
      <td>$helpfile</td>

      <td>$VILE_HELP_FILE env var or "vile.hlp" (read/write)</td>
    </tr>

    <tr>
      <td>$iconname</td>

      <td>current icon name (X11 version only)</td>
    </tr>

    <tr>
      <td>$identifier</td>

      <td>current "identifier-like" word under the cursor.</td>
    </tr>

    <tr>
      <td>$kbd-encoding</td>

      <td>keyboard encoding</td>
    </tr>

    <tr>
      <td>$kbd-macro</td>

      <td>the keyboard macro, see <a href=
      "#begin-keyboard-macro">^X-( ^X-)</a> (read only)</td>
    </tr>

    <tr>
      <td>$kill</td>

      <td>some of the kill register (read only)</td>
    </tr>

    <tr>
      <td>$kill-limit</td>

      <td>maximum length for $kill</td>
    </tr>

    <tr>
      <td>$kill-size</td>

      <td>length of the kill register (read only)</td>
    </tr>

    <tr>
      <td>$lastkey</td>

      <td>last keyboard char struck</td>
    </tr>

    <tr>
      <td>$latin1-expr</td>

      <td>pattern to match locales using ISO-8859-1 in case they
      are not installed</td>
    </tr>

    <tr>
      <td>$lcols</td>

      <td>length of current line, in columns (read only)</td>
    </tr>

    <tr>
      <td>$libdir-path</td>

      <td>appended to $PATH when running filters</td>
    </tr>

    <tr>
      <td>$line</td>

      <td>text of current line starting with cursor</td>
    </tr>

    <tr>
      <td>$llength</td>

      <td>length of current line (read only)</td>
    </tr>

    <tr>
      <td>$locale</td>

      <td>locale, which determines character type (read only)</td>
    </tr>

    <tr>
      <td>$majormode</td>

      <td>current majormode, if any (read only)</td>
    </tr>

    <tr>
      <td>$majormode-hook</td>

      <td>procedure to overrride suffix/preamble rules</td>
    </tr>

    <tr>
      <td>$match</td>

      <td>last matched magic pattern (read only)</td>
    </tr>

    <tr>
      <td>$menu-file</td>

      <td>the name of the menu file (e.g. .vilemenu)</td>
    </tr>

    <tr>
      <td>$mode</td>

      <td>current mode ("command","insert","overwrite") (rd.
      o.)</td>
    </tr>

    <tr>
      <td>$modeline-format</td>

      <td>format of mode lines. see <a href="#statusline">"Mode
      line customization"</a>.</td>
    </tr>

    <tr>
      <td>$modeline-limit</td>

      <td>maximum inline offset to scan for mode lines</td>
    </tr>

    <tr>
      <td>$modified</td>

      <td>is current buffer modified or not? (read only)</td>
    </tr>

    <tr>
      <td>$ncolors</td>

      <td>number of displayed colors, must be power of two</td>
    </tr>

    <tr>
      <td>$ntildes</td>

      <td>percent of window filled by ~ chars, at end of
      buffer</td>
    </tr>

    <tr>
      <td>$ocwd</td>

      <td>previous directory (read only)</td>
    </tr>

    <tr>
      <td>$os</td>

      <td>"dos", "vms", "os/2", "win32", and "unix", although the
      latter may be replaced with a more specific name derived from
      vile's configure script. (read only)</td>
    </tr>

    <tr>
      <td>$pagelen</td>

      <td>number of screen lines in use by editor</td>
    </tr>

    <tr>
      <td>$pagewid</td>

      <td>current screen width</td>
    </tr>

    <tr>
      <td>$palette</td>

      <td>current palette string</td>
    </tr>

    <tr>
      <td>$patchlevel</td>

      <td>current patch-level (empty for release) (read only)</td>
    </tr>

    <tr>
      <td>$pathlist-separator</td>

      <td>separator for lists of pathnames, e.g., $PATH</td>
    </tr>

    <tr>
      <td>$pathname</td>

      <td>current "path-like" word, under the cursor.</td>
    </tr>

    <tr>
      <td>$pathname-separator</td>

      <td>separator for levels of pathnames, e.g., '/'</td>
    </tr>

    <tr>
      <td>$pending</td>

      <td>typeahead pending flag (read only)</td>
    </tr>

    <tr>
      <td>$pid</td>

      <td>returns vile's process-id (read only)</td>
    </tr>

    <tr>
      <td>$position-format</td>

      <td>format of ^G command. see <a href="#statusline">"Mode
      line customization"</a>.</td>
    </tr>

    <tr>
      <td>$progname</td>

      <td>returns "vile" or "xvile" or "winvile". (read only)</td>
    </tr>

    <tr>
      <td>$prompt</td>

      <td>the command-line prompt string ": "</td>
    </tr>

    <tr>
      <td>$qidentifier</td>

      <td>current qualified name (as with C++ ::)</td>
    </tr>

    <tr>
      <td>$read-hook</td>

      <td>name of procedure to run after a file is read</td>
    </tr>

    <tr>
      <td>$replace</td>

      <td>replacement pattern</td>
    </tr>

    <tr>
      <td>$return</td>

      <td>set within a macro to provide $_ on completion</td>
    </tr>

    <tr>
      <td>$search</td>

      <td>search pattern</td>
    </tr>

    <tr>
      <td>$seed</td>

      <td>current random number seed</td>
    </tr>

    <tr>
      <td>$shell</td>

      <td>name of the shell program for spawned commands.</td>
    </tr>

    <tr>
      <td>$sres</td>

      <td>current screen resolution</td>
    </tr>

    <tr>
      <td>$startup-file</td>

      <td>the name of the startup file (e.g. .vilerc)</td>
    </tr>

    <tr>
      <td>$startup-path</td>

      <td>where to find the startup file</td>
    </tr>

    <tr>
      <td>$status</td>

      <td>returns the status of the last command</td>
    </tr>

    <tr>
      <td>$term-cols</td>

      <td>number of columns in terminal window (read only)</td>
    </tr>

    <tr>
      <td>$term-encoding</td>

      <td>terminal's encoding support (read only)</td>
    </tr>

    <tr>
      <td>$term-lines</td>

      <td>number of lines in terminal window (read only)</td>
    </tr>

    <tr>
      <td>$term-resizes</td>

      <td>true if vile handles terminal-resizing (read only)</td>
    </tr>

    <tr>
      <td>$title</td>

      <td>current window title (X11, win32 versions only)</td>
    </tr>

    <tr>
      <td>$title-encoding</td>

      <td>encoding of xterm window title, e.g., "8bit" for
      ISO-8859-1 or "utf-8".</td>
    </tr>

    <tr>
      <td>$title-format</td>

      <td>format of window title. see <a href="#statusline">"Mode
      line customization"</a>.</td>
    </tr>

    <tr>
      <td>$version</td>

      <td>current version number (read only)</td>
    </tr>

    <tr>
      <td>$with-prefix</td>

      <td>string set by "~with" directives (read only)</td>
    </tr>

    <tr>
      <td>$wlines</td>

      <td>number of lines in current window</td>
    </tr>

    <tr>
      <td>$word</td>

      <td>current "word", a sequence of nonblanks</td>
    </tr>

    <tr>
      <td>$write-hook</td>

      <td>name of procedure to run before a file is written</td>
    </tr>

    <tr>
      <td>$xdisplay</td>

      <td>the value to set $DISPLAY when running $xshell.</td>
    </tr>

    <tr>
      <td>$xshell</td>

      <td>name of the terminal program for spawned xvile
      commands.</td>
    </tr>

    <tr>
      <td>$xshell-flags</td>

      <td>command-line flags after $xshell, normally "-e"</td>
    </tr>
  </table>

  <p>In addition to the state variables, you may set and use the
  values of the editor modes (i.e., universal modes, buffer-only
  modes or window-only modes), e.g., "setv $dos=true". The global
  values of the editor modes are not visible to the expression
  evaluator.</p>

  <p>User-defined variables can also be set and used; their names
  are prefixed with the '%' character.</p>

  <p>Response variables (a '@' followed by a prompt-string) cause
  vile to prompt for input with the given prompt-string.</p>

  <p>Buffer variables (a '&lt;' followed by a buffer name) return
  the current line of the specified buffer, automatically setting
  the position to the next line.</p>

  <h3 id="macro-functions2"><a name="macro-functions" id=
  "macro-functions">Functions</a></h3>

  <p>There are also functions available, which can act on those
  variables, or on hard-coded values. Operations are expressed in
  prefix notation, so to add to numbers you would say "&amp;add 3
  5". You may use any unique abbreviation of the function
  names.</p>

  <p>The "describe-user-functions" command shows this
  information:</p>

  <table border="1" summary="Functions">
    <tr>
      <th>Name</th>

      <th>Args</th>

      <th>Description</th>
    </tr>

    <tr>
      <td>&amp;abs</td>

      <td>1</td>

      <td>absolute value of a number</td>
    </tr>

    <tr>
      <td>&amp;add</td>

      <td>2</td>

      <td>add two numbers together</td>
    </tr>

    <tr>
      <td>&amp;and</td>

      <td>2</td>

      <td>logical and</td>
    </tr>

    <tr>
      <td>&amp;ascii</td>

      <td>1</td>

      <td>char to integer conversion</td>
    </tr>

    <tr>
      <td>&amp;bchanged</td>

      <td>1</td>

      <td>true if given buffer is modified</td>
    </tr>

    <tr>
      <td>&amp;bind</td>

      <td>1</td>

      <td>lookup what function name is bound to key</td>
    </tr>

    <tr>
      <td>&amp;cat</td>

      <td>2</td>

      <td>concatenate string</td>
    </tr>

    <tr>
      <td>&amp;cclass</td>

      <td>1</td>

      <td>character class (see <a href=
      "#command-show-printable">"show-printable"</a>)</td>
    </tr>

    <tr>
      <td>&amp;chr</td>

      <td>1</td>

      <td>integer to char conversion</td>
    </tr>

    <tr>
      <td>&amp;classof</td>

      <td>1</td>

      <td>inverse of &amp;isa, returns classes for param</td>
    </tr>

    <tr>
      <td>&amp;cmatch</td>

      <td>2</td>

      <td>caseless match regular-expression value</td>
    </tr>

    <tr>
      <td>&amp;date</td>

      <td>2</td>

      <td>format 2nd param with 1st, like strftime.</td>
    </tr>

    <tr>
      <td>&amp;default</td>

      <td>1</td>

      <td>initial/default value for mode or state variable</td>
    </tr>

    <tr>
      <td>&amp;divide</td>

      <td>2</td>

      <td>division</td>
    </tr>

    <tr>
      <td>&amp;dquery</td>

      <td>2</td>

      <td>prompt user for input, given default value</td>
    </tr>

    <tr>
      <td>&amp;env</td>

      <td>1</td>

      <td>retrieve a system environment variable</td>
    </tr>

    <tr>
      <td>&amp;equal</td>

      <td>2</td>

      <td>numeric equality</td>
    </tr>

    <tr>
      <td>&amp;error</td>

      <td>1</td>

      <td>true if the parameter was ERROR</td>
    </tr>

    <tr>
      <td>&amp;execable</td>

      <td>1</td>

      <td>true if file is exec'able</td>
    </tr>

    <tr>
      <td>&amp;fchanged</td>

      <td>1</td>

      <td>true if file for given buffer is modified</td>
    </tr>

    <tr>
      <td>&amp;filter</td>

      <td>1</td>

      <td>true if the given majormode's filter is builtin</td>
    </tr>

    <tr>
      <td>&amp;ftime</td>

      <td>1</td>

      <td>modification-time of the given file, as a number</td>
    </tr>

    <tr>
      <td>&amp;geq</td>

      <td>2</td>

      <td>numeric greater than or equal</td>
    </tr>

    <tr>
      <td>&amp;get-key</td>

      <td>0</td>

      <td>(alias for &amp;gtkey)</td>
    </tr>

    <tr>
      <td>&amp;get-key</td>

      <td>0</td>

      <td>(alias for &amp;gtkey)</td>
    </tr>

    <tr>
      <td>&amp;get-completion</td>

      <td>2</td>

      <td>get name-completion for given category and value (see
      <a href="#completion-params">below</a> for arguments)</td>
    </tr>

    <tr>
      <td>&amp;get-motion</td>

      <td>1</td>

      <td>(alias for &amp;gtmotion)</td>
    </tr>

    <tr>
      <td>&amp;get-sequence</td>

      <td>0</td>

      <td>(alias for &amp;gtsequence)</td>
    </tr>

    <tr>
      <td>&amp;global</td>

      <td>1</td>

      <td>retrieves global mode setting</td>
    </tr>

    <tr>
      <td>&amp;greater</td>

      <td>2</td>

      <td>numeric greater than</td>
    </tr>

    <tr>
      <td>&amp;gt</td>

      <td>2</td>

      <td>numeric greater than</td>
    </tr>

    <tr>
      <td>&amp;gtkey</td>

      <td>0</td>

      <td>get 1 character</td>
    </tr>

    <tr>
      <td>&amp;gtmotion</td>

      <td>1</td>

      <td>get keycode motion sequence for the binding</td>
    </tr>

    <tr>
      <td>&amp;gtsequence</td>

      <td>0</td>

      <td>get keycode sequence, e.g., #1</td>
    </tr>

    <tr>
      <td>&amp;indirect</td>

      <td>1</td>

      <td>evaluate indirect value</td>
    </tr>

    <tr>
      <td>&amp;isa</td>

      <td>2</td>

      <td>check if the second param is a member of first</td>
    </tr>

    <tr>
      <td>&amp;left</td>

      <td>2</td>

      <td>left string(string, len)</td>
    </tr>

    <tr>
      <td>&amp;length</td>

      <td>1</td>

      <td>string length</td>
    </tr>

    <tr>
      <td>&amp;leq</td>

      <td>2</td>

      <td>numeric less than or equal</td>
    </tr>

    <tr>
      <td>&amp;lessthan</td>

      <td>2</td>

      <td>numeric less than</td>
    </tr>

    <tr>
      <td>&amp;local</td>

      <td>1</td>

      <td>retrieves local mode setting</td>
    </tr>

    <tr>
      <td>&amp;lookup</td>

      <td>2</td>

      <td>look for filename (see <a href="#lookup-params">below</a>
      for arguments)</td>
    </tr>

    <tr>
      <td>&amp;lower</td>

      <td>1</td>

      <td>lower case string</td>
    </tr>

    <tr>
      <td>&amp;lt</td>

      <td>2</td>

      <td>numeric less than</td>
    </tr>

    <tr>
      <td>&amp;match</td>

      <td>2</td>

      <td>match regular-expression value</td>
    </tr>

    <tr>
      <td>&amp;mclass</td>

      <td>1</td>

      <td>returns the mode's class, e.g., buffer or Major</td>
    </tr>

    <tr>
      <td>&amp;middle</td>

      <td>3</td>

      <td>mid string(string, pos, len)</td>
    </tr>

    <tr>
      <td>&amp;modulo</td>

      <td>2</td>

      <td>modulus</td>
    </tr>

    <tr>
      <td>&amp;negate</td>

      <td>1</td>

      <td>negate</td>
    </tr>

    <tr>
      <td>&amp;neq</td>

      <td>2</td>

      <td>numeric inequality</td>
    </tr>

    <tr>
      <td>&amp;not</td>

      <td>1</td>

      <td>logical not</td>
    </tr>

    <tr>
      <td>&amp;or</td>

      <td>2</td>

      <td>logical or</td>
    </tr>

    <tr>
      <td>&amp;path</td>

      <td>2</td>

      <td>extract/translate pathname (see <a href=
      "#path-params">below</a> for args)</td>
    </tr>

    <tr>
      <td>&amp;pcat</td>

      <td>2</td>

      <td>concatenate directory and filename</td>
    </tr>

    <tr>
      <td>&amp;pquote</td>

      <td>1</td>

      <td>quote pathname if needed, e.g., embedded spaces</td>
    </tr>

    <tr>
      <td>&amp;qpasswd</td>

      <td>1</td>

      <td>prompt user for password string</td>
    </tr>

    <tr>
      <td>&amp;query</td>

      <td>1</td>

      <td>prompt user for input</td>
    </tr>

    <tr>
      <td>&amp;random</td>

      <td>1</td>

      <td>get a random number from 1 to n</td>
    </tr>

    <tr>
      <td>&amp;rd</td>

      <td>1</td>

      <td>is a file readable</td>
    </tr>

    <tr>
      <td>&amp;readable</td>

      <td>1</td>

      <td>is a file readable</td>
    </tr>

    <tr>
      <td>&amp;regex-escape</td>

      <td>1</td>

      <td>returns value with regex metacharacters escaped</td>
    </tr>

    <tr>
      <td>&amp;register</td>

      <td>1</td>

      <td>value of register (1-character name)</td>
    </tr>

    <tr>
      <td>&amp;right</td>

      <td>2</td>

      <td>right string(string, pos)</td>
    </tr>

    <tr>
      <td>&amp;rnd</td>

      <td>1</td>

      <td>get a random number from 1 to n</td>
    </tr>

    <tr>
      <td>&amp;sequal</td>

      <td>2</td>

      <td>string logical equality check</td>
    </tr>

    <tr>
      <td>&amp;sgeq</td>

      <td>2</td>

      <td>string greater than or equal</td>
    </tr>

    <tr>
      <td>&amp;sgreater</td>

      <td>2</td>

      <td>string logical greater than</td>
    </tr>

    <tr>
      <td>&amp;sgt</td>

      <td>2</td>

      <td>string greater than</td>
    </tr>

    <tr>
      <td>&amp;sindex</td>

      <td>2</td>

      <td>find the index of second string in first</td>
    </tr>

    <tr>
      <td>&amp;sleq</td>

      <td>2</td>

      <td>string less than or equal</td>
    </tr>

    <tr>
      <td>&amp;sless</td>

      <td>2</td>

      <td>string logical less than</td>
    </tr>

    <tr>
      <td>&amp;slt</td>

      <td>2</td>

      <td>string less than</td>
    </tr>

    <tr>
      <td>&amp;sneq</td>

      <td>2</td>

      <td>string inequality</td>
    </tr>

    <tr>
      <td>&amp;stime</td>

      <td>1</td>

      <td>system-time, as a number</td>
    </tr>

    <tr>
      <td>&amp;stoken</td>

      <td>3</td>

      <td>true if token found in string, given delims</td>
    </tr>

    <tr>
      <td>&amp;subtract</td>

      <td>2</td>

      <td>subtraction</td>
    </tr>

    <tr>
      <td>&amp;times</td>

      <td>2</td>

      <td>multiplication</td>
    </tr>

    <tr>
      <td>&amp;token</td>

      <td>3</td>

      <td>select n'th token of string, given delims</td>
    </tr>

    <tr>
      <td>&amp;translate</td>

      <td>3</td>

      <td>translate "from" to "to" for given string.</td>
    </tr>

    <tr>
      <td>&amp;trim</td>

      <td>1</td>

      <td>trim whitespace from string</td>
    </tr>

    <tr>
      <td>&amp;upper</td>

      <td>1</td>

      <td>uppercase string</td>
    </tr>

    <tr>
      <td>&amp;word</td>

      <td>2</td>

      <td>select n'th word of string, blank-separated</td>
    </tr>

    <tr>
      <td>&amp;writable</td>

      <td>1</td>

      <td>is a file writable</td>
    </tr>
  </table>

  <p><a name="completion-params" id="completion-params">The
  &amp;get-completion function takes two arguments.</a> The first
  is a category (one of "buffer", "command", "directory",
  "filename" or "tags"). The second is an initial value to
  complete.</p>

  <p><a name="lookup-params" id="lookup-params">The &amp;lookup
  function takes two arguments.</a> The first is a keyword and the
  second is a filename. Keywords may be combined with '+', e.g.,
  r+bin to find a readable file in the directory where vile's
  executable is. The keywords are for location:</p>

  <table border="1" summary="&amp;lookup locations">
    <colgroup>
      <col width="100px">
      <col width="400px">
    </colgroup>

    <tr>
      <td>bin</td>

      <td>look in vile's directory</td>
    </tr>

    <tr>
      <td>current</td>

      <td>look in the current directory</td>
    </tr>

    <tr>
      <td>home</td>

      <td>look in user's $HOME directory</td>
    </tr>

    <tr>
      <td>libdir</td>

      <td>look along $libdir-path</td>
    </tr>

    <tr>
      <td>path</td>

      <td>look along user's $PATH</td>
    </tr>

    <tr>
      <td>startup</td>

      <td>look along $startup-path</td>
    </tr>
  </table>

  <p>and for access type, defaulting to an existence check:</p>

  <table border="1" summary="&amp;lookup access">
    <colgroup>
      <col width="100px">
      <col width="400px">
    </colgroup>

    <tr>
      <td>execable</td>

      <td>test if file is exec'able</td>
    </tr>

    <tr>
      <td>readable</td>

      <td>test if file is readable</td>
    </tr>

    <tr>
      <td>writable</td>

      <td>test if file is writable</td>
    </tr>
  </table>

  <p>Search order is fixed: current, home, bin, startup, path,
  libdir</p>

  <p><a name="path-params" id="path-params">The &amp;path function
  takes two arguments.</a> The first is a keyword and the second is
  a pathname. Keywords are: end (suffix of the filename), full
  (absolute path), head (directory), root (filename without
  suffix), short (relative path), tail (filename).</p>

  <h3 id="macro-directives2"><a name="macro-directives" id=
  "macro-directives">Directives</a></h3>

  <p>Primitive flow-of-control within a macro may be obtained with
  certain directives. Macro directives start with a "~" and include
  the following: (see the file <a href="macros.html">macros.doc</a>
  for more detail)</p>

  <table border="1" summary="Directives">
    <colgroup>
      <col width="150px">
      <col width="400px">
    </colgroup>

    <tr>
      <th>Name</th>

      <th>Description</th>
    </tr>

    <tr>
      <td><code>~break</code></td>

      <td>exit a <code>~while</code> loop</td>

      <td></td>
    </tr>

    <tr>
      <td><code>~else</code></td>

      <td>default conditional execution</td>
    </tr>

    <tr>
      <td><code>~elseif</code> <em>cond</em></td>

      <td>alternate conditional execution</td>
    </tr>

    <tr>
      <td><code>~elsewith</code> <em>tokens</em></td>

      <td>alterate tokens to following commands</td>
    </tr>

    <tr>
      <td><code>~endif</code></td>

      <td>finish conditional execution</td>
    </tr>

    <tr>
      <td><code>~endm</code></td>

      <td>finish a macro</td>

      <td></td>
    </tr>

    <tr>
      <td><code>~endwhile</code></td>

      <td>finish a <code>~while</code> loop</td>

      <td></td>
    </tr>

    <tr>
      <td><code>~endwith</code></td>

      <td>finish a <code>~with</code> block</td>

      <td></td>
    </tr>

    <tr>
      <td><code>~force</code></td>

      <td>force macro to continue even if command fails</td>
    </tr>

    <tr>
      <td><code>~goto</code> <em>label</em></td>

      <td>jump to a label in the current macro</td>
    </tr>

    <tr>
      <td><code>~hidden</code></td>

      <td>do not update screen while the macro executes</td>

      <td></td>
    </tr>

    <tr>
      <td><code>~if</code> <em>cond</em></td>

      <td>start conditional execution</td>
    </tr>

    <tr>
      <td><code>~local</code> <em>vars</em></td>

      <td>save specified variables, restore when macro
      terminates</td>
    </tr>

    <tr>
      <td><code>~quiet</code></td>

      <td>suppress messages while the macro executes</td>

      <td></td>
    </tr>

    <tr>
      <td><code>~return</code></td>

      <td>terminate current macro</td>
    </tr>

    <tr>
      <td><code>~trace</code> <em>cond</em></td>

      <td>set $debug trace</td>
    </tr>

    <tr>
      <td><code>~while</code> <em>cond</em></td>

      <td>execute a loop if the condition is true</td>
    </tr>

    <tr>
      <td><code>~with</code> <em>tokens</em></td>

      <td>prepend tokens to following commands</td>
    </tr>
  </table>

  <p>Line labels begin with a "*" as the first nonblank char,
  like:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">*LBL01<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>You would jump to this with:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "preproc">~goto</span>&nbsp;LBL01<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>Lines ending with '\' are joined before interpreting them.</p>

  <h3 id="macro-hooks2"><a name="macro-hooks" id=
  "macro-hooks">Hooks</a></h3>

  <p>There are a few places within vile where a user-specifiable
  procedure will be executed if desired. These points are referred
  to as "hooks". Hooks are specified by special variables which
  hold the name of a procedure to run at that point in the code.
  For instance, there is a "cd-hook", which is run when you changej
  directories. Assume the following are included within a vile
  startup file:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">store-procedure</span><span class=
    "literal">&nbsp;my-cd-action</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">write-message</span>&nbsp;<span class=
    "ident2">&amp;cat</span>&nbsp;<span class=
    "ident2">&amp;cat</span>&nbsp;<span class=
    "ident2">&amp;cat</span>&nbsp;<span class=
    "literal">"moved&nbsp;from&nbsp;"</span>&nbsp;<span class=
    "ident2">$ocwd</span>&nbsp;<span class=
    "literal">"&nbsp;to&nbsp;"</span>&nbsp;<span class=
    "ident2">$cwd</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~if</span>&nbsp;<span class=
    "ident2">&amp;seq</span>&nbsp;<span class=
    "ident2">$progname</span>&nbsp;<span class=
    "literal">"xvile"</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">set-variable</span>&nbsp;<span class="ident2">$title</span>&nbsp;<span class="ident2">$cwd</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~endif</span><br>
    <span class="preproc">~endm</span><br>
    <span class="keyword">set</span>&nbsp;<span class=
    "keyword">cd-hook</span>&nbsp;my-cd-action<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>Whenever the current directory is changed within the editor
  (via the "cd" command), my-cd-action will print a message and,
  under xvile, change the window title.</p>

  <p>The following hooks are currently implemented:</p>

  <table border="1" summary="Hooks">
    <colgroup>
      <col width="150px">
      <col width="400px">
    </colgroup>

    <tr>
      <td>$autocolor-hook</td>

      <td>applies syntax coloring to modified buffers when the
      keyboard is idle for a user-configurable time period</td>
    </tr>

    <tr>
      <td>$buffer-hook</td>

      <td>run when switching to a buffer</td>
    </tr>

    <tr>
      <td>$cd-hook</td>

      <td>run when changing directories</td>
    </tr>

    <tr>
      <td>$exit-hook</td>

      <td>run when quitting</td>
    </tr>

    <tr>
      <td>$majormode-hook</td>

      <td>procedure to overrride suffix/preamble rules</td>
    </tr>

    <tr>
      <td>$read-hook</td>

      <td>run after a file is read</td>
    </tr>

    <tr>
      <td>$write-hook</td>

      <td>run before a file is written</td>
    </tr>
  </table>

  <p>Be careful with "buffer-hook". Executing commands in the hook
  which themselves switch buffers is not recommended. In general,
  all the hooks are a little dangerous, since vile has not been
  written with re-entrancy foremost in mind. One should avoid
  putting actions in hooks which might cause the hook to be
  re-executed. (vile keeps the hook procedure itself from being
  re-executed, to prevent recursion, but the code surrounding the
  call to it may not be safe either.)</p>

  <h3 id="macro-examples2"><a name="macro-examples" id=
  "macro-examples">Macro examples</a></h3>

  <p>To prevent vile from thinking that a failed command is an
  error in the macro, you can put "~force" in front of it. So, to
  write a macro which will run the "man" command on the identifier
  under the cursor, where you don't really consider it an error if
  the command fails, you might use:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "number">9</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~force</span>&nbsp;<span class=
    "number">1</span>&nbsp;<span class=
    "keyword">shell-command</span>&nbsp;<span class=
    "ident2">&amp;cat</span>&nbsp;<span class=
    "literal">"man&nbsp;"</span>&nbsp;<span class=
    "ident2">$identifier</span><br>
    <span class="preproc">~endm</span><br>
    <span class="keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-macro-9</span>&nbsp;<span class=
    "literal">^X-m</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>(The argument '1' suppresses the "press return" prompt which
  normally appears after a command runs, since man runs a pager
  which does this anyway.)</p>

  <p>The "screen-search-forward" command could be re-implemented
  as:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "number">10</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~force</span>&nbsp;<span class=
    "keyword">search-forward</span>&nbsp;<span class=
    "ident2">$identifier</span><br>
    <span class="preproc">~endm</span><br>
    <span class="keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-macro-10</span>&nbsp;<span class=
    "literal">^X-/</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>And the "screen-search-pattern-grab" command, normally bound
  to ^A-/, could be implemented with:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "number">11</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">set-variable</span>&nbsp;<span class=
    "ident2">$search</span>&nbsp;<span class=
    "ident2">$identifier</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">write-message</span>&nbsp;<span class=
    "ident2">&amp;cat</span>&nbsp;<span class=
    "literal">"Search&nbsp;pattern&nbsp;is&nbsp;now&nbsp;"</span>&nbsp;<span class="ident2">$search</span><br>

    <span class="preproc">~endm</span><br>
    <span class="keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-macro-11</span>&nbsp;<span class=
    "literal">^A-/</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>A variation, which will not find the identifier if it is a
  substring of another word, is:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "number">12</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~force</span>&nbsp;<span class=
    "keyword">search-forward</span>&nbsp;<span class=
    "ident2">&amp;cat</span>&nbsp;<span class=
    "literal">"\\&lt;"</span>&nbsp;<span class=
    "ident2">&amp;cat</span>&nbsp;<span class=
    "ident2">$identifier</span>&nbsp;<span class=
    "literal">"\\&gt;"</span><br>
    <span class="preproc">~endm</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>This works by surrounding the string with the \&lt; and \&gt;
  regular expression metacharacters.</p>

  <p>Here's another example, which finds C++ qualified identifiers,
  and uses them for a tag lookup:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;Implement&nbsp;&nbsp;^A-^]&nbsp;for&nbsp;qualified-name&nbsp;tag&nbsp;lookup</span><br>

    <span class="number">24</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">backward-character</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~local</span>&nbsp;<span class=
    "ident2">$search</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">search-forward</span>&nbsp;<span class=
    "literal">"^[a-zA-Z_][a-zA-Z0-9_:]*"</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">write-message</span>&nbsp;<span class=
    "ident2">&amp;cat</span>&nbsp;<span class=
    "literal">"Tag&nbsp;pattern&nbsp;is&nbsp;now&nbsp;"</span>&nbsp;<span class="ident2">$match</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~force</span>&nbsp;<span class=
    "keyword">find-tag</span>&nbsp;<span class=
    "ident2">$match</span><br>
    <span class="preproc">~endm</span><br>
    <span class="keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-macro-24</span>&nbsp;<span class=
    "literal">^A-^]</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>(The "backward-character" is needed because "search-forward"
  will always skip the cursor position when scanning, so as to
  always find the next occurrence. The directive ~local is used to
  avoid disturbing the search string.)</p>

  <p>Note that for simple key-remappings, binding is often
  preferable to creating a macro. Some people prefer using
  lower-case 'g' to as an equivalent to 'G', to goto a specific
  line. If done as a macro, like this:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "number">3</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">goto-line</span><br>
    <span class="preproc">~endm</span><br>
    <span class="keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-macro-3</span>&nbsp;<span class=
    "keyword">g</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>then both g and G go to the end of the file, but whereas 1000G
  goes to line 1000, 1000g goes to the end of the file 1000 times.
  It is easier (and more correct) to do:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">goto-line</span>&nbsp;<span class=
    "keyword">g</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>A couple more examples of slightly more complex macros: They
  cause a jump to the next (or previous) line of the same (or
  lesser) indent, skipping over empty lines. (Thanks to MIURA
  Masahiro)</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "comment">;&nbsp;macro&nbsp;1&nbsp;-&nbsp;back&nbsp;to&nbsp;the&nbsp;line&nbsp;of&nbsp;same&nbsp;indent</span><br>

    <span class="comment">;</span><br>
    <span class="number">1</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">first-nonwhite</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">set-variable</span>&nbsp;<span class=
    "ident2">%indlev</span>&nbsp;<span class=
    "ident2">$curcol</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~force</span>&nbsp;<span class=
    "keyword">back-line-at-bol</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~if</span>&nbsp;<span class=
    "ident2">&amp;seq</span>&nbsp;<span class=
    "ident2">&amp;trim</span>&nbsp;<span class=
    "ident2">$line</span>&nbsp;<span class="literal">""</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~goto</span>&nbsp;L1<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~endif</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~while</span>&nbsp;<span class=
    "ident2">&amp;les</span>&nbsp;<span class=
    "ident2">%indlev</span>&nbsp;<span class=
    "ident2">$curcol</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*L1<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~force</span>&nbsp;<span class="keyword">back-line-at-bol</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~if</span>&nbsp;<span class="ident2">&amp;seq</span>&nbsp;<span class="ident2">$status</span>&nbsp;<span class="literal">"FALSE"</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~return</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~endif</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~if</span>&nbsp;<span class="ident2">&amp;seq</span>&nbsp;<span class="ident2">&amp;trim</span>&nbsp;<span class="ident2">$line</span>&nbsp;<span class="literal">""</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~goto</span>&nbsp;L1<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~endif</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~endwhile</span><br>
    <span class="preproc">~endm</span><br>
    <span class="keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-macro-1</span>&nbsp;<span class=
    "literal">^X-[</span><br>
    <br>
    <span class=
    "comment">;&nbsp;macro&nbsp;2&nbsp;-&nbsp;forward&nbsp;to&nbsp;the&nbsp;line&nbsp;of&nbsp;same&nbsp;indent</span><br>

    <span class="comment">;</span><br>
    <span class="number">2</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">first-nonwhite</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">set-variable</span>&nbsp;<span class=
    "ident2">%indlev</span>&nbsp;<span class=
    "ident2">$curcol</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~force</span>&nbsp;<span class=
    "keyword">down-line-at-bol</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~if</span>&nbsp;<span class=
    "ident2">&amp;seq</span>&nbsp;<span class=
    "ident2">&amp;trim</span>&nbsp;<span class=
    "ident2">$line</span>&nbsp;<span class="literal">""</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~goto</span>&nbsp;L2<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~endif</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~while</span>&nbsp;<span class=
    "ident2">&amp;les</span>&nbsp;<span class=
    "ident2">%indlev</span>&nbsp;<span class=
    "ident2">$curcol</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*L2<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~force</span>&nbsp;<span class="keyword">down-line-at-bol</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~if</span>&nbsp;<span class="ident2">&amp;seq</span>&nbsp;<span class="ident2">$status</span>&nbsp;<span class="literal">"FALSE"</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~return</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~endif</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~if</span>&nbsp;<span class="ident2">&amp;seq</span>&nbsp;<span class="ident2">&amp;trim</span>&nbsp;<span class="ident2">$line</span>&nbsp;<span class="literal">""</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~goto</span>&nbsp;L2<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~endif</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~endwhile</span><br>
    <span class="preproc">~endm</span><br>
    <span class="keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-macro-2</span>&nbsp;<span class=
    "literal">^X-]</span><br>
    <br>
    <span class=
    "comment">;&nbsp;Use&nbsp;"@d"&nbsp;to&nbsp;change&nbsp;cwd&nbsp;to&nbsp;the&nbsp;dir&nbsp;containing&nbsp;the&nbsp;current&nbsp;file</span><br>

    <span class=
    "comment">;&nbsp;(contributed&nbsp;by&nbsp;Richard&nbsp;Hussong).&nbsp;&nbsp;Keep&nbsp;in&nbsp;mind&nbsp;that&nbsp;"^M"&nbsp;is&nbsp;an</span><br>

    <span class=
    "comment">;&nbsp;explict&nbsp;CR&nbsp;and&nbsp;that&nbsp;":cd&nbsp;-"&nbsp;reverts&nbsp;cwd&nbsp;to&nbsp;its&nbsp;previous&nbsp;value.</span><br>

    <span class="keyword">store-procedure</span><span class=
    "literal">&nbsp;cdcur</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">cd</span>&nbsp;<span class=
    "ident2">&amp;path</span>&nbsp;head&nbsp;<span class=
    "ident2">$cfilname</span><br>
    <span class="preproc">~endm</span><br>
    <span class="keyword">use-register</span>&nbsp;<span class=
    "literal">d</span>&nbsp;<span class=
    "keyword">load-register</span>&nbsp;<span class=
    "literal">":cdcur^M"</span><br>
    <br>
    <span class=
    "comment">;;&nbsp;Underline&nbsp;current&nbsp;line&nbsp;with&nbsp;user-specified&nbsp;char.&nbsp;&nbsp;Ex:</span><br>

    <span class=
    "comment">;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blah&nbsp;blah&nbsp;blah&nbsp;blah&nbsp;&nbsp;&nbsp;&lt;--&nbsp;curr&nbsp;line</span><br>

    <span class=
    "comment">;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++++++++++++++++++&nbsp;&nbsp;&nbsp;&lt;--&nbsp;underline&nbsp;with&nbsp;+</span><br>

    <span class=
    "comment">;;&nbsp;from&nbsp;Daniel&nbsp;L.&nbsp;Ashbrook&nbsp;.</span><br>

    <span class="keyword">store-procedure</span><span class=
    "literal">&nbsp;underline-currline</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">write-message</span>&nbsp;<span class=
    "literal">"enter&nbsp;underline&nbsp;char&nbsp;now..."</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">set-variable</span>&nbsp;<span class=
    "ident2">%linechar</span>&nbsp;<span class=
    "ident2">&amp;gtkey</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">write-message</span>&nbsp;<span class=
    "literal">""</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "comment">;&nbsp;don't&nbsp;underline&nbsp;trailing&nbsp;whitespace&nbsp;(trivial)</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">trim-lines-til</span>&nbsp;<span class=
    "keyword">end-of-line</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "comment">;&nbsp;don't&nbsp;underline&nbsp;leading&nbsp;whitespace&nbsp;(nontrivial)</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">goto-bol</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">setv</span>&nbsp;<span class=
    "ident2">%ldspace</span><span class=
    "keyword2">=</span><span class=
    "ident2">&amp;equ</span>&nbsp;<span class=
    "ident2">$char</span>&nbsp;<span class=
    "ident2">&amp;ascii</span>&nbsp;<span class=
    "literal">'&nbsp;'</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">setv</span>&nbsp;<span class=
    "ident2">%ldtab</span><span class=
    "keyword2">=</span><span class=
    "ident2">&amp;equ</span>&nbsp;<span class=
    "ident2">$char</span>&nbsp;<span class=
    "ident2">&amp;ascii</span>&nbsp;<span class=
    "literal">"\t"</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">setv</span>&nbsp;<span class=
    "ident2">%ldwhite</span><span class=
    "keyword2">=</span><span class=
    "ident2">&amp;or</span>&nbsp;<span class=
    "ident2">%ldspace</span>&nbsp;<span class=
    "ident2">%ldtab</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~if</span>&nbsp;<span class=
    "ident2">%ldwhite</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~force</span>&nbsp;<span class=
    "keyword">substitute-til</span>&nbsp;<span class=
    "keyword">next-punctuated-word</span>&nbsp;<span class=
    "literal">'^\b\b*'</span>&nbsp;<span class=
    "literal">''</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~endif</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "comment">;&nbsp;compute&nbsp;length&nbsp;sans&nbsp;lead/trail&nbsp;whitespace</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">set-variable</span>&nbsp;<span class=
    "ident2">%linelength</span>&nbsp;<span class=
    "ident2">$llength</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~if</span>&nbsp;<span class=
    "ident2">%ldwhite</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;put&nbsp;leading&nbsp;whitespace&nbsp;back</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">undo-change</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;it's&nbsp;not&nbsp;possible&nbsp;to&nbsp;disable&nbsp;the&nbsp;screen&nbsp;clutter&nbsp;of</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;visual-matches&nbsp;mode&nbsp;(following&nbsp;a&nbsp;substitution)</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;for&nbsp;all&nbsp;buffers&nbsp;from&nbsp;within&nbsp;a&nbsp;macro.&nbsp;so&nbsp;substitute</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;for&nbsp;an&nbsp;improbable&nbsp;char&nbsp;(which&nbsp;achieves&nbsp;desired&nbsp;effect)</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~force</span>&nbsp;<span class="keyword">substitute-til</span>&nbsp;<span class="keyword">next-punctuated-word</span>&nbsp;<span class="ident2">&amp;chr</span>&nbsp;<span class="literal">\x</span>ff&nbsp;<span class="ident2">&amp;chr</span>&nbsp;<span class="literal">\x</span>ff<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~force</span>&nbsp;<span class="keyword">clear-visual-matches</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~endif</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">unset-variable</span>&nbsp;<span class=
    "ident2">%ustring</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">set-variable</span>&nbsp;<span class=
    "ident2">%i</span>&nbsp;<span class="number">0</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "comment">;&nbsp;build&nbsp;underline&nbsp;string&nbsp;in&nbsp;memory&nbsp;and&nbsp;insert&nbsp;with&nbsp;a</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "comment">;&nbsp;single&nbsp;operation&nbsp;(optimizes&nbsp;undo)</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~while</span>&nbsp;<span class=
    "ident2">&amp;less</span>&nbsp;<span class=
    "ident2">%i</span>&nbsp;<span class=
    "ident2">%linelength</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">set-variable</span>&nbsp;<span class="ident2">%ustring</span>&nbsp;<span class="ident2">&amp;cat</span>&nbsp;<span class="ident2">%ustring</span>&nbsp;<span class="ident2">%linechar</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">set-variable</span>&nbsp;<span class="ident2">%i</span>&nbsp;<span class="ident2">&amp;add</span>&nbsp;<span class="ident2">%i</span>&nbsp;<span class="number">1</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~endwhile</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "comment">;&nbsp;force&nbsp;ustring&nbsp;to&nbsp;align&nbsp;with&nbsp;prev&nbsp;line</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~local</span>&nbsp;<span class=
    "ident2">$autoindent</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">setv</span>&nbsp;<span class=
    "ident2">$autoindent</span><span class=
    "keyword2">=</span>true<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">goto-eol</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">append-string</span>&nbsp;<span class=
    "ident2">&amp;chr</span>&nbsp;<span class=
    "number">13</span>&nbsp;&nbsp;<span class=
    "comment">;&nbsp;13&nbsp;-&gt;&nbsp;CR</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">insert-string</span>&nbsp;<span class=
    "ident2">%ustring</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~force</span>&nbsp;<span class=
    "keyword">next-line</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">goto-bol</span><br>
    <span class="preproc">~endm</span><br>
    <span class="keyword">bind-key</span>&nbsp;<span class=
    "keyword">underline-currline</span>&nbsp;<span class=
    "literal">#-</span><br>
    <br>
    <span class=
    "comment">;&nbsp;macro&nbsp;14&nbsp;-&nbsp;grep&nbsp;for&nbsp;the&nbsp;word&nbsp;under&nbsp;the&nbsp;cursor,&nbsp;and&nbsp;put&nbsp;the&nbsp;result</span><br>

    <span class=
    "comment">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;a&nbsp;buffer&nbsp;named&nbsp;after&nbsp;that&nbsp;word.&nbsp;&nbsp;set&nbsp;the&nbsp;error-buffer,</span><br>

    <span class=
    "comment">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;so&nbsp;that&nbsp;^X-^X&nbsp;may&nbsp;be&nbsp;used&nbsp;to&nbsp;visit&nbsp;the&nbsp;lines&nbsp;found&nbsp;by&nbsp;grep.</span><br>

    <span class=
    "comment">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(we&nbsp;have&nbsp;to&nbsp;set&nbsp;error-buffer&nbsp;explicitly,&nbsp;since&nbsp;we&nbsp;renamed</span><br>

    <span class=
    "comment">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;buffer&nbsp;--&nbsp;otherwise&nbsp;it&nbsp;tracks&nbsp;the&nbsp;last&nbsp;pipe&nbsp;read&nbsp;by&nbsp;vile)</span><br>

    <span class="number">14</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">set-variable</span>&nbsp;<span class=
    "ident2">%grepfor</span>&nbsp;<span class=
    "ident2">$identifier</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">edit-file</span><span class=
    "literal">&nbsp;&amp;cat&nbsp;"!egrep&nbsp;-n&nbsp;"&nbsp;&amp;cat&nbsp;%grepfor&nbsp;"&nbsp;*.[chs]"</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">rename-buffer</span>&nbsp;<span class=
    "ident2">%grepfor</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">error-buffer</span>&nbsp;<span class=
    "ident2">%grepfor</span><br>
    <span class="preproc">~endm</span><br>
    <span class="keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-macro-14</span>&nbsp;<span class=
    "literal">^A-g</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>As a hint, it is (almost?) never correct to write a ':'
  command when creating a programmed macro. For instance, if you
  find yourself writing something like:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "ident2">&amp;cat</span>&nbsp;<span class=
    "literal">":!chmod&nbsp;+w&nbsp;"</span>&nbsp;<span class=
    "ident2">$cfilname</span><br>
    <span class="ident2">&amp;cat</span>&nbsp;<span class=
    "literal">":e!&nbsp;"</span>&nbsp;<span class=
    "ident2">$cfilname</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>(in an attempt to make a buffer writable before editing it),
  then what you really want is:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">shell-command</span>&nbsp;<span class=
    "ident2">&amp;cat</span>&nbsp;<span class=
    "literal">"chmod&nbsp;+w&nbsp;"</span>&nbsp;<span class=
    "ident2">$cfilname</span><br>
    <span class="keyword">replace-with-file</span><span class=
    "literal">&nbsp;$cfilname</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>Furthermore, some things are just as easy if done with a
  "keystroke" macro rather than a programmed macro:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "comment">;&nbsp;use&nbsp;this&nbsp;as&nbsp;'@w'</span><br>
    <span class="keyword">use-register</span>&nbsp;<span class=
    "literal">w</span>&nbsp;<span class=
    "keyword">load-register</span>&nbsp;<span class=
    "literal">":!chmod&nbsp;+w&nbsp;%^M:setl&nbsp;noview^M:w^M"</span><br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>or</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">map</span><span class=
    "literal">&nbsp;^A-w&nbsp;":!chmod&nbsp;+w&nbsp;%^M:setl&nbsp;noview^M:w^M"</span><br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>(Of course you need to replace the ^M's with real
  carriage-returns.)</p>

  <h3 id="picture-mode2"><a name="picture-mode" id=
  "picture-mode">Picture Mode</a></h3>

  <p>Another example of a fairly complex vile procedure can be
  found in the file "pictmode.rc". The code there implements a
  primitive means of drawing "ASCII art". To use it, first ":source
  pictmode.rc" and then "run pic". See the comments at the top of
  pictmode.rc for more information...</p>

  <h2 id="regular-expressions2"><a name="regular-expressions" id=
  "regular-expressions">Regular Expressions</a></h2>

  <p>Searches use regular expressions, which, as in vi, may be
  magic by default or not.</p>

  <p>vile introduces some new magic metacharacters.</p>

  <p>The code that implements the expressions is based directly on
  Henry Spencer's regexp code. Quoting from the original man
  page:</p>

  <p>[For ease of reference, the metacharacters are noted on the
  left margin.]</p>

  <table border="0" summary="Regular Expressions">
    <colgroup>
      <col width="80px">
      <col width="500px">
    </colgroup>

    <tr>
      <td align="center"><code>\|</code></td>

      <td>A regular expression is zero or more branches, separated
      by `\|'. It matches anything that matches one of the
      branches.</td>
    </tr>

    <tr>
      <td></td>

      <td>A branch is zero or more pieces, concatenated. It matches
      a match for the first, followed by a match for the second,
      etc.</td>
    </tr>

    <tr>
      <td align="center"><code>*<br>
      +<br>
      \?</code></td>

      <td>A piece is an atom possibly followed by `*', `\+', or
      `\?'. An atom followed by `*' matches a sequence of 0 or more
      matches of the atom. An atom followed by `\+' matches a
      sequence of 1 or more matches of the atom. An atom followed
      by `\?' matches a match of the atom, or the null string.
      [i.e., `\?' matches 0 or 1 occurrences]</td>
    </tr>

    <tr>
      <td align="center"><code>\( \)<br>
      . ^<br>
      $<br>
      \<em>c</em><br>
      <em>c</em></code></td>

      <td>An atom is a regular expression in backslashed
      parentheses (matching a match for the regular expression), a
      range (see <a href="#regex-range">below</a>), (matching any
      single character), `^' (matching the null string at the
      beginning of the input string), `$' (matching the null string
      at the end of the input string), a `\' followed by a single
      character (matching that character), or a single character
      with no other significance (matching that character).</td>
    </tr>

    <tr>
      <td align="center"><code>\&lt; \&gt;</code></td>

      <td>In addition, vile atoms may be: \&lt; and \&gt;, which
      match the beginning and end of a "word".</td>
    </tr>

    <tr>
      <td></td>

      <td>Vile recognizes the X/Open regular expression character
      classes (and additional character classes), as well as
      shorthand expressions for them. You can use the shorthand
      expressions in a range or as an atom. Each shorthand
      expression has a complement, e.g., \w and \W.</td>
    </tr>

    <tr>
      <td align="center"><code>\i \I<br>
      \a \A<br>
      \b \B<br>
      \c \C<br>
      \d \D<br>
      \f \F<br>
      \g \G<br>
      \w \W<br>
      \l \L<br>
      \o \O<br>
      \p \P<br>
      \q \Q<br>
      \s \S<br>
      \u \U<br>
      \x \X</code></td>

      <td>[:alnum:]<br>
      [:alpha:]<br>
      [:blank:]<br>
      [:cntrl:]<br>
      [:digit:]<br>
      [:file:]<br>
      [:graph:]<br>
      [:ident:], alphanumeric (plus '_')<br>
      [:lower:]<br>
      [:octal:]<br>
      [:print:], printable (note that space is printable)<br>
      [:punct:]<br>
      [:space:]<br>
      [:upper:]<br>
      [:xdigit:]<br></td>
    </tr>

    <tr>
      <td><code>[ ]</code></td>

      <td><a name="regex-range" id="regex-range">A range is a
      sequence of characters enclosed in `[]'.</a> It normally
      matches any single character from the sequence. If the
      sequence begins with `^', it matches any single character not
      from the rest of the sequence. If two characters in the
      sequence are separated by `-', this is shorthand for the full
      list of ASCII characters between them (e.g. `[0-9]' matches
      any decimal digit). To include a literal `]' in the sequence,
      make it the first character (following a possible `^'). To
      include a literal `-', make it the first or last
      character.</td>
    </tr>

    <tr>
      <td></td>

      <td>Additionally for vile, if "ignorecase" is set, then all
      literal matches, including those in character classes, are
      done without regard to upper and lower case.</td>
    </tr>

    <tr>
      <td></td>

      <td>In magic mode, the following set of metacharacters must
      be preceded by '\' to hide their special meaning: * [ . ^ $
      These characters are special if they <i>are</i> preceded with
      a '\': ? + ( ) | &lt; &gt;</td>
    </tr>

    <tr>
      <td></td>

      <td>If magic mode is <i>not</i> on, only ^ and $ are special
      if not escaped. All of the following must be preceded with a
      '\' to be special, otherwise they are taken literally: ? + (
      ) | * [ . &lt; &gt;</td>
    </tr>

    <tr>
      <td align="center"><code>\1 \9</code></td>

      <td>Replacement subexpressions are supported when
      substituting. That is, if part of an expression is contained
      in \( and \), then the part of the matched text in between
      those symbols will be substituted for an occurrence of \1 in
      the replacement pattern. Up to 9 such substitutions can be
      made. The special symbol &amp; will &amp; substitute for the
      entire match string.</td>
    </tr>

    <tr>
      <td align="center"><code>~</code></td>

      <td>The tilde (~) character will expand immediately when it
      is typed to be the contents of the previously entered
      replacement pattern. [ Earlier versions of vile made this
      version of the pattern available immediately, as a default
      response, but this made it difficult to substitute nothing
      after previously substituting something. ]</td>
    </tr>

    <tr>
      <td align="center"><code>\U \L<br>
      \E<br>
      \u \l<br>
      \bfrtn</code></td>

      <td>The replacement part of the substitution may also contain
      the special sequences \U and \L, which cause the replacement
      to be forced to uppercase or lowercase until a terminating \E
      is found; \u and \l, which force the case of a single
      character; and \b, \f, \r, \t, \n, which insert the usual
      ASCII character. Note that vile mimics perl's handling of
      \u\L\1\E instead of vi's. Given :s/\(abc\)/\u\L\1\E/ vi will
      replace with "abc" whereas vile and perl will replace with
      "Abc". This is somewhat more useful for capitalizing
      words.</td>
    </tr>
  </table>

  <h2 id="command-files2"><a name="command-files" id=
  "command-files">Command files</a></h2>

  <p>On startup, in the absence of '@' arguments, vile attempts to
  read the file ".vilerc" ("vile.rc" on non-Unix hosts) in the
  current directory, then in $HOME, and then in several
  host-specific locations (see the <a href=
  "#invocation">"Invocation"</a> topic below for complete details).
  If found, vile executes the startup file's commands. It is
  possible to nest such executions. For example, you might keep
  your general default settings in your home directory, and put the
  following lines in a .vilerc in a directory in which you prefer
  tabs be set to 4 spaces:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">source</span><span class=
    "literal">&nbsp;"$HOME/.vilerc"</span><br>
    <span class="keyword">set</span>&nbsp;<span class=
    "keyword">tabstop</span>&nbsp;<span class="number">4</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>The quotes surrounding the filename are necessary to protect
  the name from interpretation as a vile variable, since it starts
  with the '$' character.</p>

  <p>Files can be executed at any time with the ":source" (or
  ":execute-file") command. There are control structures available,
  such as ~while, ~if, etc. Refer to the file <a href=
  "macros.html">doc/macros.doc</a> which is distributed with vile
  for more information.</p>

  <p>Nesting of source'd files is limited to a depth of ten, to
  prevent infinite recursion.</p>

  <p>The ';' character can be used as a comment character in
  command files, but not necessarily on the same line as valid
  commands. Put your comments on separate lines to be safe.</p>

  <h2 id="invocation2"><a name="invocation" id=
  "invocation">Invocation</a></h2>

  <p>vile searches for a startup or command file in these locations
  (and in the order listed):</p>
  <pre>
        1 - current working directory
        2 - directory specified by $HOME
        3 - if host is not Unix
                vile executable directory
            fi
        4 - each directory specified in $VILE_STARTUP_PATH.  If
            this environment variable is not set, the following
            host-specific defaults are internally assumed:

            VMS:  sys$login,sys$sysdevice:[vmstools],sys$library

            DOS/OS/2/Win32:  /sys/public;/usr/bin;/bin;/

            Unix:  depends on whether or not $VILE_STARTUP_PATH was
                   set when vile was configured prior to
                   compilation.  If set, then the value of that
                   environment var is compiled into the editor,
                   else the default configure "datadir" is
                   selected, which is either:

                   /usr/local/share/vile   (typical root build)
                   ${prefix}/share/vile    (nonroot build)

        5 - if host is not Unix, each directory specified in:
                $PATH
                $VILE_LIBDIR_PATH
            fi
</pre>

  <p>If the variable VILEINIT is set in the environment, it is used
  as a set of vile commands to initialize the editor. As a
  not-very-useful example of a VILEINIT sequence, the following
  setting recreates portions of the default initialization
  behavior:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">export&nbsp;VILEINIT<br>
    VILEINIT=<span class="comment">"</span><br>
    <span class="preproc">~if</span>&nbsp;<span class=
    "ident2">&amp;rd</span>&nbsp;<span class=
    "literal">\"</span>./.vilerc<span class="literal">\"</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">source</span><span class=
    "literal">&nbsp;\"./.vilerc\"</span><br>
    <span class="preproc">~else</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~if</span>&nbsp;<span class=
    "ident2">&amp;rd</span>&nbsp;<span class=
    "literal">\"</span><span class=
    "comment">$HOME</span>/.vilerc<span class=
    "literal">\"</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">source</span><span class="literal">&nbsp;\"$HOME/.vilerc\"</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~endif</span><br>
    <span class="preproc">~endif</span><span class=
    "comment">"</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>Other environment variables:</p>

  <dl>
    <dt>VILE_ERROR_ABORT</dt>

    <dd>if VILE_ERROR_ABORT is defined during compilation, setting
    this environment variable at runtime will cause vile to abort
    (and dump core) rather than attempt to cleanup and exit with an
    error code on fatal errors. This is used for debugging.</dd>

    <dt>VILE_HELP_FILE</dt>

    <dd>override the name of the help file, normally "vile.hlp".
    This sets the $helpfile variable.</dd>

    <dt>VILE_LIBDIR_PATH</dt>

    <dd>override the search path for filter programs, normally the
    library-directory on UNIX systems. This sets the $libdir-path
    variable, which is appended to your $PATH variable when running
    filter commands on UNIX and Win32.</dd>

    <dt>VILE_LOCALE_MAPPING</dt>

    <dd>
      override the pattern used to associate wide/narrow locales.
      vile uses this to compute a possible 8-bit "narrow" locale
      which corresponds to the current locale, thereby supporting
      editing of wide- and narrow-encoded text.

      <p>The default value,
      <code>/\\.\\(UTF\\|utf\\)[-]\\?8$//</code>, simply strips the
      most common suffixes used for wide-character locales. For
      example, "en_US.UTF-8" would be converted to "en_US". If your
      computer's locale tables do not support that, you can modify
      the pattern to help vile find the narrow locale value that
      works.</p>
    </dd>

    <dt>VILE_MENU</dt>

    <dt>XVILE_MENU</dt>

    <dd>if set, overrides the compiled-in location of the menu file
    used by xvile. If $VILE_MENU is unset, xvile checks the
    $XVILE_MENU variable (or XMVILE_MENU, if the program is renamed
    xmvile, etc).</dd>

    <dt><a name="env-VILE_NROFF_FILT" id=
    "env-VILE_NROFF_FILT">VILE_NROFF_FILT</a></dt>

    <dd>if set, overrides the choice between "nroff" and "cawf"
    (depending on platform) in the ShowFormatted macro (^X-n). You
    may want to set this to "groff" if your system has groff
    installed, for instance, but relies on an antique version of
    nroff for manpages.</dd>

    <dt>VILE_PWD</dt>

    <dd>if set, assume invoking shell's "$PWD" variable is valid,
    and use that rather than an initial getcwd() call.</dd>

    <dt>VILE_SPELL_FILT</dt>

    <dd>if set, overrides the compiled-in program name and options
    for the spell-filter. Normally that is a string such as "spell
    -l"</dd>

    <dt>VILE_STARTUP_FILE</dt>

    <dd>override the name of the startup file, normally ".vilerc"
    (or "vile.rc" for non-UNIX systems).</dd>

    <dt>VILE_STARTUP_PATH</dt>

    <dd>override the search path for the startup and help files.
    This sets the $startup-path variable.</dd>

    <dt>VILE_TABLE_FILT</dt>

    <dd>if set, indicates that "tbl" is available. Set this to
    "cat" if you do not want to use "tbl", but do want to use
    "nroff", etc (see <a href=
    "#env-VILE_NROFF_FILT">VILE_NROFF_FILT</a>). It is used in the
    ShowFormatted macro (^X-n).</dd>
  </dl>

  <p>Note: For simplification, the filters.rc script assumes that
  the filter programs are in $PATH. The $libdir-path feature may
  not work for you out-of-the-box, since your shell's
  initialization file (e.g., ".cshrc") may set $PATH. One solution
  (other than adding /usr/local/lib/vile to $PATH) is to set the
  vile variable $shell to /bin/sh, assuming you have no Bourne
  shell ".profile" to set $PATH. Then vile's modification of $PATH
  affects the filter process and also runs faster.</p>

  <h3 id="commmandline-options2"><a name="commmandline-options" id=
  "commmandline-options">Command line options</a></h3>

  <p>The command line options are fairly straightforward. vile
  supports running just <i>any</i> command after a '+', as does vi.
  It also has some shortcut options to support the commonly used
  '+400' to go to line 400 and '+/foo' to search for foo. Command
  files can be explicitly executed on startup by prefixing them
  with the '@' character, as in "vile @mycmds file.c". This will
  suppress the operation of VILEINIT and the .vilerc files.</p>

  <dl>
    <dt>-?</dt>

    <dd>print the usage message.</dd>

    <dt>-c <em>command</em></dt>

    <dd>will execute the given command after loading the first
    file.</dd>

    <dt>+<em>NNN</em> and -g<em>NNN</em></dt>

    <dd>vile will begin the session on the first file at the
    specified line number.</dd>

    <dt>+/<em>pattern</em> or -s <em>pattern</em></dt>

    <dd>In the first file, vile will execute an initial search for
    the given pattern.</dd>

    <dt>-t <em>tag</em></dt>

    <dd>vile will edit the correct file and move the cursor to the
    location of the tag. This requires a tagsfile created with the
    ctags(1) command.</dd>

    <dt>-h</dt>

    <dd>Invokes vile on the helpfile.</dd>

    <dt>-v</dt>

    <dd>Invokes vile in "view" mode - no changes are permitted to
    the buffer in this mode. (This will also be true if vile is
    invoked as view.)</dd>

    <dt>-V</dt>

    <dd>vile will report its version number.</dd>

    <dt>@<em>cmdfile</em> vile will run the specified file as its
    startup file, and will bypass any normal startup file (i.e.
    .vilerc) or environment variable (i.e. $VILEINIT).</dt>
  </dl>

  <h2 id="encryption2"><a name="encryption" id=
  "encryption">Encryption</a></h2>

  <p>vile implements an interface to the UNIX crypt function, like
  standard vi, and can apply this to your buffers either
  automatically (via a mode setting) or manually (via an explicit
  command). The algorithm is reversible, so encrypting a previously
  encrypted buffer will undo that encryption.</p>

  <p>The encryption key for a buffer will be a) inherited from the
  global cryptkey which was set via the vile command line (-k) if
  it exists, b) set with the set-crypt-key (^X-X) command, or c)
  obtained from the user interactively. The details of this are a
  little messy, and should probably be cleaned up somewhat. The
  buffer's key will remain active until changed or reset.</p>

  <p>If "crypt" mode is on, then when the buffer is written the
  user will be prompted for the encryption key to use if none has
  yet been set. If "crypt" mode is on, and an encryption key has
  been set, then the buffer will be encrypted when read. In
  practice this means you need to read the file, then set crypt
  mode, then reread the file. (Or, equivalently, create the buffer,
  set crypt mode, and then insert the file into it (with ":r").</p>

  <p>As an alternative to UNIX crypt, the collection of macros in
  the file macros/gnugpg.rc facilitates use of GNU's gpg encryption
  package. gpg and gnugpg.rc work well on both Unix and win32
  hosts.</p>

  <h2 id="crash-recovery2"><a name="crash-recovery" id=
  "crash-recovery">Crash Recovery</a></h2>

  <p>The "vi -r" option, used to recover an edited buffer after a
  system crash, is not present in vile. If vile itself crashes
  (usually (though infrequently :-) due to a bug, but perhaps due
  to an externally applied signal), it attempts to save any
  modified buffers in a temporary directory and, on a Unix host,
  sends mail to the user to that affect. The selection of the
  temporary directory is host-specific, as follows:</p>

  <h3 id="unix-recovery2"><a name="unix-recovery" id=
  "unix-recovery">Unix (in priority order)</a></h3>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "ident2">$TMPDIR</span>/vileDXXXXXX<br>
    /var/tmp/vileDXXXXX<br>
    /usr/tmp/vileDXXXXX<br>
    /tmp/vileDXXXXXX<br>
    ./vileDXXXXXX<br>
    <!--atr2html}}--></p>
  </blockquote>

  <h3 id="dos-recovery2"><a name="dos-recovery" id=
  "dos-recovery">DOS and OS/2</a></h3>

  <p>Saved buffers are written to disk using the path
  ./V&lt;buffername&gt; .</p>

  <h3 id="other-recovery2"><a name="other-recovery" id=
  "other-recovery">All other hosts (in priority order)</a></h3>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "ident2">$TMPDIR</span>/vileDXXXXXX<br>
    ./vileDXXXXXX<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>where "<em>XXXXXX</em>" is a unique suffix created by
  mktemp().</p>

  <p>If system crashes are frequent on your system, you should stop
  using it. You might also consider the "autosave" and "autowrite"
  options, which will cause more frequent saves of your work.</p>

  <h2 id="statusline2"><a name="statusline" id="statusline">Mode
  line customization</a></h2>

  <p>At the bottom of each window is a mode (or "status") line
  which is used for displaying certain characteristics of the
  window and the buffer associated with it. On most displays, this
  mode line will be highlighted in reverse video or via other means
  in order to visually separate windows and to distinguish the mode
  line from text displayed in the window.</p>

  <p>The editor variable "modeline-format" is set to a string which
  controls formatting of mode lines. This variable is user settable
  and thus may be used to customize the display of mode lines. The
  format specifiers which may appear in the format control strings
  are as follows:</p>

  <table border="1" summary="Modeline Format">
    <colgroup>
      <col width="80px">
      <col width="500px">
    </colgroup>

    <tr>
      <th align="left">Format</th>

      <th align="left">Description</th>
    </tr>

    <tr>
      <td>%b</td>

      <td>buffer name</td>
    </tr>

    <tr>
      <td>%c</td>

      <td>column number if "ruler" is set</td>
    </tr>

    <tr>
      <td>%C</td>

      <td>character value at current edit-position.</td>
    </tr>

    <tr>
      <td>%f</td>

      <td>file name when not internal buffer and when not the same
      as the buffer name.</td>
    </tr>

    <tr>
      <td>%F</td>

      <td>file name when it is internal buffer name and not the
      same as the buffer name.</td>
    </tr>

    <tr>
      <td>%i</td>

      <td>insert/overwrite/replace mode indicator, displayed only
      when in insert, overwrite, or replace mode. When not in one
      of these modes, the separator character (often "-", "=", or "
      ") will be displayed.</td>
    </tr>

    <tr>
      <td>%l</td>

      <td>line number to be displayed if "ruler" is set</td>
    </tr>

    <tr>
      <td>%L</td>

      <td>number of lines in buffer, if ruler is set</td>
    </tr>

    <tr>
      <td>%m</td>

      <td>major mode(s), e.g., cmode, view-only, etc. Displayed in
      square brackets.</td>
    </tr>

    <tr>
      <td>%M</td>

      <td>brief version of "%m", omitting "mode", etc.</td>
    </tr>

    <tr>
      <td>%n</td>

      <td>file leaf name when not internal buffer name, otherwise
      the buffer name.</td>
    </tr>

    <tr>
      <td>%N</td>

      <td>absolute file path when not internal buffer name,
      otherwise the buffer name.</td>
    </tr>

    <tr>
      <td>%p</td>

      <td>line number as percentage of number of lines if "ruler"
      is set</td>
    </tr>

    <tr>
      <td>%P</td>

      <td>line number as percentage of number of lines</td>
    </tr>

    <tr>
      <td>%r</td>

      <td>relative file name when not internal buffer name,
      otherwise the buffer name.</td>
    </tr>

    <tr>
      <td>%S</td>

      <td>rough position of window with respect to buffer (top,
      bot, all, emp, mid) when ruler not set (or ruler is set, but
      buffer is empty).</td>
    </tr>

    <tr>
      <td>%=</td>

      <td>middle separator; should appear at most once in a format
      string. This indicates where to separate the left and right
      hand portions of the mode line with a long string of dashes
      (or whatever the separator character is).</td>
    </tr>

    <tr>
      <td>%-</td>

      <td>single occurrence of separator character</td>
    </tr>

    <tr>
      <td>%|</td>

      <td>eighty column indicator</td>
    </tr>

    <tr>
      <td>%%</td>

      <td>percent sign</td>
    </tr>

    <tr>
      <td>%:</td>

      <td>colon</td>
    </tr>

    <tr>
      <td>%{name}</td>

      <td>any internal mode/variable value, given its name</td>
    </tr>
  </table>

  <p>Some of the format specifiers (%f, %F, %m, %l, %c, %p, %S, %L,
  %C) are conditionally displayed. For example "%m" will display
  the major modes only if there are some major modes set or if the
  buffer has been modified (which is sort of a major mode).
  Similarly, "%F" and "%f" will cause the associated file name to
  be displayed when the buffer is of the appropriate type (a
  scratch buffer or not) and the shortened file name is different
  from the buffer name. It is desirable at times to cause a prefix
  string and/or a suffix string to be emitted along with the string
  obtained after conversion of the format specifier. This may be
  done by following the format specifier with a colon, the prefix
  string, another colon, the suffix string, and another colon. For
  example, "%l:(:,:%c::) :" might be used to display the line and
  column number for "ruler" mode. Note that either or both of the
  prefix and suffix strings may be empty.</p>

  <p>Characters in the string which are not part of a format
  specifier are output verbatim.</p>

  <p>The default format control string is as follows:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "literal">"%-%i%-&nbsp;%b&nbsp;%m::&nbsp;:%f:is&nbsp;:&nbsp;:%=%F:&nbsp;:&nbsp;:%l:(:,:%c::)&nbsp;:%p::%&nbsp;:%C:char&nbsp;::%S%-%-%|"</span><br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>Mode lines for some versions of vile previous to version 4.7
  can be obtained with the following format string. This will
  remove the percentage indication from the mode line when in ruler
  mode and also shift the ruler indicator to the far right in the
  mode line.</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "literal">"%-%i%-&nbsp;%b&nbsp;%m::&nbsp;:%f:is&nbsp;:&nbsp;:%=%F:&nbsp;:&nbsp;%-%-%-%-:%l:(:,:%c::):%S::%-%-:%|"</span><br>

    <!--atr2html}}--></p>
  </blockquote>

  <h2 id="color-basics2"><a name="color-basics" id=
  "color-basics">Color basics</a></h2>

  <p>The editor's support of color varies from host to host. On
  some hosts, such as VMS and DOS, limited capability exists. On
  other hosts, full-blown syntax coloring is provided for a wide
  variety of languages and tools. Prior to discussing the ins and
  outs of syntax coloring, it helps to first describe several key
  color features and concepts.</p>

  <h3 id="console-vs-gui2"><a name="console-vs-gui" id=
  "console-vs-gui">Console/standard vile versus GUI vile</a></h3>

  <p>Depending on the host, vile comes in two flavors:</p>

  <ul>
    <li>console (or "standard") vile, which displays text with
    block character, cursor-based addressing.</li>

    <li>GUI vile (aka, winvile on a win32 host and xvile on a Unix
    host), which displays text using the host's GUI APIs.</li>
  </ul>

  <p>In general, GUI vile supports a richer set of color features
  and capabilities than console vile.</p>

  <h3 id="color-palette2"><a name="color-palette" id=
  "color-palette">Color palette</a></h3>

  <p>Depending on the capabilities of the host operating system and
  the underlying display hardware, vile supports a palette of up to
  16 colors. The editor's color names are fixed, as shown in this
  list:</p>

  <table border="1" summary="Color palette">
    <tr>
      <th>External user name</th>

      <th>Internal vile name</th>
    </tr>

    <tr>
      <td>black</td>

      <td>C0</td>
    </tr>

    <tr>
      <td>red</td>

      <td>C1</td>
    </tr>

    <tr>
      <td>green</td>

      <td>C2</td>
    </tr>

    <tr>
      <td>brown</td>

      <td>C3</td>
    </tr>

    <tr>
      <td>blue</td>

      <td>C4</td>
    </tr>

    <tr>
      <td>magenta</td>

      <td>C5</td>
    </tr>

    <tr>
      <td>cyan</td>

      <td>C6</td>
    </tr>

    <tr>
      <td>lightgray</td>

      <td>C7</td>
    </tr>

    <tr>
      <td>gray</td>

      <td>C8</td>
    </tr>

    <tr>
      <td>brightred</td>

      <td>C9</td>
    </tr>

    <tr>
      <td>brightgreen</td>

      <td>CA</td>
    </tr>

    <tr>
      <td>yellow</td>

      <td>CB</td>
    </tr>

    <tr>
      <td>brightblue</td>

      <td>CC</td>
    </tr>

    <tr>
      <td>brightmagenta</td>

      <td>CD</td>
    </tr>

    <tr>
      <td>brightcyan</td>

      <td>CE</td>
    </tr>

    <tr>
      <td>white</td>

      <td>CF</td>
    </tr>
  </table>

  <p>Note that both xvile and winvile provide support for the
  mapping of arbitrary RBG values to the above color names, thus
  permitting the creation of a customized color palette.</p>

  <h3 id="xvile-colors2"><a name="xvile-colors" id=
  "xvile-colors">xvile custom colors</a></h3>

  <p>When a color X server and color display are available, xvile's
  default colors are modified by changing the editor's color
  resources (refer to the topic "X Resources" in this help file).
  So, for example, the following line in an .Xdefaults or
  .Xresources file maps "gray" above to red:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">XVile</span>.<span class=
    "ident2">color</span>.<span class=
    "ident2">fcolor8</span>:<span class=
    "literal">&nbsp;</span><span class=
    "number">rgb:ff/0/0</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>or</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">XVile</span>.<span class=
    "ident2">color</span>.<span class=
    "ident2">fcolor8</span>:<span class=
    "literal">&nbsp;red</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <h3 id="winvile-colors2"><a name="winvile-colors" id=
  "winvile-colors">winvile custom colors</a></h3>

  <p>winvile's default colors are changed via the editor's
  set-rgb-palette command. Mirroring the example above, map "gray"
  to red like so:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">
    set-rgb-palette&nbsp;gray&nbsp;<span class=
    "number">255</span>&nbsp;<span class=
    "number">0</span>&nbsp;<span class="number">0</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <h3 id="display-attrs2"><a name="display-attrs" id=
  "display-attrs">Display attributes</a></h3>

  <p>vile supports bold, italic, underline, and reverse display
  attributes. These attributes may be used to modify/enhance any of
  the existing colors (e.g., bold blue), or render text as a
  "color" in its own right (e.g., configure the editor to highlight
  all matched search strings in the reverse attribute).</p>

  <h3 id="show-colors2"><a name="show-colors" id=
  "show-colors">Show-colors command</a></h3>

  <p>The show-colors command (i.e., ":show-colors") displays the
  editor's current color and attribute mappings.</p>

  <h3 id="color-xterm2"><a name="color-xterm" id=
  "color-xterm">Xterms, terminfo, and termcap (Unix hosts
  only)</a></h3>

  <p>Note that on some unix hosts it's possible to run standard
  vile in a color xterm and thereby gain access to an expanded
  color palette (albeit often limited to 8 colors). However, this
  is only possible when:</p>

  <ul>
    <li>your terminal type (specified via the $TERM environment
    var) supports color, and</li>

    <li>vile is compiled and linked with the terminfo library.</li>
  </ul>

  <p>Hint 1: Modern xterm and similar terminal emulators support 8
  colors (i.e., ensure that the correct $TERM is used, e.g.,
  "export TERM=xterm" or csh equiv is included in your shell
  startup file).</p>

  <p>Hint 2: To determine if the editor was compiled with terminfo,
  type :show-variables and examine the value of $cfgopts. If this
  variable includes the string "terminfo", you've got a shot. If
  "termcap" is listed instead, vile's color palette is limited to
  black and white (i.e., no color). Assuming your host supports
  terminfo, the following build commands force the editor to use
  that library:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">
    $&nbsp;make&nbsp;clean;&nbsp;./configure&nbsp;--with-ncurses;&nbsp;make<br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>For additional hints and help, try this URL:</p>

  <blockquote>
    <p><a href=
    "http://invisible-island.net/xterm/xterm.faq.html#no_color">http://invisible-island.net/xterm/xterm.faq.html#no_color</a></p>
  </blockquote>

  <h3 id="visual-matching2"><a name="visual-matching" id=
  "visual-matching">Visual matching (VM)</a></h3>

  <p>All hosts support visual-matches mode, which highlights search
  text with either a simple color (no modifiers) or a display
  attribute. To see the list of supported colors and attributes,
  type:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">:<span class=
    "keyword">set</span>&nbsp;<span class=
    "keyword">visual-matches</span><span class=
    "keyword2">=</span>&lt;tab&gt;&lt;tab&gt;<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>To learn more about this mode, search for "visual-matches"
  elsewhere in this help file.</p>

  <h3 id="foreground-color2"><a name="foreground-color" id=
  "foreground-color">Foreground color (FC)</a></h3>

  <p>On hosts and display hardware that support it, the editor's
  foreground color may be set to a simple color value (no attribute
  modifiers allowed). Type:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">:<span class=
    "keyword">set</span>&nbsp;<span class=
    "keyword">fcolor</span><span class=
    "keyword2">=</span>&lt;tab&gt;&lt;tab&gt;<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>for a list of supported colors.</p>

  <h3 id="background-color2"><a name="background-color" id=
  "background-color">Background color (BC)</a></h3>

  <p>On hosts and display hardware that support it, bcolor mode
  sets the editor's background color. Bcolor utilizes the same
  color list as fcolor.</p>

  <h3 id="attr-controls2"><a name="attr-controls" id=
  "attr-controls">Attribute control sequences (ACS)</a></h3>

  <p>A buffer may be manually or programmatically encoded with
  strings that cause the editor to render text in arbitrary
  color/attribute sequences. For example, consider the following
  data:</p>
  <pre>
           ^A3C1:red text, ^A4B:bold text
</pre>

  <p>Given a suitable command, vile will render this as:</p>
  <pre>
            &lt;begin red&gt;red&lt;end red&gt; text, &lt;begin bold&gt;bold&lt;end bold&gt; text
</pre>

  <p>It's possible to mix colors and attribute as well:</p>
  <pre>
           ^A8BC1:bold red text
</pre>

  <p>which is rendered as:</p>
  <pre>
           ^A8BC1:&lt;begin bold&amp;red&gt;bold red&lt;end bold&amp;red&gt; text
</pre>

  <p>These sequences are the building blocks of syntax coloring.
  For a more detailed discussion of attribute control sequences,
  refer to the topic "Writing your own filters" in this help
  file.</p>

  <h3 id="syntax-coloring2"><a name="syntax-coloring" id=
  "syntax-coloring">Syntax coloring (SC)</a></h3>

  <p>vile colors a buffer via these steps:</p>

  <ol>
    <li>an external filter (e.g., vile-c-filt) is run and
    subsequently reads an optional keywords file and a color
    specification file. The latter maps classes of language
    keywords/elements to user-specified colors and display
    attributes.</li>

    <li>the filter reads the buffer being colored from stdin and
    encodes language keywords/elements with attribute control
    sequences.</li>

    <li>the filter writes its results to stdout, which vile reads
    back and uses as control information to color the buffer.</li>

    <li>the editor redraws its display, appropriately rendering all
    attribute-encoded keywords (e.g., "if", "while") and other
    syntactic elements (e.g., strings and numbers), based on the
    information embedded in the filter's output.</li>
  </ol>

  <h3 id="host-capabilities2"><a name="host-capabilities" id=
  "host-capabilities">Host capability matrix</a></h3>

  <table border="1" summary="Host capabilities">
    <tr>
      <th>Color Feature</th>

      <th>VMS (std)</th>

      <th>VMS (GUI)</th>

      <th>DOS</th>

      <th>OS/2</th>

      <th>Win32 (std)</th>

      <th>Win32 (GUI)</th>

      <th>Unix (std)</th>

      <th>Unix (GUI)</th>
    </tr>

    <tr>
      <td>Visual Matching</td>

      <td>Y</td>

      <td>Y</td>

      <td>Y</td>

      <td>Y</td>

      <td>Y</td>

      <td>Y</td>

      <td>Y</td>

      <td>Y</td>
    </tr>

    <tr>
      <td>Foreground Color</td>

      <td>N</td>

      <td>Y</td>

      <td>Y</td>

      <td>Y</td>

      <td>Y</td>

      <td>Y</td>

      <td>[2]</td>

      <td>Y</td>
    </tr>

    <tr>
      <td>Background Color</td>

      <td>N</td>

      <td>Y</td>

      <td>Y</td>

      <td>Y</td>

      <td>Y</td>

      <td>Y</td>

      <td>[2]</td>

      <td>Y</td>
    </tr>

    <tr>
      <td>Attr. Sequences</td>

      <td>Y</td>

      <td>Y</td>

      <td>Y</td>

      <td>Y</td>

      <td>Y</td>

      <td>Y</td>

      <td>[3]</td>

      <td>Y</td>
    </tr>

    <tr>
      <td>Syntax Coloring</td>

      <td>N</td>

      <td>N</td>

      <td>N</td>

      <td>[1]</td>

      <td>Y</td>

      <td>Y</td>

      <td>[3]</td>

      <td>Y</td>
    </tr>
  </table>

  <p>Note 1: vile's filter mechanism blocks (hangs) when processing
  "large" buffers. Consequently, syntax coloring is not
  recommended, except if one could use the builtin-filters
  configuration.</p>

  <p>Note 2: Requires a terminfo terminal type that supports
  color.</p>

  <p>Note 3: If a terminal type supporting color is unavailable,
  then "coloring" is limited to the use of attributes like bold,
  underline, etc.</p>

  <h2 id="syntax-filters2"><a name="syntax-filters" id=
  "syntax-filters">Syntax coloring</a></h2>

  <p>vile's source distribution includes an extensive set of
  filters that color many languages and text file formats,
  including (but not limited to):</p>

  <p>C/C++, Java, Perl, HTML, shell scripts</p>

  <p>Filters come in two flavors: builtin and external. Builtin
  filters are bound directly into the editor and invoked via
  function calls. External filters are standalone executables
  invoked via a pipe and typically named "vile-xxx-filt", where
  "xxx" denotes the target text/language. Note that "xxx" is
  usually the same name assigned to vile's corresponding builtin
  filter and "majormode" (there are some exceptions). The following
  table lists example paired filter and majormode names:</p>

  <table border="1" summary="Paired filter/majormodes">
    <tr>
      <th>Language Name</th>

      <th>Builtin Filter Name</th>

      <th>External Filter Name [1]</th>

      <th>Majormode Name[2]</th>
    </tr>

    <tr>
      <td>C</td>

      <td>c</td>

      <td>vile-c-filt</td>

      <td>cmode</td>
    </tr>

    <tr>
      <td>HTML</td>

      <td>html</td>

      <td>vile-html-filt</td>

      <td>htmlmode</td>
    </tr>

    <tr>
      <td>Perl</td>

      <td>pl</td>

      <td>vile-pl-filt</td>

      <td>perlmode</td>
    </tr>

    <tr>
      <td>sh</td>

      <td>sh</td>

      <td>vile-sh-filt</td>

      <td>shmode</td>
    </tr>
  </table>

  <p>For a complete listing of all filters and supported languages
  and text file formats, refer to the file <a href=
  "config.html">doc/config.doc</a> in the editor's source
  distribution.</p>

  <p>[1] Whether the editor uses builtin or external filters
  depends solely upon configuration options specified when the
  editor is compiled and linked (see <a href=
  "config.html">doc/config.doc</a> for details). As you might
  expect, builtin filters offer faster syntax coloring at the cost
  of a larger editor executable. For the purposes of this document,
  it's assumed that the editor is bound with builtin filters.</p>

  <p>[2] Majormodes are an interesting subject in their own right,
  but won't be discussed much within the context of syntax
  coloring. For more info, refer to the help topic "Majormodes" in
  this help file, as well as the file <a href=
  "modes.html">doc/modes.doc</a>.</p>

  <p>[3] Previous releases of vile utilized a syntax filtering
  system that actually applied color attributes to a target buffer,
  thereby damaging the editor's undo history. vile version 8.3 (and
  later) utilizes a new command, called
  "attribute-from-filter-til", which applies coloring information
  directly from the filter's output stream without modifying the
  affected buffer.</p>

  <p>The remainder of this section of the help file includes a
  step-by-step description of syntax coloring configuration, as
  well as pointers to related features.</p>

  <h3 id="color-prereqs2"><a name="color-prereqs" id=
  "color-prereqs">Prerequisites</a></h3>

  <ul>
    <li>be familiar with the help topic entitled "Color
    basics".</li>

    <li>ensure the target host supports syntax coloring.</li>

    <li>if on a Unix host, compile and link the editor from the
    source distribution. This step is optional on a win32 host, as
    precompiled binaries (editor and filters) are available from
    <a href=
    "ftp://invisible-island.net/vile/">ftp://invisible-island.net/vile/</a>&nbsp;.
    Note that almost all filters require preprocessing with flex
    (not a standard Windows tool) prior to compilation.</li>
  </ul>

  <h3 id="color-recipes2"><a name="color-recipes" id=
  "color-recipes">Configuration</a></h3>

  <p>There are three configuration recipes, each dependent on the
  target host and/or the user's privilege level.</p>

  <h3 id="root-recipe2"><a name="root-recipe" id="root-recipe">Unix
  install recipe &ndash; root privileges available</a></h3>

  <p>The simplest install copies the editor to a directory in the
  system PATH (we'll assume /usr/local/bin), and copies all syntax
  coloring data and macro files to /usr/local/share/vile. The
  following commands accomplish that task:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">unset</span>&nbsp;VILE_STARTUP_PATH&nbsp;VILE_LIBDIR_PATH<br>

    make&nbsp;clean;&nbsp;./configure&nbsp;--with-builtin-filters;&nbsp;make<br>

    make&nbsp;install<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>Users should take these additional steps:</p>

  <p>1) add the following to their $HOME/.vilerc startup files:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">source</span><span class=
    "literal">&nbsp;"filters.rc"</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>2) execute these shell commands (as necessary):</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">mkdir&nbsp;<span class=
    "ident2">$HOME</span>/.vile<br>
    cp&nbsp;/usr/local/share/vile/vile.keywords&nbsp;<span class=
    "ident2">$HOME</span>/.vile<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>That's it. Now skim through the "Manual recipe" topic below
  and then pay attention again when you hit the topic entitled
  "Testing the configuration". With regard to the remainder of this
  discussion, the term "COLORDIR" refers collectively to the
  directories $HOME/.vile or /usr/local/share/vile as
  appropriate.</p>

  <h3 id="user-recipe2"><a name="user-recipe" id="user-recipe">Unix
  install recipe &ndash; no privileges</a></h3>

  <p>The simplest install copies the editor and all data and macros
  file to a writable directory tree (we'll assume $HOME/local).
  This syntax does the job:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">unset</span>&nbsp;VILE_STARTUP_PATH&nbsp;VILE_LIBDIR_PATH<br>

    make&nbsp;clean<br>
    ./configure&nbsp;--prefix=<span class=
    "ident2">$HOME</span>/local&nbsp;--with-builtin-filters<br>
    make<br>
    make&nbsp;install<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>These additional steps are required:</p>

  <p>1) add the following to the $HOME/.vilerc startup file:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">source</span><span class=
    "literal">&nbsp;"filters.rc"</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>2) execute these shell commands (as necessary):</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">mkdir&nbsp;<span class=
    "ident2">$HOME</span>/.vile<br>
    cp&nbsp;<span class=
    "ident2">$HOME</span>/local/share/vile/vile.keywords&nbsp;<span class="ident2">$HOME</span>/.vile<br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>3) add $HOME/local/bin to $PATH (if not already specified)</p>

  <p>That's it. Now skim through the "Manual recipe" topic below
  and then pay attention again when you hit the topic entitled
  "Testing the configuration". With regard to the remainder of this
  discussion, the term "COLORDIR" refers collectively to the
  directories $HOME/.vile or $HOME/local/share/vile as
  appropriate.</p>

  <h3 id="manual-recipe2"><a name="manual-recipe" id=
  "manual-recipe">Manual Recipe &ndash; Win32 host</a></h3>

  <p>You may choose to not use the winvile install/setup program,
  or else you may be installing console Win32 vile. In either case,
  you can always manually configure vile for Win32. For the
  purposes of this discussion, it is assumed that the editor is not
  built from sources, but instead obtained from precompiled
  binaries, as described next.</p>

  <p>1) create a directory (hereafter referred to as COLORDIR) to
  store the editor's external color keyword and macro files.
  Example COLORDIR name: c:\util\vcolor</p>

  <p>2) obtain these two distributions:</p>
  <pre>
        <a href=
"ftp://invisible-island.net/vile/filters.zip">ftp://invisible-island.net/vile/filters.zip</a>
        <a href=
"ftp://invisible-island.net/vile/vile-w32.zip">ftp://invisible-island.net/vile/vile-w32.zip</a>
</pre>

  <p>3) extract the contents of filters.zip into COLORDIR.</p>

  <p>4) extract the contents of vile-w32.zip into a temp directory.
  From within this temp directory:</p>

  <p>a) copy *.rc to COLORDIR. Note that the most important of
  these files is filters.rc .</p>

  <p>b) copy vile.exe, vile.hlp, and winvile.exe to a directory in
  your PATH. Note that vile.exe and winvile.exe are both bound with
  <i>all</i> of the editor's builtin filters.</p>

  <p>5) edit your startup file (vile.rc) and add this line:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">source</span><span class=
    "literal">&nbsp;"filters.rc"</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>6) export these environment variable settings:</p>
  <pre>
        VILE_STARTUP_PATH=COLORDIR
        VILE_LIBDIR_PATH=COLORDIR
</pre>

  <p>Example entries in Win9x/ME's autoexec.bat:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">SET</span>&nbsp;VILE_LIBDIR_PATH=c:\util\vcolor<br>
    <span class=
    "keyword">SET</span>&nbsp;VILE_STARTUP_PATH=c:\util\vcolor<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>On a Win/NT/2K host, env vars are initialized via a control
  panel applet. WinXP uses a different mechanism.</p>

  <h3 id="testing-filters2"><a name="testing-filters" id=
  "testing-filters">Testing the configuration</a></h3>

  <p>Basic configuration is now complete. Filters.rc installs
  several stored procedures, including:</p>

  <table border="1" summary="Highlighting macros">
    <tr>
      <th>Macro Name</th>

      <th>Binding</th>

      <th>Function</th>
    </tr>

    <tr>
      <td>HighlightFilterMsg</td>

      <td>^X-q</td>

      <td>Colors the current buffer if a majormode and filter exist
      for same.</td>
    </tr>

    <tr>
      <td>HighlightClear</td>

      <td>^X-Q</td>

      <td>Clears the current buffer's color attributes.</td>
    </tr>

    <tr>
      <td>set-highlighting</td>

      <td>&lt;none&gt;</td>

      <td>Attach a major mode to a buffer and re-color same. More
      about this below.</td>
    </tr>
  </table>

  <p>For a simple go/no-go test, do:</p>

  <ul>
    <li>edit a C source file</li>

    <li>examine the editor's modeline and ensure that "[cmode]" is
    in effect</li>

    <li>type ^X-q</li>
  </ul>

  <p>If all is well, various elements of the C program will be
  highlighted/colored. You may not particularly care for the color
  attributes chosen, but that's configurable (keep reading :-) ).
  If nothing happened, skip down to the troubleshooting
  section.</p>

  <h3 id="read-hook2"><a name="read-hook" id=
  "read-hook">Read-hook</a></h3>

  <p>Typing ^X-q each time a new file is opened gets old after
  awhile. To force the editor to take over this task, add this line
  to your startup file:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">setv</span>&nbsp;<span class=
    "ident2">$read-hook</span>&nbsp;HighlightFilterMsg<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>This setting initiates syntax coloring whenever a new file is
  edited. However, note that the read-hook won't initiate syntax
  coloring when a buffer's contents change, which brings us to the
  next topic. HighlightFilterMsg is a wrapper for the macro
  HighlightFilter, which adds a message saying that it is updating
  attributes. If you prefer no messages, use HighlightFilter.</p>

  <h3 id="autocolor2"><a name="autocolor" id=
  "autocolor">Autocolor</a></h3>

  <p>It's possible to automatically initiate syntax coloring when
  the editor detects no active input during a user-configurable
  interval. If this sounds appealing, add the following to your
  startup file:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "comment">;&nbsp;change&nbsp;autocolor&nbsp;mode&nbsp;value&nbsp;to&nbsp;suit&nbsp;individual&nbsp;tastes</span><br>

    <span class="keyword">set</span>&nbsp;<span class=
    "keyword">autocolor</span><span class=
    "keyword2">=</span><span class="number">2000</span><br>
    <span class="keyword">setv</span>&nbsp;<span class=
    "ident2">$autocolor-hook</span>&nbsp;HighlightFilterMsg<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>These settings initiate an automatic syntax coloring check
  whenever 2 seconds of idle time elapses (autocolor's argument is
  scaled in milliseconds). Note that autocolor won't actually
  invoke a syntax filter unless it detects a modified buffer.</p>

  <p>To disable this feature, set autocolor to 0 (zero).</p>

  <p>Note that "autocolor" is a buffer mode and as such, can be
  enabled globally, but disabled for one or more buffers where
  coloring is inappropriate. That is, type ":setl autocolor=0" to
  disable the automatic syntax coloring for a particular
  buffer.</p>

  <p>For obvious reasons, this feature is less "intrusive" on fast
  hardware. Even on fast hardware, running an external syntax
  filter can be a little slow. The built-in filters run much
  faster, fast enough that this combination is not that intrusive.
  The filters.rc script checks if vile has built-in (or loadable)
  syntax filters and will turn on autocolor and the $read-hook
  automatically in this case (with a 5 second idle time). Depending
  on the speed of your hardward, you may wish to make this
  shorter.</p>

  <p>If autocolor is too slow, you can temporarily disable it by
  turning the highlighting mode off:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">:<span class=
    "keyword">set</span>&nbsp;<span class="keyword">nohl</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <h3 id="changing-filters2"><a name="changing-filters" id=
  "changing-filters">Changing color/attribute mappings</a></h3>

  <p>Filters will color text based on the contents of the file
  COLORDIR/vile.keywords . This file's configuration syntax is
  described in detail in <a href=
  "filters.html">doc/filters.doc</a>. We'll hit the high points
  here:</p>

  <ul>
    <li>a line that begins with ':' is a comment</li>

    <li>language elements are grouped into classes, each of which
    is assigned a color, using this syntax:</li>
  </ul>

  <blockquote>
    <p>.class <em>&lt;name&gt;</em>:<em>&lt;ACS&gt;</em></p>
  </blockquote>

  <p>where:</p>
  <pre>
        <em>&lt;name&gt;</em>      ::= an arbitrary alphanumeric string.
        <em>&lt;ACS&gt;</em>       ::= { C<em>&lt;hexdigit&gt;</em> | U | I | B | R }
        C<em>&lt;hexdigit&gt;</em> ::= internal vile color name
          U         ::= underline attribute
          I         ::= italic attribute
          B         ::= bold attribute
          R         ::= reverse attribute
</pre>

  <p>An example keyword file might contain:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">.class&nbsp;<span class=
    "type">Action</span>:BC2<br>
    .class&nbsp;<span class="keyword2">Comment</span>:BC1<br>
    .class&nbsp;<span class="unknown">Error</span>:CA<br>
    <span class="comment">:.class&nbsp;Ident:R</span><br>
    .class&nbsp;<span class="ident2">Ident2</span>:C6<br>
    .class&nbsp;<span class="unknown">Keyword</span>:C3<br>
    .class&nbsp;<span class="keyword2">Keyword2</span>:BC1<br>
    .class&nbsp;<em><span class=
    "literal">Literal</span></em>:UC5<br>
    .class&nbsp;<span class="ident2">Number</span>:C6<br>
    .class&nbsp;<span class="preproc">Preproc</span>:C2<br>
    .class&nbsp;<span class="unknown">Type</span>:CD<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>The "Comment" class defines the color attribute applied to a
  language's comments, which will be rendered in "B"old "C"olor
  "1". "Literal" applies to string literals, which will be shown as
  "U"nderlined "C"olor "5". "Keyword" applies to a language's
  reserved words (e.g., "if", "while", "break"), which will be
  encoded as "C"olor "3". And so forth. Note that few filters use
  all of the classes listed in this file.</p>

  <p>As should be obvious at this point, color configuration is
  effected by editing vile.keywords and applying individual tastes
  and preferences.</p>

  <p>For completeness sake, it should be noted that the mapping of
  language tokens (e.g., "int", "static", "while") to
  vile.keyword's generic classes occurs in the individual
  language-specific keyword files. In general, a language-specific
  keyword file (e.g., COLORDIR/awk.keywords,
  COLORDIR/perl.keywords, COLORDIR/c.keywords) provides only part
  of the filter's behavior &ndash; much of its action is encoded in
  its source, which for most filters is written in "flex". It is
  not expected that users will need or want to edit these
  files.</p>

  <h3 id="caution-keywords2"><a name="caution-keywords" id=
  "caution-keywords">Caution: vile.keywords is a precious
  file</a></h3>

  <p>From time to time, users upgrade to the latest release of
  vile. If the above syntax coloring configuration and installation
  instructions are blindly repeated during an upgrade, your copy of
  vile.keywords will be overwritten with the corresponding file
  from vile's distribution. This is not a happy event if you've
  spent time tweaking this file to suit your tastes (the author
  speaks from experience). Word to the wise:</p>

  <p>Once vile.keywords is edited to your satisfaction, make a
  backup copy and/or save it under version control!</p>

  <h3 id="filter-debugging2"><a name="filter-debugging" id=
  "filter-debugging">Troubleshooting</a></h3>

  <p>Try this checklist when syntax coloring doesn't work:</p>

  <ul>
    <li>Does your display hardware and/or host support color? Type
    ":show-colors" to list current capabilities. If
    colors/attributes appear to be missing, reread the "Color
    basics" topic in this help file.</li>

    <li>Win32 users should ensure that these enviroment vars are
    properly initialized:
      <pre>
        VILE_STARTUP_PATH
        VILE_LIBDIR_PATH
</pre>
    </li>

    <li>Your startup file should include these lines:

      <blockquote>
        <!--{{atr2html-->

        <p style="font-family: monospace;"><span class=
        "keyword">source</span><span class=
        "literal">&nbsp;"filters.rc"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;quotes&nbsp;matter&nbsp;on&nbsp;win32&nbsp;hosts</span><br>

        <span class="keyword">setv</span>&nbsp;<span class=
        "ident2">$autocolor-hook</span>&nbsp;HighlightFilterMsg<br>
        <span class="keyword">setv</span>&nbsp;<span class=
        "ident2">$read-hook</span>&nbsp;HighlightFilterMsg<br>
        <span class="keyword">set</span>&nbsp;<span class=
        "keyword">autocolor</span><span class=
        "keyword2">=</span><span class="number">2000</span><br>
        <!--atr2html}}--></p>
      </blockquote>
    </li>

    <li>Some users have made the mistake of explicitly specifying a
    filter via the filtername mode. Don't do that.</li>
  </ul>

  <h3 id="force-majormode2"><a name="force-majormode" id=
  "force-majormode">Attaching/Forcing a buffer's majormode</a></h3>

  <p>For the most part, when vile visits a file, the correct
  majormode is attached to the file's buffer and appropriate syntax
  coloring ensues. But there are times when vile may choose the
  wrong majormode and/or not specify one at all (the latter case
  most likely occurs when the file's suffix doesn't match any of
  the possibilities listed in filters.rc). The result is either
  inappropriate or <i>no</i> highlighting. In this situation, use
  the "set-highlighting" macro to explicitly specify the desired
  majormode.</p>

  <p>For example, suppose I'm editing an older copy of a C++ source
  file called main.cpp, which has been renamed to main.cpp.old . In
  this scenario, vile will not attach a majormode to main.cpp.old's
  buffer and consequently will not color the buffer. To set the
  proper majormode and force syntax coloring, simply type:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">:<span class=
    "keyword">set-highlighting</span>&nbsp;cpp<br>
    <!--atr2html}}--></p>
  </blockquote>

  <h3 id="coloring-manpages2"><a name="coloring-manpages" id=
  "coloring-manpages">Man pages</a></h3>

  <p>It's also possible to syntax color Unix man pages, although
  the procedure is not tied to a majormode. Refer to the help topic
  entitled 'Filtering "man" pages' for further information.</p>

  <h3 id="spell-checking2"><a name="spell-checking" id=
  "spell-checking">Spell checking (Unix hosts only)</a></h3>

  <p>The editor is capable of spell checking the current buffer
  (with ispell) and subsequently highlighting all misspelled words
  in the Keyword class color (as specified in vile.keywords). If
  this feature sounds useful, then add this line to your startup
  file:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">source</span><span class=
    "literal">&nbsp;"spell.rc"</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>Spell.rc installs ^X-i as the keybinding that initiates spell
  checking.</p>

  <h3 id="more-filters2"><a name="more-filters" id=
  "more-filters">Further reading</a></h3>

  <p>More information on syntax coloring can be found in the file
  <a href="filters.html">doc/filters.doc</a>, in the vile source
  directory.</p>

  <h2 id="extra-colors2"><a name="extra-colors" id=
  "extra-colors">Setting Extra Colors</a></h2>

  <p>Syntax highlighting applies to buffers which are loaded from
  files. vile can also generate buffers to show its internal state.
  Those can be colored using the "extra colors" feature. The
  feature is called "extra colors" both because these are colors
  not set via syntax filters, but also because it allows color and
  attribute combinations not available via the normal mode setting
  mechanism.</p>

  <p>The show-extra-colors command shows the types of things that
  can be colored, along with their current state, e.g.,</p>
  <pre>
        enum             default
        hypertext        default
        isearch          default
        linebreak        default
        linenumber       default
        modeline         reverse
        number           default
        regex            default
        string           default
        warning          default
</pre>

  <p>The set-extra-color command sets the colors. It prompts for
  the name of a type, followed by a combination of color and
  attributes. Use '+' to join the color and attributes. These are
  possible commands for setting isearch (the highlighting used for
  incremental search):</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">set-extra-color</span>&nbsp;<span class=
    "keyword">isearch</span>&nbsp;<span class=
    "keyword">reverse</span><br>
    <span class="keyword">set-extra-color</span>&nbsp;<span class=
    "keyword">isearch</span>&nbsp;<span class=
    "keyword">reverse</span>+<span class="keyword">blue</span><br>
    <span class="keyword">set-extra-color</span>&nbsp;<span class=
    "keyword">isearch</span>&nbsp;<span class=
    "keyword">blue</span>+<span class="keyword">reverse</span><br>
    <span class="keyword">set-extra-color</span>&nbsp;<span class=
    "keyword">isearch</span>&nbsp;<span class=
    "keyword">blue</span>+<span class=
    "keyword">reverse</span>+<span class=
    "keyword">underline</span><br>
    <span class="keyword">set-extra-color</span>&nbsp;<span class=
    "keyword">isearch</span>&nbsp;<span class=
    "keyword">red</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>Here is an example of how the various extra colors might be
  used:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "preproc">~if</span>&nbsp;<span class=
    "ident2">&amp;sge</span>&nbsp;<span class=
    "ident2">&amp;cat</span>&nbsp;<span class=
    "ident2">$version</span>&nbsp;<span class=
    "ident2">$patchlevel</span>&nbsp;<span class=
    "literal">'version&nbsp;9.7f'</span><br>
    <span class="preproc">~with</span>&nbsp;<span class=
    "keyword">set-extra-colors</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">isearch</span>&nbsp;<span class=
    "keyword">blue</span>+<span class=
    "keyword">underline</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">hypertext</span>&nbsp;<span class=
    "keyword">underline</span>+<span class="keyword">red</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">modeline</span>&nbsp;<span class=
    "keyword">reverse</span>+<span class="keyword">green</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">string</span>&nbsp;<span class=
    "keyword">magenta</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">regex</span>&nbsp;<span class=
    "keyword">underline</span>+<span class=
    "keyword">magenta</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">number</span>&nbsp;<span class=
    "keyword">cyan</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">enum</span>&nbsp;<span class=
    "keyword">green</span><br>
    <span class="preproc">~if</span>&nbsp;<span class=
    "ident2">&amp;sge</span>&nbsp;<span class=
    "ident2">&amp;cat</span>&nbsp;<span class=
    "ident2">$version</span>&nbsp;<span class=
    "ident2">$patchlevel</span>&nbsp;<span class=
    "literal">'version&nbsp;9.7m'</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">warning</span>&nbsp;<span class=
    "keyword">reverse</span>+<span class=
    "keyword">bold</span>+<span class="keyword">red</span><br>
    <span class="preproc">~endif</span><br>
    <span class="preproc">~endwith</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <h2 id="majormodes2"><a name="majormodes" id=
  "majormodes">Majormodes</a></h2>

  <p>Prior to studying majormodes, it helps to be familiar with the
  "Editor modes" and "Syntax coloring" topics.</p>

  <p>Majormodes are collections of buffer mode values that vile
  automatically assigns to new buffers. When the vile distribution
  file "filters.rc" is sourced, it in turn sources "modes.rc",
  which subsequently defines a significant number of majormodes for
  various programming languages and file formats. The majormode
  assigned to a particular buffer is dependent upon two criteria,
  in the following priority order:</p>

  <ol>
    <li>the suffix of the file being edited, and</li>

    <li>the file's preamble (i.e., file's first line).</li>
  </ol>

  <p>Both suffix and preamble are expressed as regular expressions
  and examples of each are readily available in modes.rc . Speaking
  of modes.rc, it becomes obvious from browsing this file that most
  majormode buffer settings involve specifying appropriate regex
  patterns for fences and comments.</p>

  <p>The syntax for defining a new majormode or overriding an
  existing majormode is quite rich and fully described in the file
  <a href="modes.html">doc/modes.doc</a>. Rather than regurgitating
  the contents of that file here, we'll hit the high points with a
  couple of examples.</p>

  <p>To define a new majormode, add this in your vile startup
  file:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">define-mode</span>&nbsp;&lt;<em>new_majormode_name</em>&gt;<br>

    <span class="preproc">~with</span>&nbsp;<span class=
    "keyword">define-submode</span>&nbsp;&lt;<em>new_majormode_name</em>&gt;<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">mode-pathname</span>&nbsp;&nbsp;<span class=
    "literal">"&lt;regexp_pattern&gt;"</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;see&nbsp;next&nbsp;para</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">mode-filename</span>&nbsp;&nbsp;<span class=
    "literal">"&lt;regexp_pattern&gt;"</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;see&nbsp;next&nbsp;para</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">suffixes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="literal">"&lt;regexp_pattern&gt;"</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;see&nbsp;next&nbsp;para</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">preamble</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="literal">"&lt;regexp_pattern&gt;"</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;see&nbsp;next&nbsp;para</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">before</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="literal">"&lt;if&nbsp;necessary&gt;"</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">filtername</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="literal">"&lt;syntax-coloring-filter&gt;"</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">buffer</span>&nbsp;<span class=
    "keyword">mode</span>&nbsp;setting<span class=
    "literal">#1</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">buffer</span>&nbsp;<span class=
    "keyword">mode</span>&nbsp;setting<span class=
    "literal">#2</span><br>
    <span class="comment">;&nbsp;etc.</span><br>
    <span class="preproc">~endwith</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>Selecting file(s) for inclusion within a majormode is a matter
  of specifying an appropriate regular expression, like so:</p>

  <table border="1" summary="Selecting majormode">
    <tr>
      <th>regexp mode name</th>

      <th>selection based on</th>
    </tr>

    <tr>
      <td>mode-pathname</td>

      <td>any file component in path</td>
    </tr>

    <tr>
      <td>mode-filename</td>

      <td>leaf filename</td>
    </tr>

    <tr>
      <td>suffixes</td>

      <td>.&lt;file_suffix&gt;</td>
    </tr>

    <tr>
      <td>preamble</td>

      <td>first line of file</td>
    </tr>
  </table>

  <p>One or more of these regular expressions may be specified
  within a majormode definition, with selection precedence given in
  the order listed above.</p>

  <p>As an actual example, suppose someone wanted to edit this help
  file and subsequently submit patches to vile's developers. In the
  spirit of cooperation, the developers would appreciate changes
  that were made with the same tabstops and tab insertion policies
  as used in the existing help file (vile.hlp). Taking a peek at
  vile.hlp, it can readily be seen that physical tabs are indeed
  used, with stops apparently set at intervals of 8. Also, it
  appears that the right margin is set fairly close to 80. To
  mirror this policy, create this new majormode:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">define-mode</span>&nbsp;<em>hlp</em><br>
    <span class="preproc">~with</span>&nbsp;<span class=
    "keyword">define-submode</span>&nbsp;<em>hlp</em><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">suf</span>&nbsp;<span class=
    "literal">'\.hlp$'</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">ts</span><span class="keyword2">=</span><span class=
    "number">8</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">fillcol</span><span class=
    "keyword2">=</span><span class="number">77</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">tabinsert</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">filtername</span>&nbsp;<span class=
    "literal">'vile-txt-filt'</span><br>
    <span class="preproc">~endwith</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>Now, whenever a file with suffix ".hlp" is edited, it will be
  colored with vile-txt-filt and physical tabs inserted at
  multiples of 8.</p>

  <p>To override or augment the buffer mode settings of an existing
  majormode, do this in your startup file:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">source</span><span class=
    "literal">&nbsp;"filters.rc"</span><br>
    <span class="comment">;&nbsp;...</span><br>
    <span class=
    "keyword">define-mode</span>&nbsp;&lt;<em>existing_majormode_name</em>&gt;<br>

    <span class="preproc">~with</span>&nbsp;<span class=
    "keyword">define-submode</span>&nbsp;&lt;<em>existing_majormode_name</em>&gt;<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;changed&nbsp;<span class="keyword">buffer</span>&nbsp;<span class="keyword">mode</span>&nbsp;setting<span class="literal">#1</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;changed&nbsp;<span class="keyword">buffer</span>&nbsp;<span class="keyword">mode</span>&nbsp;setting<span class="literal">#2</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "comment">;&nbsp;etc.</span><br>
    <span class="preproc">~endwith</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>For example, suppose it was desirable to edit all text files
  with ignorecase disabled. This startup file snippet will
  suffice:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">source</span><span class=
    "literal">&nbsp;"filters.rc"</span><br>
    <span class="comment">;&nbsp;...</span><br>
    <span class="keyword">define-mode</span>&nbsp;<em>txt</em><br>
    <span class="preproc">~with</span>&nbsp;<span class=
    "keyword">define-submode</span>&nbsp;<em>txt</em><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">ignorecase</span><br>
    <span class="preproc">~endwith</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>Once associated, majormode submodes can be setl/unsetl just
  like regular local buffer modes. But note well that set/unset
  have no effect on submodes. So, when hlpmode is in effect, this
  command works:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">setl</span>&nbsp;<span class=
    "keyword">notabinsert</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>but this command has no effect:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">set</span>&nbsp;<span class=
    "keyword">notabinsert</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>As added syntactic sugar, majormode submodes may be prefixed
  with the majormode name and changed like so:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">set</span>/setl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;txt-ignorecase<br>

    <span class=
    "keyword">set</span>/setl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hlp-fillcol<span class="keyword2">=</span><span class="number">60</span><br>

    <span class=
    "keyword">unset</span>/unsetl&nbsp;txt-ignorecase<br>
    <span class=
    "keyword">unset</span>/unsetl&nbsp;hlp-tabinsert<br>
    <!--atr2html}}--></p>
  </blockquote>

  <h3 id="filter-notes2"><a name="filter-notes" id=
  "filter-notes">Notes</a></h3>

  <p>1) Use the command "show-majormodes" to display the list of
  majormodes and their associated submodes.</p>

  <p>2) Only one majormode can be set for a buffer.</p>

  <p>3) To override the majormode that vile assigns to a buffer,
  use either the set-highlighting macro (defined in filters.rc) or
  the "setl &lt;majormode_name&gt;" command. Example:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">setl</span>&nbsp;<span class=
    "keyword">cppmode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;&lt;--&nbsp;force&nbsp;cppmode&nbsp;for&nbsp;current&nbsp;buffer</span><br>

    <!--atr2html}}--></p>
  </blockquote>

  <h3 id="cpp-headers2"><a name="cpp-headers" id=
  "cpp-headers">Distinguishing between C/C++ include files</a></h3>

  <p>Both C and C++ use ".h" as an include file suffix. vile's
  current majormode definitions favor "*.h" for inclusion in cmode
  (not cppmode), which is not desirable for C++ programmers and/or
  a C++ project. There are two workarounds:</p>

  <p>1) On a project-by-project basis (i.e., developer does not
  devote all of his/her time to C++ coding), simply add something
  like this to the vile startup file:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">source</span><span class=
    "literal">&nbsp;"filters.rc"</span><br>
    <span class="comment">;&nbsp;...</span><br>
    <span class="keyword">define-mode</span>&nbsp;<em>cpp</em><br>
    <span class="preproc">~with</span>&nbsp;<span class=
    "keyword">define-submode</span>&nbsp;<em>cpp</em><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">mode-pathname</span>&nbsp;<span class=
    "literal">'project_root_directory_name/.*\.h$'</span><br>
    <span class="preproc">~endwith</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>This change specifies that all "*.h" files beneath a root
  directory name are presumed to be C++ files.</p>

  <p>2) If coding C++ more than C, then make these changes:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">source</span><span class=
    "literal">&nbsp;"filters.rc"</span><br>
    <span class="comment">;&nbsp;...</span><br>
    <span class="keyword">define-mode</span>&nbsp;<em>cpp</em><br>
    <span class="preproc">~with</span>&nbsp;<span class=
    "keyword">define-submode</span>&nbsp;<em>cpp</em><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">suffixes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="literal">'\.\(C\|CC\|cc\|cpp\|cxx\|hxx\|h\|hh\)$'</span><br>

    <span class="preproc">~endwith</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>This change adds ".h" to the list of C++ files and since vile
  tests cppmode before cmode, all "*.h" files will now be edited in
  cppmode.</p>

  <h3 id="builtin-majormodes2"><a name="builtin-majormodes" id=
  "builtin-majormodes">cmode: the original vile builtin
  majormode</a></h3>

  <p>Long before Tom Dickey added majormodes to vile, there existed
  "cmode", a feature that included its own builtin tab settings and
  indentation style (still available today as "cindent"). This
  older version of cmode served as the precursor for vile's current
  majormode system.</p>

  <p>Today, even if filters.rc is not sourced at runtime, vile
  includes a builtin majormode called cmode that is defined
  internally like so:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">define-mode</span>&nbsp;<span class=
    "keyword">c</span><br>
    <span class="preproc">~with</span>&nbsp;<span class=
    "keyword">define-submode</span>&nbsp;<span class=
    "keyword">c</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">ts</span><span class="keyword2">=</span><span class=
    "number">8</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">sw</span><span class="keyword2">=</span><span class=
    "number">8</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">cindent</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">cindent-chars</span>&nbsp;<span class=
    "literal">":#"</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">suffix</span>&nbsp;<span class=
    "literal">"&lt;complex_regexp_for_c_c++_file_suffixes&gt;"</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">filtername</span>&nbsp;<span class=
    "literal">'vile-c-filt'</span><br>
    <span class="preproc">~endwith</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>This builtin majormode can produce some surprising results
  when editing C source files. In particular:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">set</span>&nbsp;<span class=
    "keyword">ts</span><span class=
    "keyword2">=</span>&lt;val&gt;&nbsp;&nbsp;&nbsp;<span class=
    "comment">;&nbsp;&lt;--&nbsp;has&nbsp;no&nbsp;effect,&nbsp;use&nbsp;"setl"&nbsp;instead</span><br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>What's more these settings may be anathema for the coding
  style in effect for a given software project. Override these
  settings in the vile startup file to suit your needs/taste, like
  so:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">define-mode</span>&nbsp;<span class=
    "keyword">c</span><br>
    <span class="preproc">~with</span>&nbsp;<span class=
    "keyword">define-submode</span>&nbsp;<span class=
    "keyword">c</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">ts</span><span class="keyword2">=</span><span class=
    "number">4</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">sw</span><span class="keyword2">=</span><span class=
    "number">4</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">nocindent</span><br>
    <span class="preproc">~endwith</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <h2 id="filtering-manpages2"><a name="filtering-manpages" id=
  "filtering-manpages">Filtering "man" pages</a></h2>

  <p>When used in conjunction with the vile-manfilt program
  (supplied as source file filters/manfilt.c), either vile or xvile
  may be used to filter and view manual pages. xvile will even
  display (with your font set properly) certain portions of the
  manual page text in bold or italics as appropriate.</p>

  <p>The file macros/manpage.rc (found in the vile source
  directory, with portions copied below) contains a macro which is
  bound to ^X-m. It will prompt for a manual page, filter it,
  attach attributes and display it in the current window. The text
  of manpage.rc may be either incorporated verbatim into your
  .vilerc file or may be read from your .vilerc as follows:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">source</span><span class=
    "literal">&nbsp;"manpage.rc"</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>This assumes that you have moved the manpage.rc file to a
  directory known to vile (automatically handled by "make install"
  on Unix or, alternatively, by pointing the VILE_STARTUP_PATH env
  var to the directory where this file resides). If you do all of
  this but use vile rather than xvile, you will still end up with a
  legible man page, albeit without the spiffy formatting.</p>

  <p>The manual page filtering program may also be used to look at
  other text formatted with nroff. From the vile source directory,
  for example, the following command will format and filter the
  vile manual page (which is nroff source).</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">:<span class=
    "keyword">e</span><span class=
    "literal">&nbsp;!nroff&nbsp;-man&nbsp;vile.1&nbsp;|&nbsp;vile-manfilt</span><br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>Once loaded, it will look rather funny. There will be Cntl-A
  characters scattered throughout the text followed by a sequence
  of digits followed by one or more uppercase letters followed by a
  colon. These Cntl-A sequences specify how the text following the
  colon should be attributed. The vile command
  "attribute-cntl_a-sequences-til" (bound to ^A-A) may be used to
  format a region of text containing these sequences. To continue
  our example, the following command will translate this
  representation of attributed text into one which is more pleasing
  to look at.</p>
  <pre>
        ^A-AG
</pre>

  <p>Note that macros/manpage.rc also provides a macro that
  attaches attributes to any man page displayed in the editor's
  current buffer.</p>

  <h2 id="project-hierarchy2"><a name="project-hierarchy" id=
  "project-hierarchy">Working in a project hierarchy</a></h2>

  <p>vile includes several features that enable quick access to
  many files spread over a directory hierarchy, as described
  below.</p>

  <h3 id="directory-nav2"><a name="directory-nav" id=
  "directory-nav">Directory navigation</a></h3>

  <p>vile provides several commands that manipulate an internal
  directory stack:</p>
  <pre>
        :dirs
        :dirs-add   dir
        :dirs-clear
        :popd       [ {+|-}n ]
        :pushd      [ dir | {+|-}n ]
</pre>

  <dl>
    <dt>dirs</dt>

    <dd>lists the directory stack in a scratch buffer. Note that
    the directory stack is zero-based. Precede this command with an
    argument to kill the buffer. "dirs-clear" clears the stack and
    kills the scratch buffer. "dirs-add" adds a directory to
    stack[top - 1], but does not affect cwd, which makes this
    command useful for initializing the stack from a macro or
    startup file.</dd>

    <dt>popd</dt>

    <dd>
      removes entries from the directory stack. With no arguments,
      removes the top directory from the stack and performs a cd to
      the new top directory.

      <dl>
        <dt>+n</dt>

        <dd>removes the nth entry counting from stack top.</dd>

        <dt>-n</dt>

        <dd>removes the nth entry counting from stack bottom.</dd>
      </dl>
    </dd>

    <dt>pushd</dt>

    <dd>
      adds a directory to the top of the directory stack or rotates
      the stack, making the new top of the stack the current
      working directory. pushd honors CDPATH, when set. With no
      arguments, pushd exchanges the top two directories.
      Otherwise:

      <dl>
        <dt>+n</dt>

        <dd>rotates the stack so that the nth directory, counting
        from stack top, is at the top.</dd>

        <dt>-n</dt>

        <dd>rotates the stack so that the nth directory, counting
        from stack bottom, is at the top.</dd>

        <dt>dir</dt>

        <dd>adds dir to the directory stack at the top, making it
        the new current working directory.</dd>
      </dl>
    </dd>
  </dl>

  <p>If pushd or popd is successful, a "dirs" is performed as
  well.</p>

  <h3 id="tag-path2"><a name="tag-path" id="tag-path">Hierarchical
  tags</a></h3>

  <p>Assume the following directory hierarchy:</p>
  <pre>
               root
              /  |  \
             /   |   \
           lib  src  include
</pre>

  <p>Assume also that most of the development work takes place in
  the "src" directory and that this is a C/C++ project.</p>

  <p>Once an appropriate tags file has been created in the src
  directory (using the ctags program), vile's tags interface
  provides quick access to the most frequently modified project
  files. But what about the source files in the "lib" and "include"
  directories? Is it possible for vile's tags interface to access
  the C/C++ files in the aforementioned directories when the
  editor's cwd is set as "src"? The answer is an emphatic "Yes".
  This can be done using at least two different mechanisms.</p>

  <h3 id="ex-ctags2"><a name="ex-ctags" id="ex-ctags">Exuberant
  ctags</a></h3>

  <p>Assuming the Exuberant Ctags program is available (written by
  Darren Hiebert), the simplest method is as follows:</p>

  <p>1) cd to the project root dir and issue this ctags
  command:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">
    ctags&nbsp;-R&nbsp;<span class=
    "keyword2">.</span>&nbsp;<span class=
    "literal">'*.[ch]'</span>&nbsp;<span class=
    "literal">'*.cpp'</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>This command drops out a tags file in the root directory that
  includes tags for all three subordinate directories. Repeat this
  step as necessary whenever significant changes are occur within
  the project hierarchy.</p>

  <p>2) modify the vile startup file (vile.rc or .vilerc) to
  include this setting:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">set</span>&nbsp;<span class=
    "keyword">tagrelative</span><br>
    <span class="keyword">set</span>&nbsp;<span class=
    "keyword">tags</span><span class=
    "keyword2">=</span><span class="literal">"../tags"</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>vile's tags lookup features now provide one-keystroke access
  to symbols in <i>all</i> project source files, provided that the
  editor's current working directory is set as either src, include,
  or lib.</p>

  <p>It's important to note that Exuberant Ctags has been ported to
  many hosts (including VMS) and supports many languages other than
  C.</p>

  <h3 id="std-ctags2"><a name="std-ctags" id="std-ctags">Standard
  ctags</a></h3>

  <p>Use this recipe when working with the standard ctags program
  (available on virtually all Unix hosts):</p>

  <p>1) cd to the project root dir and issue this ctags
  command:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">
    ctags&nbsp;src/*.[ch]&nbsp;src/*.cpp&nbsp;lib/*.[ch]&nbsp;lib/*.cpp&nbsp;include/*.h<br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>this command drops out a tags file in the root directory that
  includes tags for all three subordinate directories. Repeat this
  step as necessary whenever the lib or include directory contents
  change.</p>

  <p>2) modify the vile startup file (vile.rc or .vilerc) to
  include this setting:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">set</span>&nbsp;<span class=
    "keyword">tagrelative</span><br>
    <span class="keyword">set</span>&nbsp;<span class=
    "keyword">tags</span><span class=
    "keyword2">=</span><span class="literal">"../tags"</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>This method achieves the same one-keystroke symbol access as
  described for Exuberant Ctags.</p>

  <h3 id="findpath2"><a name="findpath" id=
  "findpath">File/Directory traversal (win32/Unix hosts
  only)</a></h3>

  <p>vile's capture-command (bound to ^X-!) includes an interface
  to the Unix find command (or equivalent clone) that permits the
  user to access a large number of files or directories spread
  across an arbitrarily complex hierarchy. This feature requires a
  small amount of configuration before it can be used.</p>

  <p>To begin with, specify a directory hierarchy via the $findpath
  state variable using this syntax:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">setv</span>&nbsp;<span class=
    "ident2">$findpath</span><span class=
    "keyword2">=</span><span class=
    "literal">"&lt;dir&gt;[&lt;delim&gt;&lt;dir&gt;]..."</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>where &lt;delim&gt; is ':' on a Unix host and ';' on a win32
  host. If this state var is not set, "." is assumed.</p>

  <p>Next, use find-cfg mode to enable the traversal feature. This
  mode's string argument syntax is as follows:</p>

  <blockquote>
    <p>
    [&lt;recursive_token&gt;][,&lt;nonrecursive_token&gt;[,&lt;option&gt;...]]</p>
  </blockquote>

  <p>where:</p>
  <pre>
        &lt;recursive_token&gt; := an ascii character that triggers a
                            recursive find.  The selected token may
                            not be taken from the character set
                            defined by isalpha().  To use ',' as a
                            token, escape it with '\'.

        &lt;nonrecursive_token&gt; := an ascii character that triggers a
                               nonrecursive find&ndash;shares the same
                               semantic restrictions as the
                               recursive token.

        &lt;option&gt;          := {d | f}
</pre>

  <p>Note 1: The "d" option specifies that find should restrict its
  search solely to files of type "d" (i.e., directories). The "f"
  option adds a "-follow" operand to the commandline, which directs
  find to follow symbolic links. Note that -follow is appropriate
  for the GNU tool chain, SunOS v5.7, and possibly other hosts.
  Check your local find (1) man page for compatibility.</p>

  <p>Note 2: An empty string argument disables find-cfg mode.</p>

  <p>Note 3: Most versions of find do <i>not</i> support
  nonrecursive operations. The one known exception is GNU's
  find.</p>

  <h3 id="findpath-example2"><a name="findpath-example" id=
  "findpath-example">Examples (file traversal)</a></h3>

  <p>Assume the same project hierarchy as was used in the
  description of "Hierarchical tags" above. Assume also that the
  path to the project root is /local/proj/root and that the vile
  startup file contains these settings:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">setv</span>&nbsp;<span class=
    "ident2">$findpath</span><span class=
    "keyword2">=</span><span class=
    "literal">"/local/proj/root"</span><br>
    <span class="keyword">set</span>&nbsp;<span class=
    "keyword">find-cfg</span><span class=
    "keyword2">=</span><span class="literal">"$,@"</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>Then consider this command:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "literal">^X-!</span><span class=
    "comment">$egrep</span>&nbsp;-<span class=
    "keyword">n</span><span class=
    "literal">&nbsp;FIXME&nbsp;*.[ch]&nbsp;*.cpp</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>which spawns this Unix shell command:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">
    find&nbsp;/local/proj/root&nbsp;<span class=
    "literal">'('</span>&nbsp;-name&nbsp;<span class=
    "literal">'*.[ch]'</span>&nbsp;-o&nbsp;-name&nbsp;<span class=
    "literal">'*.cpp'</span>&nbsp;<span class=
    "literal">')'</span>&nbsp;\<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-print&nbsp;|&nbsp;egrep&nbsp;-v&nbsp;<span class="literal">'((RCS|CVS)/|/[Tt][Aa][Gg][Ss]$)'</span>&nbsp;|&nbsp;\<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xargs&nbsp;egrep&nbsp;-n&nbsp;FIXME<br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>and this win32 shell command:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">
    find&nbsp;/local/proj/root&nbsp;<span class=
    "literal">'('</span>&nbsp;-iname&nbsp;<span class=
    "literal">'*.[ch]'</span>&nbsp;-o&nbsp;-iname&nbsp;<span class=
    "literal">'*.cpp'</span>&nbsp;<span class=
    "literal">')'</span>&nbsp;\<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-print&nbsp;|&nbsp;egrep&nbsp;-vi&nbsp;<span class="literal">'((RCS|CVS)/|/tags$)'</span>&nbsp;|&nbsp;\<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xargs&nbsp;egrep&nbsp;-n&nbsp;FIXME<br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>The net result is that capture-command has been used to find
  the string FIXME in all C/C++ source files located in the project
  hierarchy. The results of this search are placed in the editor's
  [Output] buffer. Each occurrence of the string can be accessed
  via the error finder's ^X-^X binding. Note that the above shell
  commands are crafted to ignore files stored in RCS/CVS
  directories and to ignore the files created by ctags.</p>

  <p>If it's preferable to use a nonrecursive find operation and
  the GNU find utility is available on your host, you might try
  this on a Unix host:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">setv</span>&nbsp;<span class=
    "ident2">$findpath</span><span class=
    "keyword2">=</span><span class=
    "literal">"/dir1:/dir2:/dir3"</span><br>
    <span class="keyword">set</span>&nbsp;<span class=
    "keyword">find-cfg</span><span class=
    "keyword2">=</span><span class="literal">"$,@"</span><br>
    <span class=
    "literal">^X-!</span>@egrep&nbsp;-ni&nbsp;copyright&nbsp;*.txt<br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>which spawns this Unix shell command:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">
    find&nbsp;/dir1&nbsp;/dir2&nbsp;/dir3&nbsp;-maxdepth&nbsp;<span class="number">1</span>&nbsp;-name&nbsp;<span class="literal">'*.txt'</span>&nbsp;-print&nbsp;|&nbsp;\<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;egrep&nbsp;-v&nbsp;<span class="literal">'((RCS|CVS)/|/[Tt][Aa][Gg][Ss]$)'</span>&nbsp;|&nbsp;\<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xargs&nbsp;egrep&nbsp;-ni&nbsp;copyright<br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>Or, correspondingly, on a win32 host:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">setv</span>&nbsp;<span class=
    "ident2">$findpath</span><span class=
    "keyword2">=</span><span class=
    "literal">"/dir1;/dir2;/dir3"</span><br>
    <span class="keyword">set</span>&nbsp;<span class=
    "keyword">find-cfg</span><span class=
    "keyword2">=</span><span class="literal">"$,@"</span><br>
    <span class=
    "literal">^X-!</span>@egrep&nbsp;-ni&nbsp;copyright&nbsp;*.txt<br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>which spawns this win32 shell command:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">
    find&nbsp;/dir1&nbsp;/dir2&nbsp;/dir3&nbsp;-maxdepth&nbsp;<span class="number">1</span>&nbsp;-iname&nbsp;<span class="literal">'*.txt'</span>&nbsp;-print&nbsp;|&nbsp;\<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;egrep&nbsp;-vi&nbsp;<span class="literal">'((RCS|CVS)/|/tags$)'</span>&nbsp;|&nbsp;xargs&nbsp;egrep&nbsp;-ni&nbsp;copyright<br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>Of course, if your version of find doesn't support the
  "-maxdepth" option, this feature won't work. The workaround is
  simple&ndash;upgrade to the GNU version of find.</p>

  <h3 id="find-cfg-example2"><a name="find-cfg-example" id=
  "find-cfg-example">Examples (directory traversal)</a></h3>

  <p>Suppose all you really desire is access to the names of the
  directories embedded within a project hierarchy. This might be
  useful for Perl hackers who want to manipulate a directory's
  contents with specialized scripts. To obtain this functionality,
  specify find-cfg's "d" option. As a contrived example:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">setv</span>&nbsp;<span class=
    "ident2">$findpath</span><span class=
    "keyword2">=</span><span class=
    "literal">"/local/proj/root"</span><br>
    <span class="keyword">set</span>&nbsp;<span class=
    "keyword">find-cfg</span><span class=
    "keyword2">=</span><span class="literal">"$,@,d"</span><br>
    <span class="literal">^X-!</span><span class=
    "comment">$ls</span>&nbsp;-ld<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>yields this shell command (on a Unix host):</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">
    find&nbsp;/local/proj/root&nbsp;-type&nbsp;d&nbsp;-print&nbsp;|&nbsp;egrep&nbsp;-v&nbsp;<span class="literal">'(RCS|CVS)/'</span>&nbsp;|&nbsp;\<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xargs&nbsp;ls&nbsp;-ld<br>

    <!--atr2html}}--></p>
  </blockquote>

  <h3 id="findpath-notes2"><a name="findpath-notes" id=
  "findpath-notes">File/directory traversal notes</a></h3>

  <ul>
    <li>An astute win32 user will note that the above traversal
    examples rely on utilities (find, egrep, and xargs) that aren't
    available by default on a win32 host. This problem can be
    readily remedied by installing the cygwin emulation package,
    which includes a large number of fully functional GNU tools.
    Cygwin can be obtained from Redhat at <a href=
    "http://sources.redhat.com/cygwin">http://sources.redhat.com/cygwin</a>.</li>

    <li>The most recent file/directory traversal shell command
    created via capture-command is stored in the $find-cmd state
    variable. This can be a useful debugging aid.</li>

    <li>The $findpath state variable inherits its initial value, if
    any, from the VILE_FINDPATH environment variable.</li>
  </ul>

  <h2 id="custom-filters2"><a name="custom-filters" id=
  "custom-filters">Writing your own filters</a></h2>

  <p>Filters may be written as either an external program or with
  the Perl interface. Both the manual page filter and the C program
  colorizer are examples of external programs which do the
  filtering. The hgrep.pm perl script is an example of a filter
  which uses the vile's interface to Perl.</p>

  <p>Regardless, the goal of the filter is to embed in the text a
  control sequences which describe how the subsequent text should
  be attributed by the vile command</p>
  <pre>
        attribute-cntl_a-sequences-til
</pre>

  <p>or, preferably</p>
  <pre>
        attribute-from-filter-til
</pre>

  <p>(See <a href="#syntax-coloring">above</a> for examples of how
  to use this command.)</p>

  <p>The control sequences take the following form:</p>
  <pre>
        ^A&lt;Count&gt;&lt;Attr&gt;:
</pre>

  <p>&lt;Count&gt; is a sequence of digits representing the number
  of characters following the ':' to be attributed.</p>

  <p>&lt;Attr&gt; is a sequence of characters which indicates how
  to attribute the required number of characters following the ':'.
  The following sequences are recognized by vile:</p>
  <pre>
        I               -- italic
        B               -- bold
        R               -- reverse (or inverse) video
        U               -- underline
        C<em>&lt;hex digit&gt;</em>     -- color number (one of 16)
        H<em>&lt;command&gt;</em>\0     -- hypertext command
</pre>

  <p>The <em>&lt;command&gt;</em> for hypertext commands may be any
  sequence of characters except for newlines and null characters. A
  null character must terminate the hypertext command. The command
  should be a valid vile command such as you might enter into your
  .vilerc file.</p>

  <p>The attribute characters may be used together in any
  combination. So, for example, you could use the following to make
  some text appear both bold and italic:</p>
  <pre>
        ^A15IB:Bold and italic
</pre>

  <h2 id="hypertext2"><a name="hypertext" id=
  "hypertext">Hypertext</a></h2>

  <p>Vile does not currently supply a builtin key binding for
  executing hypertext commands. The following macro and key binding
  will cause the space bar to be bound to a macro which will follow
  a hypertext link when the cursor is placed on top of it. If no
  hypertext link is present, then the normal default action of
  advancing one character to the right is taken:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "number">22</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~force</span>&nbsp;<span class=
    "keyword">execute-hypertext-command</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~if</span>&nbsp;&nbsp;<span class=
    "ident2">&amp;not</span>&nbsp;<span class=
    "ident2">$status</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~force</span>&nbsp;<span class=
    "keyword">forward-character-to-eol</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~endif</span><br>
    <span class="preproc">~endm</span><br>
    <span class="keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-macro-22</span>&nbsp;<span class=
    "literal">'&nbsp;'</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>[ TODO: Maybe we should just add a little bit of code to make
  this the default binding for space bar? Or is some other key
  binding preferable? In any event, it'll only take 7 or 8 lines to
  do the job... ]</p>

  <p>Here is another example, which gives a choice between
  following a hyperlink, e.g., as embedded in which-source, or
  showing its content:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-hypertext-command</span>&nbsp;<span class=
    "literal">^X-z</span><br>
    <span class="keyword">bind-key</span>&nbsp;<span class=
    "keyword">show-hypertext-command</span>&nbsp;<span class=
    "literal">^X-Z</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>When using xvile, double clicking on a hypertext link will
  cause the hypertext command to be executed. If no hypertext
  command is associated with the text under the cursor, the default
  action of selecting the word under the cursor will occur
  instead.</p>

  <h2 id="debugging2"><a name="debugging" id="debugging">Debugging
  features</a></h2>

  <dl>
    <dt>popup-msgs</dt>

    <dd>vile's popup-msgs mode (:se pm) pops up a buffer that
    displays all text written to the editor's message line. This
    mode, when used in conjunction with the write-message command,
    provides an effective mechanism for debugging macros. Type ":se
    nopm" to disable popup-msgs.</dd>

    <dt>~trace/$debug</dt>

    <dd>
      use vile's builtin macro tracing to see what the macros
      really do. The ~trace command sets the $debug variable, which
      controls whether vile appends to the [Trace] buffer a copy of
      each line executed, the local variables saved/restored and
      intermediate states of expression evaluation. To activate
      tracing, use:

      <blockquote>
        <!--{{atr2html-->

        <p style="font-family: monospace;"><span class=
        "preproc">~trace</span>&nbsp;on<br>
        <!--atr2html}}--></p>
      </blockquote>

      <p>or</p>

      <blockquote>
        <!--{{atr2html-->

        <p style="font-family: monospace;"><span class=
        "keyword">setv</span>&nbsp;<span class=
        "ident2">$debug</span>&nbsp;true<br>
        <!--atr2html}}--></p>
      </blockquote>

      <p>To&nbsp;disable&nbsp;tracing,&nbsp;use:<br></p>

      <blockquote>
        <!--{{atr2html-->

        <p style="font-family: monospace;"><span class=
        "preproc">~trace</span>&nbsp;off<br>
        <!--atr2html}}--></p>
      </blockquote>

      <p>or</p>

      <blockquote>
        <!--{{atr2html-->

        <p style="font-family: monospace;"><span class=
        "keyword">setv</span>&nbsp;<span class=
        "ident2">$debug</span>&nbsp;false<br>
        <!--atr2html}}--></p>
      </blockquote>
    </dd>

    <dt>which-exec <em>&lt;file&gt;</em></dt>

    <dd>
      displays the full path that the editor's shell will use to
      exec <em>&lt;file&gt;</em>.

      <p>Note 1: The list of possible paths is taken from all
      directories specified in $PATH + $libdir-path.</p>

      <p>Note 2: On non-Unix hosts, a file suffix is required
      (e.g., ":which-exec copy.exe", not "which-exec copy").</p>

      <p>Note 3: Specify a numeric argument to force vile to popup
      a buffer that displays all possible paths (e.g.,
      "2:which-exec fmt").</p>
    </dd>

    <dt>which-source <em>&lt;file&gt;</em></dt>

    <dd>
      displays the full path that will be used to source
      <em>&lt;file&gt;&gt;</em>.

      <p>Note 1: The list of possible paths is taken from the same
      directory hierarchy described in the "Invocation" help
      topic.</p>

      <p>Note 2: Specify a numeric argument to force vile to popup
      a buffer that displays all possible paths (e.g.,
      "2:which-source mymacros.rc").</p>
    </dd>
  </dl>

  <p>For debugging syntax highlighting, the following also are
  useful:</p>

  <dl>
    <dt>which-filter <em>&lt;majormode&gt;</em></dt>

    <dd>Prompt for, and display location of filter program.</dd>

    <dt>which-keywords <em>&lt;majormode&gt;</em></dt>

    <dd>Prompt for, and display location of keyword files.</dd>

    <dt>HighlightFilterMsg ^X-q</dt>

    <dd>Colors the current buffer if a majormode and filter exist
    for same.</dd>

    <dt>HighlightClear ^X-Q</dt>

    <dd>Clears the current buffer's color attributes.</dd>
  </dl>

  <h2 id="xwindows2"><a name="xwindows" id="xwindows">X Window
  System specifics</a></h2>

  <p>If you are using xvile under X11, the following additions are
  available:</p>

  <h3 id="xvile-buttons2"><a name="xvile-buttons" id=
  "xvile-buttons">Mouse Buttons</a></h3>

  <dl>
    <dt>1 &ndash;</dt>

    <dd>
      Sets cursor position and the start of the selection when
      mouse pointer is positioned in any vile window (but not the
      message line). Clicking on a mode line will set the keyboard
      focus to the corresponding vile window. Double clicking on a
      mode line will do the above in addition to clearing the
      highlighting associated with the current selection.

      <p>Selections may be made by holding button one down and
      "wiping" with the mouse. Release of the mouse button will
      cause the selection to be yanked and made available (if
      desired) for pasting. The region selected may be forced to be
      rectangular by holding the control key down while wiping with
      button one depressed. If the wiping motion goes out of the
      current window, text will be scrolled in the appropriate
      direction if possible to accommodate selections larger than
      the window. The speed at which the scrolling occurs will
      increase with the passage of time making it practical to
      select large regions of text quickly.</p>

      <p>Individual words or lines may be selected by double or
      triple clicking.</p>
    </dd>

    <dt>2 &ndash;</dt>

    <dd>Paste the current PRIMARY selection. With a shift modifier,
    it pastes at the mouse position, otherwise it pastes at the
    last text cursor position before selecting.</dd>

    <dt>3 &ndash;</dt>

    <dd>Extend the current selection. As with button one, the
    selection may be adjusted or scrolled by holding down button
    three and wiping with it. Selections may be extended in any
    window open to the same buffer as which the selection was
    started in.</dd>
  </dl>

  <p>As described below in the "Scrollbars" section, the buttons
  are modified by the control key as follows, when used on a
  scrollbar:</p>

  <p>Ctrl-Button-1 splits the clicked-on window into two
  windows.<br>
  Ctrl-Button-2 deletes the clicked-on window.<br>
  Ctrl-Button-3 makes the clicked-on window the only window.</p>

  <p>Areas of selected text can be operated on with any vile
  operator command, in conjunction with the special "motion"
  command '^S', which applies the operator to the selected region.
  For example, after selecting text with the mouse, it can be
  converted to uppercase with ^A-u^S. Remember that some operators
  (e.g. the shell-filtering operator, '!') are only capable of
  working on full lines of text.</p>

  <h3 id="xvile-clipboard2"><a name="xvile-clipboard" id=
  "xvile-clipboard">Clipboard</a></h3>

  <p>Data may be exchanged between many X applications via the
  PRIMARY selection. This selection is set and manipulated as
  described in the above section entitled "Mouse Buttons".</p>

  <p>Other applications, most notably OpenLook applications, use
  the CLIPBOARD selection to exchange data between applications. On
  many Sun keyboards, selected text is moved to the clipboard by
  pressing the "Copy" key and pasted by pressing the "Paste" key.
  If you find that you can not paste text selected in xvile in
  other applications or vice-versa, it may well be that these
  applications use the CLIPBOARD selection instead of the PRIMARY
  selection. (The other mechanism used among really old
  applications involves the use of a ring of cut buffers.)</p>

  <p>xvile provides two commands for manipulating with the
  clipboard. These are copy-to-clipboard and paste-from-clipboard.
  When copy-to-clipboard is executed, the contents of the current
  selection are copied to the special clipboard kill register
  (denoted by ';' in the register list). When an application
  requests the clipboard selection, xvile gives it the contents of
  this kill register. The paste-from-clipboard command requests
  clipboard data from the current owner of the CLIPBOARD
  selection.</p>

  <p>Users of Sun systems may want to put the following key
  bindings in their .vilerc file in order to make use of the Copy
  and Paste keys found on their keyboards:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">bind-key</span>&nbsp;copy-to-clipboard&nbsp;<span class="literal">#-^</span><br>

    <span class=
    "keyword">bind-key</span>&nbsp;paste-from-clipboard&nbsp;<span class="literal">#-*</span><br>

    <!--atr2html}}--></p>
  </blockquote>

  <h3 id="xvile-scrollbars2"><a name="xvile-scrollbars" id=
  "xvile-scrollbars">Scrollbars</a></h3>

  <p>The X toolkit version of xvile provides default translations
  similar to the translations for scrollbars found in the Athena
  widget set. (If you know how to use xterm's scrollbars, you know
  how to use these scrollbars.) Button one scrolls forward. Button
  three scrolls backward. The amount of scrolling obtained by these
  buttons depends on the position at which they were pressed on the
  scrollbar. Clicking near the top of the scrollbar will scroll the
  text by a small amount which may be as little as one line.
  Clicking in the middle will scroll by about half a page. Clicking
  near the bottom will scroll by a larger amount up to a whole
  page. Holding either one of these buttons down will cause
  repeated scrolling.</p>

  <p>If simply pressed and released, button two will set the
  position in the buffer to a position proportional to the location
  of the pointer on the scroll bar. Button two may be held down to
  "drag" the slider from one place to another causing text to
  scroll continuously.</p>

  <p>The Motif and OpenLook versions provide scrollbars from their
  respective widget sets. Both versions have a slider indicating
  the position of the window over the buffer. OpenLook's slider is
  fixed in size with little arrows at the top and bottom of the
  slider. Pressing on one of these arrows will cause scrolling in
  the appropriate direction. The slider may be "grabbed" and moved
  by pressing and dragging the middle portion between the arrows.
  Motif's slider is solid with size varying to indicate the size of
  the window with respect to the size of the buffer. Any portion of
  it may be grabbed for movement. There are little arrows at the
  top and bottom of the scroll bar which may be clicked upon to
  cause scrolling by one line. In both of these widget sets,
  clicking on the scrollbar either above or below the slider will
  cause scrolling by a full page. OpenLook has two additional
  control areas; the buffer position may be set to either the
  beginning or end of the buffer by pressing on one of the little
  rectangular areas at either the top or bottom of the
  scrollbar.</p>

  <p>In all versions built with scrollbars enabled, you can resize
  windows by moving the border between corresponding scrollbars
  (with the mouse). The X toolkit version is probably the most
  functional, with the windows being continuously resized as the
  mouse is moved. The OpenLook and Motif versions wait until after
  a position is selected to resize the windows. The OpenLook
  version is perhaps the least functional; there is no visible
  indication (other than the position of the mouse pointer) to
  indicate where the new border will be.</p>

  <p>Splitting and deleting of windows may also be done with the
  mouse. In each case the action is selected by pressing one of the
  mouse buttons over a scrollbar with the control key held down.
  Button one (with the control key held down) will split the
  scrollbar and the corresponding vile window with the new border
  at or near the mouse cursor. Button two (with control key) will
  delete the scrollbar and corresponding window. Button three (with
  control key) will make the corresponding window the only
  window.</p>

  <h3 id="xwindow-options2"><a name="xwindow-options" id=
  "xwindow-options">Standard X command line arguments</a></h3>

  <table border="1" summary="X options">
    <tr>
      <td><code>-fn <em>fontname</em></code></td>

      <td>Font to use (or -font).</td>
    </tr>

    <tr>
      <td><code>-rv</code></td>

      <td>Use reverse video (also -reverse).</td>
    </tr>

    <tr>
      <td><code>+rv</code></td>

      <td>Don't use reverse video.</td>
    </tr>

    <tr>
      <td><code>-display <em>disp</em></code></td>

      <td>Display to run xvile on.</td>
    </tr>

    <tr>
      <td><code>-fg color <em>Foreground</em></code></td>

      <td>color (or -foreground).</td>
    </tr>

    <tr>
      <td><code>-bg color <em>Background</em></code></td>

      <td>color (or -background).</td>
    </tr>

    <tr>
      <td><code>-bd color <em>Border</em></code></td>

      <td>color (or -bordercolor).</td>
    </tr>

    <tr>
      <td><code>-name <em>name</em></code></td>

      <td>Application name used for resource lookups.</td>
    </tr>

    <tr>
      <td><code>-title <em>name</em></code></td>

      <td>Name to be displayed in titlebar.</td>
    </tr>

    <tr>
      <td><code>-geometry <em>geom</em></code></td>

      <td>Initial window dimensions in columns and rows.</td>
    </tr>

    <tr>
      <td><code>-iconic</code></td>

      <td>Start xvile iconified.</td>
    </tr>

    <tr>
      <td><code>-xrm <em>Resource</em></code></td>

      <td>Specify or change an X resource internal to xvile.</td>
    </tr>
  </table>

  <h3 id="xvile-options2"><a name="xvile-options" id=
  "xvile-options">Additional xvile command line arguments</a></h3>

  <table border="1" summary="xvile options">
    <tr>
      <td><code>-class <em>name</em></code></td>

      <td>Class name used for resource lookups.</td>
    </tr>

    <tr>
      <td><code>-fork</code></td>

      <td>to spawn xvile immediately on startup</td>
    </tr>

    <tr>
      <td><code>+fork</code></td>

      <td>to force xvile to not spawn on startup</td>
    </tr>

    <tr>
      <td><code>-leftbar</code></td>

      <td>Put scrollbar(s) on left.</td>
    </tr>

    <tr>
      <td><code>-rightbar</code></td>

      <td>Put scrollbar(s) on right (default)</td>
    </tr>
  </table>

  <h3 id="process-group2"><a name="process-group" id=
  "process-group">Setting a new process group</a></h3>

  <p>Some systems and/or some shells and display managers seem to
  want xvile to run in its own process group, to help isolate its
  signals and actions from the signals and actions of the parent
  process (i.e. the shell or window manager that starts xvile).
  xvile can be forced into its own process group with the
  "new-process-group" command, which one would put in the .vilerc
  file. Using this will cause a call to "setpgrp()" or "setsid()".
  This behavior is not the default because a) it can't be undone,
  and b) it seems undesirable on some systems, in that xvile cannot
  be suspended and put in the background after startup if it's in
  its own group.</p>

  <p>Additionally, if given a count as argument, this command will
  cause xvile to fork(), and the parent to exit before the new
  process group is set by the child. This will further isolate it
  from its process environment (and in fact will move xvile into
  the background if started from the shell).</p>

  <p>The "new-process-group" command has no effect in non-X11
  versions of vile.</p>

  <h3 id="xvile-resources2"><a name="xvile-resources" id=
  "xvile-resources">X Resources</a></h3>

  <table border="1" summary="xvile resources">
    <tr>
      <th>Name</th>

      <th>Description</th>
    </tr>

    <tr>
      <td>font</td>

      <td>Font to use.</td>
    </tr>

    <tr>
      <td>geometry</td>

      <td>Window dimensions in characters.</td>
    </tr>

    <tr>
      <td>iconName</td>

      <td>Name of icon for decorating window frame. If set, this
      overrides the compiled-in pixmap which is used for the window
      manager's hint of the icon pixmap.</td>
    </tr>

    <tr>
      <td>charClass</td>

      <td>Character classes for multiple click selections. The
      format is identical to that of xterm(1).</td>
    </tr>

    <tr>
      <td>multiClickTime</td>

      <td>How long between clicks (in milliseconds) to be accepted
      as a multi-click.</td>
    </tr>

    <tr>
      <td>foreground<br>
      background</td>

      <td>Foreground/Background color of the main xvile text
      area.</td>
    </tr>

    <tr>
      <td>cursor.foreground<br>
      cursor.background</td>

      <td>Foreground/Background color of the cursor. By default the
      cursor location is indicated by inverting the foreground and
      background colors of the cell the cursor is over. Thus the
      color of the cursor will vary depending upon location. Use of
      these subresources will cause the cursor to maintain constant
      coloration of the user's choosing, and may make it easier to
      see when it appears in a "highlighted" or "selected" area of
      text.</td>
    </tr>

    <tr>
      <td>menuBackground<br>
      menuForeground</td>

      <td>(Compile-time optional feature) resources for setting the
      background and foreground colors of menubar and pulldown
      menus.</td>
    </tr>

    <tr>
      <td>modeline.focusForeground<br>
      modeline.focusBackground</td>

      <td>Foreground/Background color of the mode line
      corresponding to the window with focus, i.e. the "current"
      window.</td>
    </tr>

    <tr>
      <td>modeline.foreground<br>
      modeline.background</td>

      <td>Foreground/Background color of mode lines corresponding
      to windows without the keyboard focus. modeline.background is
      also used for the scrollbar borders and resize grips.</td>
    </tr>

    <tr>
      <td>forkOnStartup</td>

      <td>If true, xvile forks after initialization.</td>
    </tr>

    <tr>
      <td>focusFollowsMouse</td>

      <td>If true, the "current" window is the window inhabited by
      the mouse; no clicking is necessary to change windows.</td>
    </tr>

    <tr>
      <td>pointer.foreground<br>
      pointer.background</td>

      <td>Foreground/Background color of the pointer.</td>
    </tr>

    <tr>
      <td>pointer.normalShape<br>
      pointer.watchShape</td>

      <td>Set the shapes for the normal and watch pointers
      respectively.</td>
    </tr>

    <tr>
      <td>scrollbarOnLeft</td>

      <td>Either true or false; control the placement of the
      scrollbars. By default, scrollbars are placed on the
      right.</td>
    </tr>

    <tr>
      <td>scrollbarWidth</td>

      <td>An integer indicating the width of the scrollbar.</td>
    </tr>

    <tr>
      <td>scrollbar.foreground<br>
      scrollbar.background</td>

      <td>Foreground/Background color of the slider or one of the
      colors of the slider if a stippled pixmap is used. To force
      the slider to be only the foreground color, you should set
      sliderIsSolid to true. (X toolkit version only)</td>
    </tr>

    <tr>
      <td>scrollbar.sliderIsSolid</td>

      <td>If false, indicates that the stippled pixmap should be
      used to simulate grey. This will be best on monochrome
      displays. True works better for color displays. True
      indicates the slider will be displayed in the foreground
      color, shaded to look three-dimensional, if possible. (X
      toolkit version only)</td>
    </tr>

    <tr>
      <td>scrollRepeatTimeout</td>

      <td>Amount of time in milliseconds to wait initially before
      repeating scroll when button one or three are held down. (X
      toolkit version only).</td>
    </tr>

    <tr>
      <td>scrollRepeatInterval</td>

      <td>Amount of time to wait between repeating subsequent
      scrolls. This parameter is also used for controlling the
      speed at which selections are scrolled.</td>
    </tr>

    <tr>
      <td>selection.foreground<br>
      selection.background</td>

      <td>Foreground/Background color of the selection regions.
      "foreground" is the color that the text is displayed in.</td>
    </tr>

    <tr>
      <td>persistentSelections</td>

      <td>If true (the default), highlighting of the selection will
      persist even when button one is pressed to set the cursor
      position. A false value will behave more like other X
      applications in which display of the selection is lost as
      soon as button one is pressed.</td>
    </tr>

    <tr>
      <td>selectionSetsDOT</td>

      <td>If false (the default), the cursor will be restored to
      its previous position prior to making the selection. If true,
      the cursor will be positioned at the location of the mouse at
      the end of making a selection (usually at either the start or
      end of a selection).</td>
    </tr>

    <tr>
      <td><a name="xvile-blinkInterval" id=
      "xvile-blinkInterval">blinkInterval</a></td>

      <td>An integer indicating the time in milliseconds to wait
      before blinking the cursor. A positive value will cause the
      cursor to always blink. Setting blinkInterval to zero will
      cause the cursor to never blink which may be useful on some
      display servers connected to very slow networks. The
      disadvantage of setting it to zero is that it is sometimes
      hard to tell where the cursor is when situated at the
      boundary of a highlighted region. A negative value (which is
      the default) will cause the cursor to blink only when
      situated in a highlighted region such as a selection. This
      will make the cursor visible no matter where it is.</td>
    </tr>

    <tr>
      <td>color.fcolor0,<br>
      color.bcolor0, ...,<br>
      color.fcolor15,<br>
      color.bcolor15<br></td>

      <td>When doing text attribution with the
      "attribute-cntl_a-sequences-til" command (bound to ^A-A), the
      attribute may be of the form "Cn", where 'n' is a hexadecimal
      digit. This digit picks one of the 16 fcolor/bcolor pairs set
      up in the color subresource. For example, if the buffer
      contained the text: ^A6C3:foobar then after the ^A-A command
      was applied, the leading "^A3C3:" would be gone, and the word
      "foobar" would appear in the foreground and background colors
      specified by color.fcolor3 and color.bcolor3. The fcolorN
      resources have default values corresponding to the ANSI
      convention, while bcolorN default to the window background.
      If you wish to set bcolorN for special effect, you should add
      this to your .vilerc file set bcolor=fcolor to tell xvile to
      use the bcolorN resources when displaying attributed text.
      Otherwise, setting bcolor will change the window background,
      as in the termcap and similar versions of vile.</td>
    </tr>

    <tr>
      <td>menuHeader<br>
      menuEntry</td>

      <td>The names given to the menu header and entries,
      respectively.</td>
    </tr>

    <tr>
      <td>menuHeight</td>

      <td>resource controlling the Athena menu-height</td>
    </tr>

    <tr>
      <td>openIm</td>

      <td>true if input method should be opened (default:
      true)</td>
    </tr>

    <tr>
      <td>inputMethod</td>

      <td>input method to use (default: "")</td>
    </tr>

    <tr>
      <td>preeditType</td>

      <td>pre-edit type (default: "OverTheSpot,Root")</td>
    </tr>

    <tr>
      <td>wheelScrollAmount</td>

      <td>Amount to scroll for a wheel mouse, per
      button-press.</td>
    </tr>
  </table>

  <h3 id="sample-xresources2"><a name="sample-xresources" id=
  "sample-xresources">Sample .Xdefault entries</a></h3>

  <p>You may or may not want to use the following as a starting
  point for the "XVile" section of your .Xdefaults or .Xresources
  file. If you have a monochrome display server, you will probably
  not want to use any of the color specifications. You may,
  however, wish to set up a blinking cursor, using <a href=
  "#xvile-blinkInterval">"blinkInterval"</a> (see above).</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">XVile</span>*<span class=
    "ident2">font</span>:<span class=
    "literal">&nbsp;-*-courier-medium-r-normal-*-*-*-75-75-m-70-iso8859-*</span><br>

    <span class="keyword">XVile</span>*<span class=
    "ident2">geometry</span>:<span class=
    "literal">&nbsp;80x54</span><br>
    <span class="keyword">XVile</span>.<span class=
    "ident2">background</span>:<span class=
    "literal">&nbsp;darkslategrey</span><br>
    <span class="keyword">XVile</span>.<span class=
    "ident2">foreground</span>:<span class=
    "literal">&nbsp;honeydew</span><br>
    <span class="keyword">XVile</span>.<span class=
    "ident2">scrollbar</span>.<span class=
    "ident2">foreground</span>:<span class=
    "literal">&nbsp;firebrick2</span><br>
    <span class="keyword">XVile</span>.<span class=
    "ident2">scrollbar</span>.<span class=
    "ident2">sliderIsSolid</span>:<span class=
    "literal">&nbsp;</span><span class="keyword">true</span><br>
    <span class="keyword">XVile</span>.<span class=
    "ident2">selection</span>.<span class=
    "ident2">background</span>:<span class=
    "literal">&nbsp;aquamarine4</span><br>
    <span class="keyword">XVile</span>.<span class=
    "ident2">selection</span>.<span class=
    "ident2">foreground</span>:<span class=
    "literal">&nbsp;honeydew</span><br>
    <span class="keyword">XVile</span>.<span class=
    "ident2">cursor</span>.<span class=
    "ident2">background</span>:<span class=
    "literal">&nbsp;yellow</span><br>
    <span class="keyword">XVile</span>.<span class=
    "ident2">cursor</span>.<span class=
    "ident2">foreground</span>:<span class=
    "literal">&nbsp;darkslategrey</span><br>
    <span class="keyword">XVile</span>.<span class=
    "ident2">modeline</span>.<span class=
    "keyword">Background</span>:<span class=
    "literal">&nbsp;steelblue</span><br>
    <span class="keyword">XVile</span>.<span class=
    "ident2">modeline</span>.<span class=
    "ident2">foreground</span>:<span class=
    "literal">&nbsp;darkslategrey</span><br>
    <span class="keyword">XVile</span>.<span class=
    "ident2">modeline</span>.<span class=
    "ident2">focusForeground</span>:<span class=
    "literal">&nbsp;yellow</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <h3 id="xvile-fonts2"><a name="xvile-fonts" id=
  "xvile-fonts">Fonts</a></h3>

  <p>To change the font on the fly, use the ':setv' command to set
  the $font variable, with ":setv $font &lt;fontname&gt;".</p>

  <p>At present, only xvile is capable of displaying bold and
  italic (or underline) text associated with attributes. It is
  anticipated that other versions of vile will catch up to the best
  of their ability. Users of xvile will find that the italic font
  in particular is not always available with the font that they've
  chosen (or have had chosen for them). If an italic font is
  unavailable, xvile will underline text which is meant to be
  italic. The program xfontsel is quite useful for determining
  which fonts are available on your display server and whether
  there are corresponding bold and/or italic fonts available.</p>

  <p>Here are some tips on using xfontsel to find an appropriate
  font.</p>

  <ol>
    <li>Set rgstry (registry) to iso8859</li>

    <li>Set spc (spacing) to either "c" (cell font) or "m"
    (monospaced font). You will be more likely to find a font which
    will work as italic if you choose a monospaced font, however.
    You definitely do not want a proportional font.</li>

    <li>Now pull down the slant menu. Select either "i" (italic) or
    "o" (oblique). If neither of these are available, go back to
    step 2 and choose a different spacing.</li>

    <li>Set avgWdth (average width) next. If you divide the value
    you've chosen by ten, this will be width of a glyph in the font
    in pixels.</li>

    <li>Set wght (weight) to medium. If you have a hard time seeing
    the characters, you might want to choose bold, but xvile will
    not be able to use the bold font for displaying bold text. It
    will be forced to overwrite text that it wants to be bold with
    the text shifted by one pixel. This works fairly well for
    larger fonts.</li>

    <li>Set fmly (family) to a value according to personal taste.
    By this step, you might not have any choice on the matter
    anyway.</li>

    <li>If only one font is available at this point, the other
    fields don't matter that much. Otherwise set these according to
    taste.</li>

    <li>Go back to the slant menu and change either the "i" or "o"
    to "r".</li>
  </ol>

  <p>This will be the font to use. xvile will be attempt to get the
  italic font when needed by substituting either "o" or "i" for the
  "r".</p>

  <p>If the above seems too tedious, you can just try the following
  font which (on many display servers) is pretty close to the size
  of the default font that xvile will start up with.</p>

  <blockquote>
    <p>-*-courier-medium-r-*-*-*-*-*-*-*-70-*-*</p>
  </blockquote>

  <p>You can try it out by issuing the appropriate "set font"
  command from xvile. For longer term use, you will probably want
  to put it in your .Xdefaults file. It will look something like
  this:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">XVile</span>*<span class=
    "ident2">font</span>:<span class=
    "literal">&nbsp;-*-courier-medium-r-*-*-*-*-*-*-*-70-*-*</span><br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>You may also set the font from your .vilerc file. This is not
  recommended, however, as you lose the ability to choose a
  different font from the command line or resource file. It may
  also cause the xvile window to be unnecessarily resized during
  initialization.</p>

  <h2 id="dos-stuff2"><a name="dos-stuff" id="dos-stuff">DOS
  specifics</a></h2>

  <p>The .vilerc file is called vile.rc under DOS.</p>

  <p>vile is perfectly happy (and even tries very hard) to use the
  UNIX-style "forward-slash" ('/') as a path delimiter. Entering
  the "backslash" ('\') will work, but you should be aware that
  vile uses this character as an escape mechanism for entering
  special characters (e.g. "\t" for TAB) in strings. As an example
  setting "tags" to "tags ..\tags" will not have the intended
  result. Instead, use "tags ..\\tags" or better, "tags
  ../tags".</p>

  <p>vile should leave your screen in the mode you're in when you
  enter it, unless you explicitly change it to a different mode
  with a "set sres=" line in your vile.rc, or if you use a command
  line option to change it. Command line options consist of a dash
  followed by one of the following selectors (these are the same
  values that can be assigned to "sres"). These values are
  supported by the DOS (borland.c) terminal driver: "2", "25", "4",
  "43", "5", "50", "6", "60"</p>

  <p>If you shell out in 50 line mode, make sure you are in 50 line
  mode before you exit the dos shell, otherwise you end up with a
  50 line edit window with only the top 25 displayed.</p>

  <p>The vile.rc file can be located in the same directory as your
  binary executable, since vile searches the $PATH for this
  file.</p>

  <p>All file globbing, including from the command line, is done
  using UNIX shell-style wild-carding conventions.</p>

  <p>The expansion of the ':' character in user input, which
  normally expands to the "word under the cursor", is suppressed
  for DOS, due to the conflict with the drive-specifier syntax
  (e.g. "c:\foo"). The character '&amp;' may be used for this
  instead.</p>

  <p>In any version of vile there is a command, "set-dos-mode",
  which will a) strip all carriage-return ('^M') characters from
  the ends of lines in the buffer and b) set the "dos" mode so that
  carriage returns are appended when the file is written. There is
  also a corresponding "set-unix-mode" command, which strips
  carriage returns, and forces "nodos" mode, so that they don't
  come back when you write the file. In both cases, "dos" mode
  becomes a so-called "local" mode, so that the rest of your
  buffers will be unaffected. See also the discussion of <a href=
  "#mode-recordseparator">"recordseparator"</a> mode.</p>

  <h2 id="vms-stuff2"><a name="vms-stuff" id="vms-stuff">VMS
  specifics</a></h2>

  <p>The .vilerc file is called vile.rc under VMS</p>

  <p>Reading from a pipe works; writing to a pipe is not
  implemented.</p>

  <p>As is true for DOS, the expansion of the ':' character in user
  input is not supported due to conflicts with filename syntax
  delimiters. Use '&amp;' instead.</p>

  <h3 id="cdpath2"><a name="cdpath" id="cdpath">Paths</a></h3>

  <p>vile recognizes either VMS- or UNIX-style pathnames and '~' is
  supported as a shortcut for SYS$LOGIN (e.g., :e ~/login.com).
  However, filename completion only works for UNIX-style pathnames,
  since those allow us to implement directory and filenames in the
  same syntax.</p>

  <p>CDPATH directory lists are delimited with a comma and only the
  following components may be included:</p>

  <ul>
    <li>rooted logicals terminated with ':'</li>

    <li>directories terminated with ']'</li>
  </ul>

  <p>Example:</p>
  <pre>
        $ CDPATH :== dev$diska:[home],rooted$build_dir:
</pre>

  <h3 id="vmsvile-options2"><a name="vmsvile-options" id=
  "vmsvile-options">Command-Line Switches</a></h3>

  <p>vile accepts these command-line options in addition to the
  standard ones:</p>

  <table border="1" summary="vmsvile options">
    <colgroup>
      <col width="80px">
      <col width="500px">
    </colgroup>

    <tr>
      <th>Option</th>

      <th>Description</th>
    </tr>

    <tr>
      <td>-80</td>

      <td>force 80-column mode (N/A for VT52 terminals)</td>
    </tr>

    <tr>
      <td>-132</td>

      <td>force 132-column mode (N/A for VT52 terminals)</td>
    </tr>
  </table>

  <h3 id="vmsvile-modes2"><a name="vmsvile-modes" id=
  "vmsvile-modes">Modes</a></h3>

  <table border="1" summary="vmsvile modes">
    <colgroup>
      <col width="80px">
      <col width="500px">
    </colgroup>

    <tr>
      <th>Name</th>

      <th>Description</th>
    </tr>

    <tr>
      <td>allversions</td>

      <td>Show all versions of files in response to filename
      completion or wildcards on the command line. Normally this is
      off. (U)</td>
    </tr>

    <tr>
      <td>flash</td>

      <td>This feature is implemented by setting the screen video
      to reverse color and then normal. If this sequence of changes
      is incompatible with your terminal preferences, avoid this
      mode and use vtflash instead.</td>
    </tr>

    <tr>
      <td>record-format</td>

      <td>Specify format of files that vile writes. If undefined,
      vile will attempt to use the format of an older version of
      the file, or "stmlf" if none exists. (B)</td>
    </tr>

    <tr>
      <td>record-attrs</td>

      <td>Specify record attributes of files that vile writes. If
      undefined, vile will attempt to use the format of an older
      version of the file, or "cr" if none exists. (B)</td>
    </tr>

    <tr>
      <td>record-length</td>

      <td>Maximum record size, used if record-format is "fixed" or
      "vfc". (B)</td>
    </tr>
  </table>

  <h3 id="vmsvile-variables2"><a name="vmsvile-variables" id=
  "vmsvile-variables">Variables</a></h3>

  <table border="1" summary="vmsvile variables">
    <colgroup>
      <col width="80px">
      <col width="500px">
    </colgroup>

    <tr>
      <th>Name</th>

      <th>Description</th>
    </tr>

    <tr>
      <td>$sres</td>

      <td>Switch between 80- and 132-column screen resolutions by
      setting this variable to either NORMAL or WIDE (e.g., :setv
      $sres=wide).</td>
    </tr>
  </table>

  <h3 id="vmsvile-keys2"><a name="vmsvile-keys" id=
  "vmsvile-keys">Default key maps</a></h3>

  <p>With respect to VT100 and later terminal types, the editor
  assumes a vt220 keyboard and maps special keys to their closest
  vile counterpart (e.g., "Remove" mapped to vile's "Delete"). Some
  vt220 keyboard special keys have no obvious counterpart, in which
  case, these mappings apply:</p>
  <pre>
        PF1-PF4  =&gt;  F1-F4,
        Help     =&gt;  F15,
        DO       =&gt;  F16.
</pre>

  <h2 id="win32-stuff2"><a name="win32-stuff" id=
  "win32-stuff">Win32 specifics</a></h2>

  <p>The editor may be invoked/built as a console or GUI
  application. The former is known as vile.exe and the latter as
  winvile.exe . For the remainder of this section of the help file,
  a generic reference to "vile" refers to both the console and GUI
  editor, unless otherwise stated.</p>

  <h3 id="winvile-vs-vile2"><a name="winvile-vs-vile" id=
  "winvile-vs-vile">Heritage</a></h3>

  <p>The Win32 version of vile supports almost all of the features
  and changes listed directly above in the section entitled "DOS
  specifics", with the exception that the editor's screen
  resolution cannot be changed using explicit -43, -50, etc.
  command-line switches or via the sres command.</p>

  <h3 id="winvile-options2"><a name="winvile-options" id=
  "winvile-options">GUI Command-Line Switches</a></h3>

  <p>Winvile accepts these command-line options in addition to the
  standard ones:</p>

  <table border="1" summary="winvile options">
    <colgroup>
      <col width="160px">
      <col width="420px">
    </colgroup>

    <tr>
      <th>Name</th>

      <th>Description</th>
    </tr>

    <tr>
      <td>-fn &lt;fontspec&gt;</td>

      <td>Initial font (or -font). The "Winvile Font" section below
      describes &lt;fontspec&gt; syntax.</td>
    </tr>

    <tr>
      <td>-geometry &lt;C&gt;x&lt;R&gt;</td>

      <td>Initial window dimensions in Columns and Rows (for
      example "-geometry 80x30"). Be aware that the specified
      geometry may not exceed the bounds of the current desktop
      screen. Note also that $pagelen and $pagewid may be used to
      change winvile's dimensions.</td>
    </tr>

    <tr>
      <td>-i</td>

      <td>Check if the remainder of the command-line (after this
      option) is a readable filename which may contain embedded
      blanks. If so, change current directory to match this
      filename. This is used to make shortcuts such as "Send To"
      work nicely.</td>
    </tr>
  </table>

  <h3 id="win32-options2"><a name="win32-options" id=
  "win32-options">Console Command-Line Switches</a></h3>

  <p>Vile accepts these additional command-line options:</p>

  <table border="1" summary="w32vile options">
    <colgroup>
      <col width="160px">
      <col width="420px">
    </colgroup>

    <tr>
      <th>Name</th>

      <th>Description</th>
    </tr>

    <tr>
      <td>-console</td>

      <td>Start editor in a new console environment if stdin is
      redirected (i.e., input is taken from a redirected file or
      from a pipe). If this option is not set when stdin is
      redirected, console mouse features are unavailable (this
      problem is most often encountered on a Windows NT host).</td>
    </tr>
  </table>

  <h3 id="w32pipes2"><a name="w32pipes" id=
  "w32pipes">Pipes</a></h3>

  <p>Internally, vile uses two radically different mechanisms for
  piping data to and from the shell. One mechanism uses temporary
  files and the other simply calls native Win32 services. This
  dichotomy exists because the NT shell (cmd.exe) handles native
  pipes cleanly, but command.com, Microsoft's 16-bit Win9X/WinME
  shell, does not. The mode variable w32pipes determines which
  mechanism is used.</p>

  <p>On WinNT/Win2K hosts, w32pipes is set by default and vile's
  pipe operations are implemented via Win32 services. On
  Win9X/WinME hosts, this mode is disabled by default and the
  editor falls back to temp files. Take note that 32-bit shells
  (e.g., Cygwin's bash, MKS's shell) properly handle native pipe
  operations on Win9X/WinME hosts. In that context, it's
  appropriate and highly desirable to manually enable "w32pipes"
  (e.g., "se w32pipes").</p>

  <table border="1" summary="w32pipes warning">
    <colgroup>
      <col width="580px">
    </colgroup>

    <tr>
      <th><b><em>******* Warning ********</em></b></th>
    </tr>

    <tr>
      <td>If w32pipes is enabled and command.com initiates a pipe
      I/O transaction on behalf of the editor, vile will almost
      certainly hang. See the <a href="#w32shell">"Shell"</a> topic
      below to learn how to specify the editor's default
      shell.</td>
    </tr>
  </table>

  <h3 id="w32cdpath2"><a name="w32cdpath" id=
  "w32cdpath">Paths</a></h3>

  <p>vile recognizes either DOS- or UNIX-style pathnames and '~' is
  supported as a shortcut for $HOME (e.g., :e ~/vile.rc).</p>

  <p>CDPATH directory lists are delimited with a semicolon.</p>

  <h3 id="w32shell2"><a name="w32shell" id=
  "w32shell">Shell</a></h3>

  <p>When a filter, pipe, or explicit shell command requires
  execution of an external process, vile invokes an instance of the
  shell specified in the $COMSPEC environment variable. This
  default may be overridden by setting $shell from within vile.rc .
  Example:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">set-variable</span>&nbsp;<span class=
    "ident2">$shell</span>&nbsp;<span class=
    "literal">'c:\usr\binw\sh.exe'</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>As is true on other hosts, external processes are normally
  started under the control of a shell. To forego the shell
  entirely, prefix the command string with "start ". Example:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">:<span class=
    "keyword2">!start&nbsp;calc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;start&nbsp;the&nbsp;windows&nbsp;calculator</span><br>

    <!--atr2html}}--></p>
  </blockquote>

  <p>Finally, it may be necessary to pass one or more flags to the
  shell invoked via the :sh command (e.g., force execution of a
  special login script). Passing such flag(s) via $shell is not a
  workable solution. Instead, use a macro similar to the following
  that supercedes the builtin :sh command:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "keyword">store-procedure</span><span class=
    "literal">&nbsp;sh</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "comment">;&nbsp;pass&nbsp;-L&nbsp;(login)&nbsp;flag&nbsp;to&nbsp;MKS&nbsp;shell,&nbsp;assumes&nbsp;sh&nbsp;is</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "comment">;&nbsp;reachable&nbsp;from&nbsp;$PATH</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~local</span>&nbsp;<span class=
    "ident2">%sh</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">setv</span>&nbsp;<span class=
    "ident2">%sh</span><span class="keyword2">=</span><span class=
    "literal">"sh&nbsp;-L"</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~if</span>&nbsp;<span class=
    "ident2">&amp;seq</span>&nbsp;<span class=
    "ident2">$progname</span>&nbsp;<span class=
    "literal">"winvile"</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="number">1</span>&nbsp;<span class="keyword">shell-command</span>&nbsp;<span class="ident2">&amp;cat</span>&nbsp;<span class="literal">"start&nbsp;"</span>&nbsp;<span class="ident2">%sh</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~else</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="number">1</span>&nbsp;<span class="keyword">shell-command</span>&nbsp;<span class="ident2">%sh</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "preproc">~endif</span><br>
    <span class="preproc">~endm</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <h3 id="win32-bash2"><a name="win32-bash" id=
  "win32-bash">Cygwin's Bash Versus Console vile</a></h3>

  <p>Using Cygwin's bash as vile's shell works well, with one
  exception. When console vile is invoked from a bash command line,
  typing ^C or Control+Break within the editor causes an immediate
  exit (no data saved). As it turns out, bash's signal handling is
  crafted to work best with other Cygwin programs (ls, wc, etc.)
  and not with native Win32 apps. A simple workaround is as
  follows:</p>

  <ol>
    <li>obtain and install the ash shell, which is included with
    the Cygwin distribution. Note that ash is installed as sh.exe
    .</li>

    <li>edit .bashrc (or equivalent config file) and add this
    function:

      <blockquote>
        <!--{{atr2html-->

        <p style="font-family: monospace;">&nbsp;<span class=
        "keyword">function</span>&nbsp;vile<br>
        &nbsp;<span class="keyword2">{</span><br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sh&nbsp;<span class="literal">&lt;&lt;-&nbsp;ENDIT-</span><span class="literal"><br>

        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vile&nbsp;$@<br>

        &nbsp;ENDIT</span><br>
        &nbsp;<span class="keyword2">}</span><br>
        <!--atr2html}}--></p>
      </blockquote>

      <p>When console vile is subsequently invoked from a bash
      command line, the editor will be started by sh, which does
      not suffer from the problem described above. The only
      drawback with this solution is that $@ splits filenames
      containing embedded spaces.</p>
    </li>
  </ol>

  <h3 id="win32-mouse2"><a name="win32-mouse" id=
  "win32-mouse">Mouse (GUI and Console)</a></h3>

  <p>Selecting and dragging with the left mouse button yanks text
  to the unnamed register. Press a control key during the selection
  to sweep out a rectangular region. Paste the selected text using
  the second (middle) mouse button. Clear a selection by clicking
  on a modeline.</p>

  <p>Resize a window by dragging its modeline up/down.</p>

  <p>Change vile's window focus via left mouse button clicks (when
  multiple windows are displayed).</p>

  <p>Select individual words or lines with a double or triple
  click.</p>

  <p>Note that console vile has <em>zero</em> mouse functionality
  if the parent command prompt window (aka DOS box) is configured
  with QuickEdit Mode enabled. QuickEdit is accessed like so:</p>
  <pre>
        system menu-&gt;Properties-&gt;Options Tab
</pre>

  <h3 id="winvile-mouse2"><a name="winvile-mouse" id=
  "winvile-mouse">Winvile Mouse</a></h3>

  <p>Pressing the right mouse button pops up a menu of editor
  commands. These are predefined:</p>

  <table border="1" summary="winvile right-mouse menu">
    <colgroup>
      <col width="80px">
      <col width="500px">
    </colgroup>

    <tr>
      <th>Menu entry</th>

      <th>Description</th>
    </tr>

    <tr>
      <td>Open</td>

      <td>executes the "winopen" command (described below).</td>
    </tr>

    <tr>
      <td>Save As</td>

      <td>executes the "winsave" command (described below).</td>
    </tr>

    <tr>
      <td>CD</td>

      <td>executes the "wincd" command (described below).</td>
    </tr>

    <tr>
      <td>Favorites</td>

      <td>executes "winopen $favorites", which starts a common open
      dialog box that browses the Windows Favorites folder. This
      feature is especially useful when folder shortcuts are added
      to the Favorites folder via the Windows Explorer's "Add To
      Favorites" feature. Once folder shortcut(s) have been created
      in this manner, winvile's "Favorites" menu provides two-click
      access to the contents of any local or network-based
      folder.</td>
    </tr>

    <tr>
      <td>Font</td>

      <td>described below.</td>
    </tr>

    <tr>
      <td>Menu</td>

      <td>disables the popup menu and instead transforms the right
      mouse button into a hot key that copies the contents of the
      unnamed register to the clipboard. When the popup menu is
      disabled, selection with the left mouse, followed by a right
      mouse click, provides a quick means of copying highlighted
      blocks of text to the clipboard.</td>
    </tr>

    <tr>
      <td>Undo</td>

      <td>Bound to undo-changes-backward.</td>
    </tr>

    <tr>
      <td>Redo</td>

      <td>Bound to redo-changes-forward.</td>
    </tr>

    <tr>
      <td>Cut</td>

      <td>deletes current text selection into unnamed register and
      copies same to clipboard.</td>
    </tr>

    <tr>
      <td>Copy</td>

      <td>copies the current text selection to both the unnamed
      register and the clipboard.</td>
    </tr>

    <tr>
      <td>Paste</td>

      <td>pastes clipboard contents (if text) into current
      buffer.</td>
    </tr>

    <tr>
      <td>Delete</td>

      <td>deletes current text selection into unnamed
      register.</td>
    </tr>

    <tr>
      <td>Select All</td>

      <td>selects all text in the current buffer.</td>
    </tr>
  </table>

  <p>The first six popup menu entries are added to the system menu
  (in the upper left corner of the window). The system menu also
  includes:</p>

  <ul>
    <li>two selections that support the traditional Windows
    printing interface.</li>

    <li>a "Recent Files" menu that lists the last N files
    opened/created by the editor. Any file selected from this list
    is immediately opened for editing. This feature is disabled by
    default, but can be configured via the "recent-files"
    mode.</li>

    <li>a "Recent Folders" menu that lists the last N folders
    visited via an explicit or implicit cd. Selecting a folder from
    this list is equivalent to executing ":cd &lt;foldername&gt;".
    This feature is disabled by default, but can be configured via
    the "recent-folders" mode.</li>

    <li>a "Menu" command that disables/re-enables the
    aforementioned popup menu.</li>
  </ul>

  <h3 id="winvile-clipboard2"><a name="winvile-clipboard" id=
  "winvile-clipboard">Clipboard</a></h3>

  <p>There are several ways to copy to/from the clipboard:</p>

  <ul>
    <li>Copy data from the unnamed register to the windows
    clipboard via the copy-unnamed-reg-to-clipboard command (bound
    to Alt+Insert).</li>

    <li>Copy data from a named register or region to the clipboard
    (a la vile's ^W operator) via the copy-to-clipboard-til command
    (bound to Ctrl+Insert).</li>

    <li>The paste-from-clipboard command copies data from the
    clipboard to the current buffer (bound to Shift+Insert).</li>

    <li>Finally, the cut-to-clipboard command deletes the current
    text selection and copies same to both the clipboard and the
    unnamed register (bound to Shift+Delete).</li>
  </ul>

  <p>Some examples, assuming &lt;CI&gt; =&gt; Ctrl+Insert and
  &lt;AI&gt; =&gt; Alt+Insert:</p>
  <pre>
        4yy&lt;AI&gt;  ;copy 4 lines from unnamed reg to clipboard
        "a&lt;CI&gt;   ;copy register 'a' to clipboard
        "b&lt;CI&gt;   ;copy register 'b' to clipboard
        &lt;CI&gt;3w   ;copy 3 words to clipboard
</pre>

  <p>The swap-clipboard-keys command swaps the commands bound to
  Ctrl+Insert and Alt+Insert.</p>

  <h3 id="winvile-ole2"><a name="winvile-ole" id="winvile-ole">OLE
  Automation</a></h3>

  <p>Winvile may be invoked as an OLE automation server and
  thereafter controlled by an OLE client. Refer to the file
  <a href="oleauto.html">doc/oleauto.doc</a> for further details.
  Additionally, the OLE client "visvile.dll" provides a mechanism
  for substituting winvile as the default Developer Studio editor.
  Refer to the file <a href="visvile.html">doc/visvile.doc</a> for
  detailed information.</p>

  <h3 id="ole-font2"><a name="ole-font" id="ole-font">Winvile
  Font</a></h3>

  <p>Winvile's font may be set via a command-line switch or from
  within the editor by modifying the built-in $font state variable.
  In either case, a &lt;fontspec&gt; string describes the desired
  font, where:</p>
  <pre>
        &lt;fontspec&gt;  :== [&lt;face&gt;,]&lt;size&gt;[,&lt;style&gt;]
        &lt;face&gt;      :== font-name
        &lt;size&gt;      :== point size (as an integer)
        &lt;style&gt;     :== { bold | italic | bold-italic }
</pre>

  <p>Note 1: if &lt;style&gt; is unspecified, "normal" is
  assumed.</p>

  <p>Note 2: if &lt;face&gt; contains a comma, escape it with
  '\'.</p>

  <p>Note 3: if &lt;face&gt; is omitted, the current font is
  modified.</p>

  <p>Note 4: if &lt;face&gt; contains spaces and the font is set
  from the command-line, delimit &lt;fontspec&gt; as appropriate
  for the current shell/desktop environment.</p>

  <p>Note 5: &lt;face&gt; must be fixed pitch. To obtain a list of
  all fixed pitch fonts on the current win32 host, invoke winvile
  and browse the "Font" dialog box accessible from the system menu
  (accelerator key is ALT+&lt;space bar&gt;+f).</p>
  <pre>
        Cmdline Examples                Internal Examples
        ****************                *****************
        -fn 'Letter Gothic,8'           :setv $font r_ansi,7
        -font r_ansi,8,bold             :setv $font 8

        Vile.rc Example
        ***************
</pre>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;"><span class=
    "preproc">~if</span>&nbsp;<span class=
    "ident2">&amp;sequal</span>&nbsp;<span class=
    "ident2">$progname</span>&nbsp;<span class=
    "literal">"winvile"</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">set-variable</span>&nbsp;<span class=
    "ident2">$font</span>&nbsp;<span class=
    "literal">"courier&nbsp;new,8"</span><br>
    <span class="preproc">~endif</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <h3 id="winvile-perl2"><a name="winvile-perl" id=
  "winvile-perl">Perl with Winvile</a></h3>

  <p>At the user's discretion, vile may be built with an embedded
  perl interpreter. To date, only the perl distribution at the
  following URL is supported:</p>
  <pre>
        <a href=
"http://www.perl.com/CPAN-local/ports/win32/Standard/x86/">http://www.perl.com/CPAN-local/ports/win32/Standard/x86/</a>
</pre>

  <p>If you acquire (i.e., do not personally build) a copy of
  "perl-embedded" vile, these external configuration steps are
  necessary:</p>

  <ol>
    <li>Obtain a complete perl distribution[*] from the
    aforementioned URL and install it. Included in this
    distribution, among many other items, is a required DLL and the
    usual perl packages.</li>

    <li>[Optional] To invoke vile-based perl scripts distributed
    with the editor, create an exported environment variable called
    VILE_LIBDIR_PATH that specifies a directory of your choice.
    Then create a subdirectory called %VILE_LIBDIR_PATH%\perl and
    copy the scripts to same. The list of scripts known to work in
    a Win32 environment includes:
      <pre>
        hgrep.pm Glob2re.pm Visit.pm search.pm
</pre>
    </li>
  </ol>

  <p>[*] Choose either a precompiled version of perl or build it
  yourself from source. In this context, a "complete" distribution
  includes the perl interpreter and all "standard" modules and
  libraries.</p>

  <h3 id="winvile-commands2"><a name="winvile-commands" id=
  "winvile-commands">Winvile Commands</a></h3>

  <dl>
    <dt>delete-text-selection</dt>

    <dd>Delete the current text selection to the unnamed register.
    Bound to Alt+Delete.</dd>

    <dt>purge-recent-files</dt>

    <dd>Clear the list of files that appear in winvile's "Recent
    Files" menu.</dd>

    <dt>purge-recent-folders</dt>

    <dd>Clear the list of folders that appear in winvile's "Recent
    Folders" menu.</dd>

    <dt>reset-rgb-palette</dt>

    <dd>Set red/green/blue values to their initial state. If you
    give a parameter, this is used to specify a single color
    number.</dd>

    <dt>set-rgb-palette</dt>

    <dd>
      Set red/green/blue values for the specified color. Values
      range from 0-255. Example:
      <pre>
        set-rgb-palette red 200 0 0
</pre>
    </dd>

    <dt>swap-clipboard-keys</dt>

    <dd>See discussion of <a href=
    "#winvile-clipboard">clipboard</a> above.</dd>

    <dt>wincd [dir]</dt>

    <dd>Launches a standard Windows "Browse Folder" control for the
    purpose of graphically specifying a new working directory. The
    optional "dir" argument specifies the initial browse directory
    (default is current working directory).</dd>

    <dt>winopen [dir]</dt>

    <dd>Launches the Windows common open dialog box to open one or
    more files within the editor. The optional "dir" argument
    specifies the initial browse directory (default is current
    working directory). Note that if this dialog box opens files
    outside the editor's cwd, then Windows (and vile) implicitly
    change the cwd to match that of the opened files. This command
    <i>is</i> available from console vile.</dd>

    <dt>winopen-nocd [dir]</dt>

    <dd>Same as "winopen", except the editor's cwd remains
    unchanged.</dd>

    <dt>winpage-setup</dt>

    <dd>launch Windows common page setup dialog (winvile only). Use
    this command to set page attributes before invoking
    winprint.</dd>

    <dt>winprint</dt>

    <dd>print current buffer or text selection (winvile only). Note
    that neither color nor display attributes are rendered at this
    time.</dd>

    <dt>winsave [dir]</dt>

    <dd>Launches the Windows common save dialog box to save the
    current buffer in a file of the user's choice. The optional
    "dir" argument specifies the initial browse directory (default
    is cwd). Note that if this dialog box saves a file outside the
    editor's cwd, then Windows (and vile) implicitly change the cwd
    to match that of the saved file. This command <i>is</i>
    available from console vile.</dd>

    <dt>winsave-nocd [dir]</dt>

    <dd>Same as "winsave", except the editor's cwd remains
    unchanged.</dd>
  </dl>

  <h3 id="winvile-modes2"><a name="winvile-modes" id=
  "winvile-modes">Modes</a></h3>

  <dl>
    <dt>echo-to-clipboard</dt>

    <dd>all text selected with the mouse is automatically copied to
    the Windows clipboard. (U)</dd>

    <dt>icursor</dt>

    <dd>
      denotes a string that configures the characteristics of an
      insertion cursor.

      <p>With respect to console vile, this string either specifies
      a fixed, block cursor height or else sets the block cursor
      heights in the editor's insertion and command modes. Argument
      syntax:</p>

      <p>"&lt;fixed_block_height&gt;" or
      "&lt;insmode_height&gt;,&lt;cmdmode_height&gt;"</p>

      <p>The valid range of &lt;fixed_block_cursor_height&gt; is
      0-100 (%). Specifying 0 reverts to the cursor height in
      effect at editor invocation. The valid range of
      &lt;insmode_height&gt; and &lt;cmdmode_height&gt; is
      1-100.</p>

      <p>With respect to winvile, this string specifies an integer
      in the range 0-2, which selects one of the following
      styles:</p>
      <pre>
        0 -&gt; fixed block cursor
        1 -&gt; cmd mode = block cursor
            ins mode = vertical bar
        2 -&gt; cmd mode = vertical bar
            ins mode = block cursor (U)
</pre>
    </dd>

    <dt>popup-menu</dt>

    <dd>Enables/disables the winvile popup menu. (U)</dd>

    <dt>recent-files</dt>

    <dd>Specify maximum number of files that may appear in
    winvile's "Recent Files" menu. Range is 0-20; a value of 0
    disables this menu. (U)</dd>

    <dt>recent-folders</dt>

    <dd>Specify maximum number of folders that may appear in
    winvile's "Recent Folders" menu. Range is 0-20; a value of 0
    disables this menu. (U)</dd>

    <dt>scroll-pause</dt>

    <dd>An integer indicating the time in milliseconds to wait
    after scrolling the display. A value of zero, the default,
    disables this mode. This mode is necessary when rapid scrolling
    operations cause improper screen refresh by the console editor
    (should only be a problem with inexpensive video HW). Typical
    values, if required, are 20-80 (msec). (U)</dd>

    <dt>w32pipes</dt>

    <dd>See discussion of <a href="#w32pipes">pipes</a> above.
    (U)</dd>
  </dl>

  <h3 id="winvile-and-vile2"><a name="winvile-and-vile" id=
  "winvile-and-vile">Configuring both editors</a></h3>

  <p>Some vile commands and modes apply only to winvile and some
  only to console vile. If you plan to run both winvile and console
  vile in the context of a single startup file, you'll need to
  include code similar to this in vile.rc:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">&nbsp;&nbsp;<span class=
    "preproc">~if</span>&nbsp;<span class=
    "ident2">&amp;sequal</span>&nbsp;<span class=
    "ident2">$progname</span>&nbsp;<span class=
    "literal">"winvile"</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">set-variable</span>&nbsp;<span class="ident2">$font</span>&nbsp;<span class="literal">"r_ansi,8"</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">setv</span>&nbsp;<span class="ident2">$pagelen</span><span class="keyword2">=</span><span class="number">39</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">set</span>&nbsp;icursor<span class="keyword2">=</span><span class="literal">"1"</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;etc</span><br>

    &nbsp;&nbsp;<span class="preproc">~else</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">set</span>&nbsp;icursor<span class="keyword2">=</span><span class="literal">"35,100"</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;etc</span><br>

    &nbsp;&nbsp;<span class="preproc">~endif</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <h2 id="not-vi2"><a name="not-vi" id="not-vi">Differences from
  vi</a></h2>

  <p>Of course, this really isn't vi. Some of the following
  differences deserve changing, others do not.</p>

  <p>The parser for the ':' commands is not very vi-like. For
  instance, ":e" will prompt you for a file name. Most commands
  remember their last argument, and will present it as the default
  reply to their prompt.</p>

  <p>The backspace, line kill, word kill, job control, etc.
  characters are not rebindable. They are, however, read from the
  tty settings on startup.</p>

  <p>There is no expansion of ! in filenames. It is expanded in
  shell escapes, so the command ":!!" does rerun the previous shell
  command. Occurrences of '#' and '%' are recognized and expanded
  to the previous or current filename.</p>

  <p>Paragraph and section boundaries, for the {, }, [, and ]
  commands are configurable, but may not exactly match those in vi.
  They are expressed via regular expressions. The default regular
  expressions are quite complex, to support the traditional nroff
  and troff boundaries. If you are just editing code, you may want
  to replace them:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">&nbsp;&nbsp;<span class=
    "comment">;&nbsp;set&nbsp;paragraph&nbsp;and&nbsp;section&nbsp;r.e.s&nbsp;for&nbsp;speed&nbsp;on&nbsp;C/C++/perl&nbsp;code.</span><br>

    &nbsp;&nbsp;<span class="keyword">set</span>&nbsp;<span class=
    "keyword">paragraphs</span><span class=
    "keyword2">=</span><span class="literal">^$</span><br>
    &nbsp;&nbsp;<span class="keyword">set</span>&nbsp;<span class=
    "keyword">sections</span><span class=
    "keyword2">=</span><span class="literal">^[</span>{<span class=
    "literal">^L</span>]<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>There is no special lisp support. But then, when was the last
  time you heard of a lisp programmer that used vi?</p>

  <p>Of course, ex and open mode aren't there. (Too bad. I'd love
  to have a companion editor called "exile".)</p>

  <p>Most, but not all, of the word-motion-with-operator and
  end-of-line anomalies have been recreated. One missing anomaly:
  In vile, "dw" on the last word of a line ending in whitespace
  deletes the trailing whitespace. vi does not delete the
  whitespace.</p>

  <p>In the real vi, the '_' command is a little-used motion
  command, which moves the cursor to the start of the Nth next
  line, where N is the argument given, less 1. So '2_' takes you to
  the start of the next line. Primarily intended for use in an
  operator context, as in "2d_", it is always exactly equivalent in
  those cases to "stuttering" the operator, as in "2dd". Most
  people know about and use the stuttered form, so in vile, the '_'
  command is used by default for buffer history. If the regular vi
  behavior is desired, put the following in the .vilerc file:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">&nbsp;&nbsp;<span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">whole-lines</span>&nbsp;<span class=
    "keyword">_</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <h2 id="sample-vilerc2"><a name="sample-vilerc" id=
  "sample-vilerc">Sample .vilerc</a></h2>

  <p>Here's a sample .vilerc, to help get you started with the
  syntax and style of vile macros:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">&nbsp;&nbsp;<span class=
    "keyword">source</span><span class=
    "literal">&nbsp;vileinit.rc</span><br>
    &nbsp;&nbsp;<span class="keyword">set</span>&nbsp;<span class=
    "keyword">autoindent</span><br>
    &nbsp;&nbsp;<span class="keyword">set</span>&nbsp;<span class=
    "keyword">fillcol</span>&nbsp;<span class=
    "number">75</span><br>
    &nbsp;<br>
    &nbsp;&nbsp;<span class=
    "comment">;&nbsp;sitting&nbsp;on&nbsp;a&nbsp;brace,&nbsp;run&nbsp;the&nbsp;C&nbsp;code&nbsp;block&nbsp;through&nbsp;indent</span><br>

    &nbsp;&nbsp;<span class="number">1</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">write-file</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">filter-til</span>&nbsp;<span class="keyword">goto-matching-fence</span>&nbsp;<span class="literal">"indent&nbsp;-st"</span><br>

    &nbsp;&nbsp;<span class="preproc">~endm</span><br>
    &nbsp;<br>
    &nbsp;&nbsp;<span class=
    "comment">;&nbsp;format&nbsp;the&nbsp;current&nbsp;paragraph</span><br>

    &nbsp;&nbsp;<span class="number">2</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">previous-paragraph</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">filter-til</span>&nbsp;<span class="keyword">next-paragraph</span>&nbsp;<span class="literal">"/usr/ucb/fmt"</span><br>

    &nbsp;&nbsp;<span class="preproc">~endm</span><br>
    &nbsp;<br>
    &nbsp;&nbsp;<span class=
    "comment">;&nbsp;put&nbsp;'fprintf(stderr,"\n");'&nbsp;into&nbsp;the&nbsp;file,&nbsp;and</span><br>

    &nbsp;&nbsp;<span class=
    "comment">;&nbsp;position&nbsp;the&nbsp;cursor&nbsp;to&nbsp;add&nbsp;to&nbsp;the&nbsp;string</span><br>

    &nbsp;&nbsp;<span class="number">3</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~force</span>&nbsp;<span class="keyword">next-line</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">beginning-of-line</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">insert-string</span>&nbsp;<span class="literal">"fprintf(stderr,&nbsp;\"\\n\");\n"</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;six&nbsp;back,&nbsp;because&nbsp;it&nbsp;counts&nbsp;the&nbsp;newline</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="number">6</span>&nbsp;<span class="keyword">backward-character</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">insert-chars</span><br>

    &nbsp;&nbsp;<span class="preproc">~endm</span><br>
    &nbsp;<br>
    &nbsp;&nbsp;<span class=
    "comment">;&nbsp;insert&nbsp;'&gt;&nbsp;'&nbsp;in&nbsp;front&nbsp;of&nbsp;every&nbsp;line&nbsp;from&nbsp;here&nbsp;til&nbsp;the&nbsp;end</span><br>

    &nbsp;&nbsp;<span class=
    "comment">;&nbsp;(this&nbsp;works&nbsp;because&nbsp;without&nbsp;argument,&nbsp;the&nbsp;default&nbsp;action</span><br>

    &nbsp;&nbsp;<span class=
    "comment">;&nbsp;for&nbsp;"goto-line"&nbsp;is&nbsp;to&nbsp;go&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;file.</span><br>

    &nbsp;&nbsp;<span class="number">4</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">substitute-til</span>&nbsp;<span class="keyword">goto-line</span>&nbsp;<span class="literal">"^"</span>&nbsp;<span class="literal">"&gt;&nbsp;"</span><br>

    &nbsp;&nbsp;<span class="preproc">~endm</span><br>
    &nbsp;<br>
    &nbsp;&nbsp;<span class=
    "comment">;&nbsp;spelling&nbsp;keystroke:&nbsp;write&nbsp;the&nbsp;buffer,&nbsp;invoke&nbsp;ispell,&nbsp;and&nbsp;force</span><br>

    &nbsp;&nbsp;<span class=
    "comment">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;to&nbsp;be&nbsp;read&nbsp;back&nbsp;in.</span><br>

    &nbsp;&nbsp;<span class="number">2</span>&nbsp;<span class=
    "keyword">store-macro</span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="preproc">~local</span>&nbsp;<span class="ident2">$warn-reread</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">write-file</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;suppress&nbsp;"press&nbsp;return"&nbsp;with&nbsp;"1"&nbsp;argument&nbsp;to&nbsp;shell-command</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="number">1</span>&nbsp;<span class="keyword">shell-command</span>&nbsp;<span class="ident2">&amp;cat</span>&nbsp;<span class="literal">"ispell&nbsp;"</span>&nbsp;<span class="ident2">$cfilname</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">;&nbsp;suppress&nbsp;reread&nbsp;warning</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">set</span>&nbsp;<span class="keyword">nowarn-reread</span><br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">replace-with-file</span><span class="literal">&nbsp;$cfilname</span><br>

    &nbsp;&nbsp;<span class="preproc">~endm</span><br>
    &nbsp;&nbsp;<span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-macro-2</span>&nbsp;<span class=
    "literal">#I</span><br>
    &nbsp;<br>
    &nbsp;&nbsp;<span class=
    "comment">;&nbsp;the&nbsp;next&nbsp;three&nbsp;give&nbsp;more&nbsp;mnemonic&nbsp;window&nbsp;commands</span><br>

    &nbsp;&nbsp;<span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">next-window</span>&nbsp;<span class=
    "literal">^N</span><br>
    &nbsp;&nbsp;<span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">previous-window</span>&nbsp;<span class=
    "literal">^P</span><br>
    &nbsp;&nbsp;<span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">split-current-window</span>&nbsp;<span class=
    "literal">^T</span><br>
    &nbsp;<br>
    &nbsp;&nbsp;<span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-macro-1</span>&nbsp;<span class=
    "literal">^A-C</span><br>
    &nbsp;&nbsp;<span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-macro-2</span>&nbsp;<span class=
    "literal">^A-F</span><br>
    &nbsp;&nbsp;<span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-macro-3</span>&nbsp;<span class=
    "literal">^A-K</span><br>
    &nbsp;&nbsp;<span class=
    "keyword">bind-key</span>&nbsp;<span class=
    "keyword">execute-macro-4</span>&nbsp;<span class=
    "literal">^A-M</span><br>
    <!--atr2html}}--></p>
  </blockquote>

  <h2 id="term-scrolling2"><a name="term-scrolling" id=
  "term-scrolling">Notes on TERM types and Scrolling</a></h2>

  <p>vile will determine the window size in one of three ways:
  first it will ask the tty driver (using a TIOCGWINSZ ioctl call
  under UNIX). Failing that, it will use the LINES and COLUMNS
  environment variables. As a last resort it will use the size
  specified in the TERMCAP entry corresponding to the TERM
  variable. In addition, vile will attempt to support the SIGWINCH
  signal, which allows it to track changes to the size of the
  window in which it is running.</p>

  <p>If scrolling is really slow, or really ugly (the status line
  hops around a lot), and you're using a vt102 or compatible
  terminal that you think should be able to scroll okay, then the
  problem is almost certainly your termcap entry, which probably
  doesn't describe scrolling regions adequately. Most standard
  termcap entries are insufficient. The standard "xterm" entry on
  many systems falls into this category, and vile contains code
  that, as a special case, will augment an "xterm" entry with the
  codes needed for scrolling regions.</p>

  <p>In any case, here's a termcap entry that should work:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">dy<span class=
    "literal">|</span>vt102<span class=
    "literal">|</span>vt-102<span class=
    "literal">|</span><span class=
    "comment">dec&nbsp;vt102</span>:\<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<span class=
    "keyword">do</span>=<span class=
    "literal">^J</span>:<span class="keyword">co</span>#<span class="number">80</span>:<span class="keyword">li</span>#<span class="number">24</span>:<span class="keyword">cl</span>=<span class="literal">50\E[;H\E[2J</span>:\<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<span class=
    "keyword">le</span>=<span class=
    "literal">^H</span>:<span class="keyword2">bs</span>:<span class="keyword">cm</span>=<span class="literal">5\E[%i%d;%dH</span>:<span class="keyword">nd</span>=<span class="literal">2\E[C</span>:<span class="keyword">up</span>=<span class="literal">2\E[A</span>:\<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<span class=
    "keyword">ce</span>=<span class=
    "literal">3\E[K</span>:<span class=
    "keyword">cd</span>=<span class=
    "literal">50\E[J</span>:<span class=
    "keyword">so</span>=<span class=
    "literal">2\E[7m</span>:<span class=
    "keyword">se</span>=<span class=
    "literal">2\E[m</span>:<span class=
    "keyword">us</span>=<span class=
    "literal">2\E[4m</span>:<span class=
    "keyword">ue</span>=<span class="literal">2\E[m</span>:\<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<span class=
    "keyword">md</span>=<span class=
    "literal">2\E[1m</span>:<span class=
    "keyword">mr</span>=<span class=
    "literal">2\E[7m</span>:<span class=
    "keyword">mb</span>=<span class=
    "literal">2\E[5m</span>:<span class=
    "keyword">me</span>=<span class=
    "literal">2\E[m</span>:<span class=
    "keyword">is</span>=<span class=
    "literal">\E[1;24r\E[24;1H</span>:\<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<span class=
    "keyword2">rs</span>=<span class=
    "literal">\E&gt;\E[?3l\E[?4l\E[?5l\E[?7h\E[?8h</span>:<span class="keyword">ks</span>=<span class="literal">\E[?1h\E=</span>:<span class="keyword">ke</span>=<span class="literal">\E[?1l\E&gt;</span>:\<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<span class=
    "keyword">ku</span>=<span class=
    "literal">\EOA</span>:<span class=
    "keyword">kd</span>=<span class=
    "literal">\EOB</span>:<span class=
    "keyword">kr</span>=<span class=
    "literal">\EOC</span>:<span class=
    "keyword">kl</span>=<span class=
    "literal">\EOD</span>:<span class=
    "keyword">kb</span>=<span class="literal">^H</span>:\<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<span class=
    "keyword">ho</span>=<span class=
    "literal">\E[H</span>:<span class=
    "keyword">k1</span>=<span class=
    "literal">\EOP</span>:<span class=
    "keyword">k2</span>=<span class=
    "literal">\EOQ</span>:<span class=
    "keyword">k3</span>=<span class=
    "literal">\EOR</span>:<span class=
    "keyword">k4</span>=<span class=
    "literal">\EOS</span>:<span class=
    "keyword2">pt</span>:<span class=
    "keyword">sr</span>=<span class=
    "literal">5\EM</span>:<span class=
    "keyword">vt</span>#<span class="number">3</span>:\<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<span class=
    "keyword">sc</span>=<span class=
    "literal">\E7</span>:<span class=
    "keyword">rc</span>=<span class=
    "literal">\E8</span>:<span class=
    "keyword">cs</span>=<span class=
    "literal">\E[%i%d;%dr</span>:<span class=
    "keyword">vs</span>=<span class=
    "literal">\E[?7l</span>:<span class=
    "keyword">ve</span>=<span class="literal">\E[?7h</span>:<br>
    <!--atr2html}}--></p>
  </blockquote>

  <p>The crucial entries are cs and sr &ndash; without both of
  them, vile will attempt to use dl and al, and will scroll by
  deleting and inserting a block of lines, giving the ugly behavior
  you're probably seeing. If you define PRETTIER_SCROLL when
  building vile, it will alternately delete and insert lines,
  instead of deleting them all and then inserting them all. This
  makes it look a <i>little</i> better, but it's slower.</p>

  <p>Here is the terminfo entry equivalent to the above termcap
  entry:</p>

  <blockquote>
    <!--{{atr2html-->

    <p style="font-family: monospace;">vt102<span class=
    "literal">|</span>vt-102<span class=
    "literal">|</span><span class=
    "comment">dec&nbsp;vt102</span>,<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">xon</span>,<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">cols</span>#<span class=
    "number">80</span>,&nbsp;<span class=
    "keyword">lines</span>#<span class=
    "number">24</span>,&nbsp;<span class=
    "keyword">vt</span>#<span class="number">3</span>,<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">bel</span>=<span class=
    "literal">^G</span>,&nbsp;<span class=
    "keyword">blink</span>=<span class=
    "literal">\E[5m$&lt;2&gt;</span>,&nbsp;<span class=
    "keyword">bold</span>=<span class=
    "literal">\E[1m$&lt;2&gt;</span>,<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">clear</span>=<span class=
    "literal">\E[;H\E[2J$&lt;50&gt;</span>,&nbsp;<span class=
    "keyword">cnorm</span>=<span class=
    "literal">\E[?7h</span>,&nbsp;<span class=
    "keyword">cr</span>=<span class="literal">\r</span>,<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">csr</span>=<span class=
    "literal">\E[%i%p1%d;%p2%dr</span>,&nbsp;<span class=
    "keyword">cub1</span>=<span class=
    "literal">\b</span>,&nbsp;<span class=
    "keyword">cud1</span>=<span class="literal">\n</span>,<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">cuf1</span>=<span class=
    "literal">\E[C$&lt;2&gt;</span>,&nbsp;<span class=
    "keyword">cup</span>=<span class=
    "literal">\E[%i%p1%d;%p2%dH$&lt;5&gt;</span>,<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">cuu1</span>=<span class=
    "literal">\E[A$&lt;2&gt;</span>,&nbsp;<span class=
    "keyword">cvvis</span>=<span class=
    "literal">\E[?7l</span>,&nbsp;<span class=
    "keyword">ed</span>=<span class=
    "literal">\E[J$&lt;50&gt;</span>,<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">el</span>=<span class=
    "literal">\E[K$&lt;3&gt;</span>,&nbsp;<span class=
    "keyword">home</span>=<span class=
    "literal">\E[H</span>,&nbsp;<span class=
    "keyword">ht</span>=<span class=
    "literal">\t</span>,&nbsp;<span class=
    "keyword">ind</span>=<span class="literal">\n</span>,<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">is2</span>=<span class=
    "literal">\E[1;24r\E[24;1H</span>,&nbsp;<span class=
    "keyword">kbs</span>=<span class=
    "literal">\b</span>,&nbsp;<span class=
    "keyword">kcub1</span>=<span class=
    "literal">\EOD</span>,&nbsp;<span class=
    "keyword">kcud1</span>=<span class="literal">\EOB</span>,<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">kcuf1</span>=<span class=
    "literal">\EOC</span>,&nbsp;<span class=
    "keyword">kcuu1</span>=<span class=
    "literal">\EOA</span>,&nbsp;<span class=
    "keyword">kf1</span>=<span class=
    "literal">\EOP</span>,&nbsp;<span class=
    "keyword">kf2</span>=<span class=
    "literal">\EOQ</span>,&nbsp;<span class=
    "keyword">kf3</span>=<span class="literal">\EOR</span>,<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">kf4</span>=<span class=
    "literal">\EOS</span>,&nbsp;<span class=
    "keyword">rc</span>=<span class=
    "literal">\E8</span>,&nbsp;<span class=
    "keyword">rev</span>=<span class=
    "literal">\E[7m$&lt;2&gt;</span>,&nbsp;<span class=
    "keyword">ri</span>=<span class=
    "literal">\EM$&lt;5&gt;</span>,<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">rmkx</span>=<span class=
    "literal">\E[?1l\E&gt;</span>,&nbsp;<span class=
    "keyword">rmso</span>=<span class=
    "literal">\E[m$&lt;2&gt;</span>,&nbsp;<span class=
    "keyword">rmul</span>=<span class=
    "literal">\E[m$&lt;2&gt;</span>,<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">rs2</span>=<span class=
    "literal">\E&gt;\E[?3l\E[?4l\E[?5l\E[?7h\E[?8h</span>,&nbsp;<span class="keyword">sc</span>=<span class="literal">\E7</span>,<br>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">sgr0</span>=<span class=
    "literal">\E[m$&lt;2&gt;</span>,&nbsp;<span class=
    "keyword">smkx</span>=<span class=
    "literal">\E[?1h\E=</span>,&nbsp;<span class=
    "keyword">smso</span>=<span class=
    "literal">\E[7m$&lt;2&gt;</span>,<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=
    "keyword">smul</span>=<span class=
    "literal">\E[4m$&lt;2&gt;</span>,<br>
    <!--atr2html}}--></p>
  </blockquote>

  <h2 id="credits2"><a name="credits" id="credits">Credits</a></h2>

  <p>(last updated Jan, 2000)</p>

  <p>Since version 6.1, Tom Dickey has been maintaining the
  "official" source tree, and release responsibilities. Paul Fox
  maintains the mailing lists.</p>

  <p>This code has been written by a <i>lot</i> of people, with
  help from a lot more sending in bug reports, fixes, and
  suggestions. The authors of vile are Tom Dickey
  (dickey@invisible-island.net) and Kevin Buettner
  (kevin@buettner.to) and Paul Fox (pgf@foxharp.boston.ma.us).</p>

  <p>Names appearing within comments in the micro-Emacs source code
  are: Dave Conroy, Daniel Lawrence, John Gamble, Roger Ove, Dana
  Hoggatt, Jon Reid, Steve Wilhite, George Jones, Adam Fritz,
  D.R.Banks, Bob McNamara, and Brian Straight. Dan Lawrence, in
  particular, did a huge amount of work on the code on which vile
  is based. vile re-implements and extends many features inspired
  by his work.</p>

  <p>Throughout the years, Tom Dickey has contributed many code
  improvements and features, and has stabilized vile on both VMS
  and DOS. After taking over official maintenance duties, Tom coded
  winvile, added majormodes, added 16-color support, and
  implemented the majority of the current syntax coloring
  infrastructure. On an ongoing basis, Tom continues to fix bugs
  and provide the drive and energy that pushes out one release of
  the editor after another&ndash;no small feat for a product that's
  supported on multiple hosts.</p>

  <p>Kevin Buettner has contributed lots of changes for X11 Toolkit
  support, as well as the bulk of the selection and video attribute
  mechanisms, and the bulk of the :map command. Kevin also added
  autocoloring and a Perl interface to the editor. Rick Sladkey has
  done great stuff making vile work correctly in Win32
  environments, something I might not have done for a long time.
  Some of the "ex" code is by Steve Kirkendall, author of the vi
  work-alike "elvis". The regular expression code and documentation
  is by Henry Spencer. Dave Lemke contributed code for new
  features, including the original native X11 support. Eric Krohn
  has done some excellent testing and enhancement. The
  implementation of rectangles and their operations was inspired by
  code from the 'notgnu' editor, by Julie Melbin. Patches to
  support OS/2 came from Charles Moschel and for Windows/NT from
  Joe Greer and Clark Morgan. Ed Henderson gave us wvwrap, as well
  as several other useful patches. Chris Coppick created Vileserv.
  Alex Wetmore contributed stored procedures and vile's initial
  btree interface (the latter later rewritten by Tom). Brendan
  O'Dea closely monitors the Perl API, as well as contributing Perl
  updates. Brendan also added the machinery for binding vile
  commands to Perl subroutines. Better still, he also found a way
  to bind operators and motions to same. Kuntal Daftary added
  several Perl modules. Clark Morgan and Greg McFarlane seem to run
  full regression tests on each new release, and always seem to
  find something to report. In addition, Clark regularly updates
  and corrects the documention left as an afterthought by the rest
  of us. Sean Ahern is also always dependable for finding a bug or
  two per release. The reference.doc file supplied with Bram
  Moolenaar's excellent Vim editor was useful in unraveling some of
  the less obvious parts of :map functionality. In addition, his
  implementation of digraph insertion was used directly in the
  creation of digraphs.rc. Thanks to Jukka Keto for contributing
  the c-filt.c code, which served as the precursor for vile's
  current syntax coloring implementation.</p>

  <p>The initial changes to create vile from micro-Emacs were all
  done by Paul Fox (pgf@foxharp.boston.ma.us). (By the way, he is
  not the Paul D. Fox that wrote the Crisp editor.)</p>

  <p>&ndash; Paul Fox</p>

  <h2 id="getting-vile2"><a name="getting-vile" id=
  "getting-vile">Where to Get It</a></h2>

  <p>vile's homepage is<br>
  <a href=
  "http://invisible-island.net/vile/">http://invisible-island.net/vile/</a></p>

  <p>Up-to-date copies of vile, including executables for DOS,
  Win32 and OS/2 are found at<br></p>

  <ul>
    <li><a href=
    "ftp://invisible-island.net/vile/">ftp://invisible-island.net/vile/</a></li>
  </ul>

  <p>which is mirrored at<br></p>

  <ul>
    <li><a href=
    "ftp://ftp.phred.org/pub/vile/">ftp://ftp.phred.org/pub/vile/</a></li>
  </ul>

  <p>There are also links on vile's homepage, for both ftp and http
  connections for the most often used executables and sources.</p>

  <p>Development patches are found at<br></p>

  <ul>
    <li><a href=
    "ftp://invisible-island.net/vile/patches/">ftp://invisible-island.net/vile/patches/</a></li>

    <li><a href=
    "ftp://ftp.phred.org/pub/vile/patches/">ftp://ftp.phred.org/pub/vile/patches/</a></li>
  </ul>

  <p>In addition, we have distributed copies at other sites,
  including metalabs.unc.edu (Linux), hobbes.nmsu.edu (OS/2) and
  the VMS Freeware CDROM's.</p>

  <h2 id="problems2"><a name="problems" id=
  "problems">Problems</a></h2>

  <p>Submit bug reports via the project mailing list, or via the
  web-based bug reporting system. Both of these are available
  here:<br>
  https://savannah.nongnu.org/projects/vile</p>

  <p>Subscribing to the mailing list is also the best way to keep
  informed of new releases.</p>

  <h2 id="online-help2"><a name="online-help" id=
  "online-help">Online resources</a></h2>

  <p>This information is also available online:</p>

  <ul>
    <li><a href=
    "http://invisible-island.net/vile/vile-toc.html">http://invisible-island.net/vile/vile-toc.html</a>
    (table of contents)</li>

    <li><a href=
    "http://invisible-island.net/vile/vile-hlp.html">http://invisible-island.net/vile/vile-hlp.html</a>
    (this file)</li>
  </ul>

  <h2 id="copying2"><a name="copying" id=
  "copying">Copyright</a></h2>

  <p>Copyright &copy; 1995-2012,2013 by Paul Fox, Thomas Dickey,
  and Kevin Buettner</p>
</body>
</html>
